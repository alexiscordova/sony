<!DOCTYPE html>  <html> <head>   <title>tertiary-t1-t5-module.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="brightcove-builder.html">                 brightcove-builder.js               </a>                                           <a class="source" href="editorial-dual-viewer-e9.html">                 editorial-dual-viewer-e9.js               </a>                                           <a class="source" href="form-actions.html">                 form-actions.js               </a>                                           <a class="source" href="global-nav.html">                 global-nav.js               </a>                                           <a class="source" href="hotspot_explorer.html">                 hotspot_explorer.js               </a>                                           <a class="source" href="jquery.viewport.html">                 jquery.viewport.js               </a>                                           <a class="source" href="one-sony-carousel-s2.html">                 one-sony-carousel-s2.js               </a>                                           <a class="source" href="primary-tout-p1-d7.html">                 primary-tout-p1-d7.js               </a>                                           <a class="source" href="related-products.html">                 related-products.js               </a>                                           <a class="source" href="sony-gallery.html">                 sony-gallery.js               </a>                                           <a class="source" href="spec-multi-z2.html">                 spec-multi-z2.js               </a>                                           <a class="source" href="spec-single-z1.html">                 spec-single-z1.js               </a>                                           <a class="source" href="tertiary-t1-t5-module.html">                 tertiary-t1-t5-module.js               </a>                                           <a class="source" href="ux-marketing-convergence-e14.html">                 ux-marketing-convergence-e14.js               </a>                                           <a class="source" href="exports.html">                 exports.js               </a>                                           <a class="source" href="iq.html">                 iq.js               </a>                                           <a class="source" href="sony-global-analytics.html">                 sony-global-analytics.js               </a>                                           <a class="source" href="sony-global-environment.html">                 sony-global-environment.js               </a>                                           <a class="source" href="sony-global-settings.html">                 sony-global-settings.js               </a>                                           <a class="source" href="sony-global-utilities.html">                 sony-global-utilities.js               </a>                                           <a class="source" href="sony-global.html">                 sony-global.js               </a>                                           <a class="source" href="debug_toggle.html">                 debug_toggle.js               </a>                                           <a class="source" href="jodo.rangecontrol.1.4.html">                 jodo.rangecontrol.1.4.js               </a>                                           <a class="source" href="jquery.shuffle.html">                 jquery.shuffle.js               </a>                                           <a class="source" href="jquery.simpleknob.html">                 jquery.simpleknob.js               </a>                                           <a class="source" href="jquery.simplescroll.html">                 jquery.simplescroll.js               </a>                                           <a class="source" href="sony-draggable.html">                 sony-draggable.js               </a>                                           <a class="source" href="sony-evenheights.html">                 sony-evenheights.js               </a>                                           <a class="source" href="sony-navigationdots.html">                 sony-navigationdots.js               </a>                                           <a class="source" href="sony-paddles.html">                 sony-paddles.js               </a>                                           <a class="source" href="sony-scroller.html">                 sony-scroller.js               </a>                                           <a class="source" href="sony-sequencer.html">                 sony-sequencer.js               </a>                                           <a class="source" href="sony-stickytabs.html">                 sony-stickytabs.js               </a>                                           <a class="source" href="sony-tab.html">                 sony-tab.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               tertiary-t1-t5-module.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="comment">/*global jQuery, Modernizr, Sequencer*/</span>

</pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h2>Sony Tertiary Content Container</h2>

<ul>
<li><strong>Module:</strong> Tertiary Module</li>
<li><strong>Version:</strong> 0.1</li>
<li><strong>Modified:</strong> 03/05/2013</li>
<li><strong>Author:</strong> Telly Koosis</li>
<li><strong>Dependencies:</strong> jQuery 1.7+, Modernizr, <a href="sony-iscroll.html">sony-iscroll.js</a>, <a href="sony-scroller.html">sony-scroller.js</a>, <a href="sony-sequencer.html">sony-sequencer.js</a></li>
</ul>

<p><em>Example Usage:</em>
     Automatic detection of .tcc-scroller on page
     $('.tcc-wrapper').tertiaryModule({}).data('tertiaryModule');</p>             </td>             <td class="code">               <div class="highlight"><pre>
(<span class="keyword">function</span>($, Modernizr, window, <span class="literal">undefined</span>) {

    <span class="string">'use strict'</span>;

    <span class="keyword">var</span> TertiaryModule = <span class="keyword">function</span>(element, options){
      <span class="keyword">var</span> self                 = <span class="keyword">this</span>;

      $.extend(self, {}, $.fn.tertiaryModule.defaults, options, $.fn.tertiaryModule.settings);

</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>INITS, SELECTORS</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.$win                           = SONY.$window;
      self.isTouch                        = SONY.Settings.hasTouchEvents || SONY.Settings.hasPointerEvents;
      self.isLayoutHidden                 = <span class="literal">false</span>;
      self.isInit                         = <span class="literal">true</span>;
      self.heightsAdjusted                = <span class="literal">false</span>;
      self.mode                           = <span class="literal">null</span>;
      self.prevMode                       = <span class="literal">null</span>;
      self.$scrollerInstance              = <span class="literal">null</span>;

</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>CACHED CLASSES &amp; TYPES</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.contentModulesClass            = <span class="string">'.tcc-content-module'</span>;
      self.contentSelectorClass           = <span class="string">'.tcc-body'</span>;
      self.desktopClasses                 = <span class="string">'span4'</span>;
      self.centerContentArr               = [<span class="string">'flickr:default'</span>,<span class="string">'sonys-voice:instagram'</span>,<span class="string">'sonys-voice:twitter'</span>,<span class="string">'sonys-voice:facebook'</span>];

</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>SELECTORS</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.$container                     = $( element );
      self.$el                            = self.$container.find(<span class="string">".tcc-scroller"</span>);
      self.containerId                    = <span class="string">'#'</span> + self.$container.attr(<span class="string">"id"</span>);
      self.$tccHeaderWrapper              = self.$container.find(<span class="string">'.tcc-header-wrapper'</span>);
      self.$tccHeader                     = self.$tccHeaderWrapper.find(<span class="string">".tcc-header"</span>);
      self.$tccBodyWrapper                = self.$el;
      self.$tccBody                       = self.$tccBodyWrapper.find(self.contentSelectorClass);
      self.$contentModules                = self.$el.find(self.contentModulesClass);
      self.$hideShowEls                   = self.$tccBodyWrapper.add(self.$tccBody).add(self.$contentModules);
      self.$loader                        = self.$container.find(<span class="string">".loader"</span>);

</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>EVENTS
Namespaced versions of global events</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.tccNamespace                   = <span class="string">'.tcc'</span>;
      self.debounceBeforeEvent            = <span class="string">'global:resizeDebouncedAtBegin-200ms'</span> + self.tccNamespace;
      self.debounceEvent                  = <span class="string">'global:resizeDebounced-200ms'</span> + self.tccNamespace;

</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>PROXY CALLS</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.beforeResizeFunc               = $.proxy( self.beforeResize, self );
      self.afterResizeFunc                = $.proxy( self.afterResize, self );
      self.onImagesLoaded                 = $.proxy( self.setCenterContentHeight, self);

</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>TIMING</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.afterResizeSpeed               = <span class="number">200</span>;
      self.setupSpeed                     = <span class="number">200</span>;
      self.teardownSpeed                  = <span class="number">50</span>;
      self.hideAllSpeed                   = <span class="number">50</span>;
      self.showAllSpeed                   = <span class="number">200</span>;
      self.animationSpeed                 = <span class="number">200</span>;

</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>BREAKPOINT CONSTANTS</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.SONY_TCC_PHONE_BREAKPOINT      = <span class="number">479</span>;
      self.SONY_TCC_TABLET_BREAKPOINT_MIN = <span class="number">480</span>;
      self.SONY_TCC_TABLET_BREAKPOINT_MAX = <span class="number">979</span>; <span class="comment">// 767</span>

</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Breakpoints in ems</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.phoneBreakpointEm              = SONY.Utilities.pxToEm(self.SONY_TCC_PHONE_BREAKPOINT);
      self.tabletBreakpointMinEm          = SONY.Utilities.pxToEm(self.SONY_TCC_TABLET_BREAKPOINT_MIN);
      self.tabletBreakpointMaxEm          = SONY.Utilities.pxToEm(self.SONY_TCC_TABLET_BREAKPOINT_MAX);

</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>GRID &amp; SPACING</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.marginPercent                  = Number(<span class="string">'.034'</span>); <span class="comment">// 22/650 (at 2-up)</span>
      self.contentInnerMargin             = <span class="number">22</span>;


</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>register listener for global debounce to call method <strong>before</strong> debounce begins</p>             </td>             <td class="code">               <div class="highlight"><pre>      SONY.on(self.debounceBeforeEvent, self.beforeResizeFunc);

</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>register listener for global debounce to call method <strong>after</strong> debounce begins</p>             </td>             <td class="code">               <div class="highlight"><pre>      SONY.on(self.debounceEvent, self.afterResizeFunc);

</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>register for when images are loaded to determine centering</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.$el.find(<span class="string">'.iq-img'</span>).on(<span class="string">'imageLoaded.tcc'</span>, $.debounce( <span class="number">400</span>,  self.onImagesLoaded ));


      self.$el.find(<span class="string">'.iq-img'</span>).on(<span class="string">'iQ:imageLoaded'</span>, <span class="keyword">function</span>(){
       $(<span class="keyword">this</span>).parent().addClass(<span class="string">'on'</span>);
      });

</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>start it all</p>             </td>             <td class="code">               <div class="highlight"><pre>      self.init();

      log(<span class="string">'SONY : TertiaryModule : Initialized'</span>);

    };

    TertiaryModule.prototype = {
      constructor: TertiaryModule,

      init : <span class="keyword">function</span>() {

        <span class="keyword">var</span> self = <span class="keyword">this</span>;

        self.setMode();

</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>if screen size is in mobile (tablet, phone) mode then create a scroller</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>(self.mode !== <span class="string">'desktop'</span>){
          self.setup();
        }

</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>self.setCenterContentHeight();</p>             </td>             <td class="code">               <div class="highlight"><pre>
      },

</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p>controller for scroller setup</p>             </td>             <td class="code">               <div class="highlight"><pre>      setup : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self      = <span class="keyword">this</span>,
            setupSequence = <span class="keyword">new</span> Sequencer();

</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>remove desktop spans if there are any</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>(self.$contentModules.hasClass(self.desktopClasses)){
          setupSequence.add( self, self.removeDesktopClasses, self.setupSpeed);
        }

</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p>set content module sizes</p>             </td>             <td class="code">               <div class="highlight"><pre>        setupSequence.add( self, self.setContentModuleSizes, self.setupSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>set scroller &amp; iscroll options</p>             </td>             <td class="code">               <div class="highlight"><pre>        setupSequence.add( self, self.setScrollerOptions, self.setupSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>create scroller instance</p>             </td>             <td class="code">               <div class="highlight"><pre>        setupSequence.add( self, self.createScroller, self.setupSpeed );

        <span class="keyword">if</span>(self.mode === <span class="string">"tablet"</span>){
</pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <p>adjusts margins after content modules are absolute positioned</p>             </td>             <td class="code">               <div class="highlight"><pre>          setupSequence.add( self, self.adjustPositionForMargins, self.setupSpeed );
        }

        <span class="keyword">if</span>(!self.heightsAdjusted){
</pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>set heights for inner centering</p>             </td>             <td class="code">               <div class="highlight"><pre>          setupSequence.add( self, self.setCenterContentHeight, self.setupSpeed + <span class="number">100</span>);
        }

</pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>show the elements if they've beenh hidden</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>(self.isLayoutHidden){
</pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>show contents again after transition</p>             </td>             <td class="code">               <div class="highlight"><pre>          setupSequence.add( self, self.showAll, self.setupSpeed);

</pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>use very sparingly</p>             </td>             <td class="code">               <div class="highlight"><pre>          SONY.Utilities.forceWebkitRedraw();
        }

</pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>start sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>        setupSequence.start();
      },

</pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>teardown controller</p>             </td>             <td class="code">               <div class="highlight"><pre>      teardown : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self         = <span class="keyword">this</span>,
        teardownSequence = <span class="keyword">new</span> Sequencer();

</pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>reset after every teardown</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.heightsAdjusted = <span class="literal">false</span>;

</pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>teardown sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>((self.mode === <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode != <span class="string">'desktop'</span>)){
</pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>for desktop clear out width</p>             </td>             <td class="code">               <div class="highlight"><pre>          teardownSequence.add( self, self.clearContentWidth, self.teardownSpeed );
        }

</pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>destroy scroller instance</p>             </td>             <td class="code">               <div class="highlight"><pre>        teardownSequence.add( self, self.destroyScroller, self.teardownSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>if we're going from "mobile" to desktop
then add grid spans back in
set heights for inner centering</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>((self.mode === <span class="string">"desktop"</span>) &amp;&amp; (self.prevMode !== <span class="string">"desktop"</span>)){
          teardownSequence.add( self, self.addDesktopClasses, self.setupSpeed);
          teardownSequence.add( self, self.setCenterContentHeight, self.setupSpeed + <span class="number">100</span>);
        }

</pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>start sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>        teardownSequence.start();
      },

</pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>Hide scroller content for transition</p>             </td>             <td class="code">               <div class="highlight"><pre>      hideAll : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;

        <span class="keyword">var</span> hideSequence = <span class="keyword">new</span> Sequencer();

</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>hide elements</p>             </td>             <td class="code">               <div class="highlight"><pre>        hideSequence.add( self, self.hideElements, self.hideAllSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>show loader</p>             </td>             <td class="code">               <div class="highlight"><pre>        hideSequence.add( self, self.showLoader, self.hideAllSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>start sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>        hideSequence.start();
      },

</pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>Show scroller content after transition</p>             </td>             <td class="code">               <div class="highlight"><pre>      showAll : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;

        <span class="keyword">var</span> showSequence = <span class="keyword">new</span> Sequencer();

</pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>hide loader</p>             </td>             <td class="code">               <div class="highlight"><pre>        showSequence.add( self, self.hideLoader, self.showAllSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>show elements after resize is done</p>             </td>             <td class="code">               <div class="highlight"><pre>        showSequence.add( self, self.showElements, self.showAllSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <p>start sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>        showSequence.start();
      },

</pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <p>show loading animation layer</p>             </td>             <td class="code">               <div class="highlight"><pre>      showLoader : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;
        self.$loader.show();
      },

</pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <p>hide loading animation layer</p>             </td>             <td class="code">               <div class="highlight"><pre>      hideLoader : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;
        self.$loader.hide();
      },

</pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <p>adds grid classes back in</p>             </td>             <td class="code">               <div class="highlight"><pre>      addDesktopClasses : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;
        self.$contentModules.addClass(self.desktopClasses);
      },

</pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <p>takes out grid-specific classes (scroller is out of grid)</p>             </td>             <td class="code">               <div class="highlight"><pre>      removeDesktopClasses : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;
        self.$contentModules.removeClass(self.desktopClasses);
      },

</pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <p>hide $elements: opacity &amp; visibility</p>             </td>             <td class="code">               <div class="highlight"><pre>      hideElements : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self  = <span class="keyword">this</span>,
        $els = self.$hideShowEls;

</pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <p>hide content modules</p>             </td>             <td class="code">               <div class="highlight"><pre>        $els.css({
          <span class="string">'opacity'</span> : <span class="number">0</span>,
          <span class="string">'visibility'</span> : <span class="string">'hidden'</span>
        });

</pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>set bool once it's done</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.isLayoutHidden = <span class="literal">true</span>;
      },

</pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <p>show $els: opacity &amp; visibility</p>             </td>             <td class="code">               <div class="highlight"><pre>      showElements : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>,
            $els = self.$hideShowEls;

</pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <p>TODO: expand this out</p>             </td>             <td class="code">               <div class="highlight"><pre>        $els.stop(<span class="literal">true</span>,<span class="literal">true</span>).animate({ opacity: <span class="number">1</span> },{ duration: self.animationSpeed , complete: <span class="keyword">function</span>(){$els.css({<span class="string">"visibility"</span>:<span class="string">"visible"</span>});}});

</pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <p>set bool once it's done</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.isLayoutHidden = <span class="literal">false</span>;
      },

</pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <p>instantiate a scroller</p>             </td>             <td class="code">               <div class="highlight"><pre>      createScroller : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self=<span class="keyword">this</span>;
        self.$scrollerInstance = self.$el.scrollerModule( self.scrollerOptions );
      },

</pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <p>destroy scroller if not in mobile</p>             </td>             <td class="code">               <div class="highlight"><pre>      destroyScroller : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self  = <span class="keyword">this</span>;

        self.$scrollerInstance.scrollerModule(<span class="string">'destroy'</span>);
        self.$scrollerInstance = <span class="literal">null</span>;
      },

</pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <p>clean up residual style elements after teardown</p>             </td>             <td class="code">               <div class="highlight"><pre>      clearContentWidth : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self  = <span class="keyword">this</span>;

</pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <p>clear out content module widths to be responsive</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.$contentModules.css(<span class="string">'width'</span>,<span class="string">''</span>);
      },

</pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <p>set scroller options to be passed to sony-scroller
based on current mode</p>             </td>             <td class="code">               <div class="highlight"><pre>      setScrollerOptions : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;

</pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <p>all general settings are set as default options</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.scrollerOptions = self.options;

</pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <p>now that we know mode, add it as option.</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.scrollerOptions.fitPerPage = self.mode === <span class="string">'phone'</span> ? <span class="number">1</span> : <span class="number">2</span>;

</pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <p>if it is a touch device, do not use paddle navigation only use swipe</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.scrollerOptions.generateNav = !(self.isTouch);
      },

</pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <p>determine left and right margin total</p>             </td>             <td class="code">               <div class="highlight"><pre>      getHorizontalMargins : <span class="keyword">function</span>( $selector ){
</pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <p>outer width with margins subtracted by width without margins = margins</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">return</span> Math.round(Number($selector.outerWidth(<span class="literal">true</span>) - $selector.outerWidth()));
      },

</pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <p>on every (debounced) resize event determine size of each content module</p>             </td>             <td class="code">               <div class="highlight"><pre>
      setContentModuleSizes : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self               = <span class="keyword">this</span>,
        $elements              = self.$contentModules,
        eachContentWidth       = Math.round(self.$tccHeader.innerWidth()); <span class="comment">// no margins</span>

</pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <p>tablet is 2-up and split evenly
and also "padding" is added between the two
which is really narrowing the content mod's width a bit
and compensating for the width change by adjusting the left position
accomplished in self.adjustPositionForMargins()</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>(self.mode === <span class="string">'tablet'</span>){
           eachContentWidth = Math.round((eachContentWidth / <span class="number">2</span>) - (self.contentInnerMargin / <span class="number">2</span>));
        }

</pre></div>             </td>           </tr>                               <tr id="section-66">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-66">&#182;</a>               </div>               <p>phone is 1-up
if(self.mode === 'phone'){
  // eachContentWidth's default is "100%" of the available space
  // so no changes are needed for 1-up</p>             </td>             <td class="code">               <div class="highlight"><pre>
</pre></div>             </td>           </tr>                               <tr id="section-67">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-67">&#182;</a>               </div>               <p>// check if we need to set width of specific children elements
  //$elements = self.addDynamicWidthElements( $elements );
}</p>             </td>             <td class="code">               <div class="highlight"><pre>
</pre></div>             </td>           </tr>                               <tr id="section-68">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-68">&#182;</a>               </div>               <p>set each content module's width</p>             </td>             <td class="code">               <div class="highlight"><pre>        $elements.each(<span class="keyword">function</span>() {
          $(<span class="keyword">this</span>).innerWidth(eachContentWidth);
        });
      },

      setCenterContentHeight : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;

</pre></div>             </td>           </tr>                               <tr id="section-69">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-69">&#182;</a>               </div>               <p>prevents redundancy</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>(!self.heightsAdjusted){

</pre></div>             </td>           </tr>                               <tr id="section-70">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-70">&#182;</a>               </div>               <p>loop through the content modules</p>             </td>             <td class="code">               <div class="highlight"><pre>          self.$contentModules.each(<span class="keyword">function</span>() {
            <span class="keyword">var</span> $el = $(<span class="keyword">this</span>),
                modeType = $el.data(<span class="string">"tcc-content-type"</span>) + <span class="string">':'</span> + $el.data(<span class="string">"tcc-content-mode"</span>);


</pre></div>             </td>           </tr>                               <tr id="section-71">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-71">&#182;</a>               </div>               <p>if the modetype is in the array</p>             </td>             <td class="code">               <div class="highlight"><pre>            <span class="keyword">if</span>(self.centerContentArr.indexOf(modeType) &gt;= <span class="number">0</span>){
              <span class="keyword">var</span> $sampleContent   = $el,
              $centerContainer     = $sampleContent.find(<span class="string">'.center'</span>),
              $imageContainer      = $centerContainer.find(<span class="string">'.image-container'</span>),
              containerHeight      = $sampleContent.innerHeight(),
              topHeight            = $sampleContent.find(<span class="string">'.top'</span>).outerHeight(),
              bottomHeight         = $sampleContent.find(<span class="string">'.bottom'</span>).outerHeight(),
              newCenterHeight      = Math.round(containerHeight - (topHeight + bottomHeight)),
              imageContainerHeight = $imageContainer.outerHeight(),
              imgContainerTop;

</pre></div>             </td>           </tr>                               <tr id="section-72">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-72">&#182;</a>               </div>               <p>check boundaries</p>             </td>             <td class="code">               <div class="highlight"><pre>              newCenterHeight = self.checkHeightBoundaries(newCenterHeight, modeType);

</pre></div>             </td>           </tr>                               <tr id="section-73">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-73">&#182;</a>               </div>               <p>calculate margin top for image container</p>             </td>             <td class="code">               <div class="highlight"><pre>              imgContainerTop = Math.round(((newCenterHeight/<span class="number">2</span>) - (imageContainerHeight/<span class="number">2</span>)));

</pre></div>             </td>           </tr>                               <tr id="section-74">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-74">&#182;</a>               </div>               <p>margin should never be negative</p>             </td>             <td class="code">               <div class="highlight"><pre>              imgContainerTop = imgContainerTop &lt; <span class="number">0</span> ? <span class="number">0</span> : imgContainerTop;

</pre></div>             </td>           </tr>                               <tr id="section-75">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-75">&#182;</a>               </div>               <p>set center div container height</p>             </td>             <td class="code">               <div class="highlight"><pre>              $centerContainer.height(newCenterHeight);

</pre></div>             </td>           </tr>                               <tr id="section-76">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-76">&#182;</a>               </div>               <p>set image container margin top to "center"</p>             </td>             <td class="code">               <div class="highlight"><pre>              $imageContainer.css(<span class="string">'margin-top'</span>, imgContainerTop + <span class="string">'px'</span>);
            }

          });

</pre></div>             </td>           </tr>                               <tr id="section-77">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-77">&#182;</a>               </div>               <p>reduce redundant adjustments</p>             </td>             <td class="code">               <div class="highlight"><pre>          self.heightsAdjusted = <span class="literal">true</span>;

        }
      },

</pre></div>             </td>           </tr>                               <tr id="section-78">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-78">&#182;</a>               </div>               <p>enforce height boundaries at different breakpoints</p>             </td>             <td class="code">               <div class="highlight"><pre>      checkHeightBoundaries : <span class="keyword">function</span>(h, modeType){
        <span class="keyword">var</span> self = <span class="keyword">this</span>,
            max;

        <span class="keyword">switch</span> (self.mode) {
          <span class="keyword">case</span> <span class="string">"desktop"</span>:
            max = <span class="number">250</span>;
            <span class="keyword">break</span>;
          <span class="keyword">case</span> <span class="string">"tablet"</span>:
            max = modeType === <span class="string">'sonys-voice:instagram'</span> ? <span class="number">140</span> : <span class="number">173</span>;
            <span class="keyword">break</span>;
          <span class="keyword">case</span> <span class="string">"phone"</span>:
            max = <span class="number">160</span>;
            <span class="keyword">break</span>;
          <span class="keyword">default</span>:
            max = h;
            <span class="keyword">break</span>;
        }

        h = h &gt; max ? max: h;

        <span class="keyword">return</span> h;
      },

      <span class="comment">/**
       * Get availble container width from header (because it's still in the grid)
       * For each content module, adjust current left position to accomodate new margins on resize
       * Assumes exactly three modules always
       * @return none
       */</span>
      adjustPositionForMargins : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self       = <span class="keyword">this</span>,
        headerLeftRightMargins = self.contentInnerMargin,<span class="comment">//self.getHorizontalMargins(self.$tccHeader),</span>
        $content, newLeft, contentPosition, contentLeft;

        self.$contentModules.each(<span class="keyword">function</span>(i) {
          $content = $(self.$contentModules[i]); <span class="comment">// content module</span>
          contentPosition = $content.position(); <span class="comment">// current position object</span>
          contentLeft = Number(contentPosition.left); <span class="comment">// content module left position</span>

          <span class="keyword">if</span>((i === <span class="number">0</span>) || (i === <span class="number">2</span>)){
</pre></div>             </td>           </tr>                               <tr id="section-79">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-79">&#182;</a>               </div>               <p>first / last content module move left</p>             </td>             <td class="code">               <div class="highlight"><pre>            newLeft = Math.round(Number(contentLeft - (headerLeftRightMargins/<span class="number">2</span>)));
          }<span class="keyword">else</span>{
</pre></div>             </td>           </tr>                               <tr id="section-80">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-80">&#182;</a>               </div>               <p>second content module move right</p>             </td>             <td class="code">               <div class="highlight"><pre>            newLeft = Math.round(Number(contentLeft + (headerLeftRightMargins/<span class="number">2</span>)));
          }

</pre></div>             </td>           </tr>                               <tr id="section-81">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-81">&#182;</a>               </div>               <p>set new left position</p>             </td>             <td class="code">               <div class="highlight"><pre>          $content.offset({left:newLeft});

        });
      },

      <span class="comment">/**
       * if resize is not going from desktop to desktop then hide elements for rebuild.
       * in other words:
       ** if we're in mobile entering desktop
       ** or if we're in desktop entering mobile
       ** or if we're in tablet entering phone or phone entering tablet
       * @return [nothing]
       */</span>
      beforeResize : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;

</pre></div>             </td>           </tr>                               <tr id="section-82">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-82">&#182;</a>               </div>               <p>TODO: if needed, hide on init and desktop to mobile</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="keyword">if</span> (((self.mode === <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode != <span class="string">'desktop'</span>)) || ((self.mode != <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode === <span class="string">'desktop'</span>)) || ((self.mode != <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode != <span class="string">'desktop'</span>))){
</pre></div>             </td>           </tr>                               <tr id="section-83">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-83">&#182;</a>               </div>               <p>if (!((self.mode === 'desktop') &amp;&amp; (self.prevMode === 'desktop'))){
trigger hide sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>          self.hideAll();
        }
      },

</pre></div>             </td>           </tr>                               <tr id="section-84">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-84">&#182;</a>               </div>               <p>on resize event (debounced) determine what to do</p>             </td>             <td class="code">               <div class="highlight"><pre>      afterResize : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>,
            resizeMobileSequencer = <span class="keyword">new</span> Sequencer();

</pre></div>             </td>           </tr>                               <tr id="section-85">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-85">&#182;</a>               </div>               <p>update mode at current break point</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.setMode();

</pre></div>             </td>           </tr>                               <tr id="section-86">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-86">&#182;</a>               </div>               <p>what direction are we going?</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span>((self.mode != <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode === <span class="string">'desktop'</span>)){
</pre></div>             </td>           </tr>                               <tr id="section-87">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-87">&#182;</a>               </div>               <p>from desktop to mobile</p>             </td>             <td class="code">               <div class="highlight"><pre>
</pre></div>             </td>           </tr>                               <tr id="section-88">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-88">&#182;</a>               </div>               <p>set to false b/c it was set to true in desktop</p>             </td>             <td class="code">               <div class="highlight"><pre>          self.heightsAdjusted = <span class="literal">false</span>;

</pre></div>             </td>           </tr>                               <tr id="section-89">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-89">&#182;</a>               </div>               <p>build new (assumes there's no scroller instance)</p>             </td>             <td class="code">               <div class="highlight"><pre>          resizeMobileSequencer.add( self, self.setup, self.afterResizeSpeed );
        }<span class="keyword">else</span> <span class="keyword">if</span> ((self.mode != <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode != <span class="string">'desktop'</span>)){
</pre></div>             </td>           </tr>                               <tr id="section-90">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-90">&#182;</a>               </div>               <p>from mobile to mobile</p>             </td>             <td class="code">               <div class="highlight"><pre>
</pre></div>             </td>           </tr>                               <tr id="section-91">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-91">&#182;</a>               </div>               <p>teardown</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="keyword">if</span>(self.$scrollerInstance){
            resizeMobileSequencer.add( self, self.teardown, self.afterResizeSpeed );
          }

</pre></div>             </td>           </tr>                               <tr id="section-92">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-92">&#182;</a>               </div>               <p>build new scroller instance (assumes there's no scroller instance)</p>             </td>             <td class="code">               <div class="highlight"><pre>          resizeMobileSequencer.add( self, self.setup, self.afterResizeSpeed);
        }<span class="keyword">else</span> <span class="keyword">if</span>((self.mode === <span class="string">'desktop'</span>) &amp;&amp; (self.prevMode != <span class="string">'desktop'</span>)){
</pre></div>             </td>           </tr>                               <tr id="section-93">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-93">&#182;</a>               </div>               <p>from mobile to desktop</p>             </td>             <td class="code">               <div class="highlight"><pre>
</pre></div>             </td>           </tr>                               <tr id="section-94">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-94">&#182;</a>               </div>               <p>teardown</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="keyword">if</span>(self.$scrollerInstance){
            resizeMobileSequencer.add( self, self.teardown, self.afterResizeSpeed );
          }
        }

</pre></div>             </td>           </tr>                               <tr id="section-95">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-95">&#182;</a>               </div>               <p>show the elements again</p>             </td>             <td class="code">               <div class="highlight"><pre>        resizeMobileSequencer.add( self, self.showAll, self.afterResizeSpeed );

</pre></div>             </td>           </tr>                               <tr id="section-96">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-96">&#182;</a>               </div>               <p>start sequence</p>             </td>             <td class="code">               <div class="highlight"><pre>        resizeMobileSequencer.start();
      },

</pre></div>             </td>           </tr>                               <tr id="section-97">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-97">&#182;</a>               </div>               <p>set mode based on current breakpoint</p>             </td>             <td class="code">               <div class="highlight"><pre>      setMode : <span class="keyword">function</span>(){
        <span class="keyword">var</span> self = <span class="keyword">this</span>;

</pre></div>             </td>           </tr>                               <tr id="section-98">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-98">&#182;</a>               </div>               <p>archive current mode to use in directional situations
ex. desktop entering mobile (phone or desktop)
ex. mobile entering desktop</p>             </td>             <td class="code">               <div class="highlight"><pre>        self.prevMode = self.mode;

        <span class="keyword">if</span>( Modernizr.mq(<span class="string">'(max-width:'</span>+ self.phoneBreakpointEm + <span class="string">')'</span>) ){
          self.mode = <span class="string">'phone'</span>;
        }<span class="keyword">else</span> <span class="keyword">if</span> ( Modernizr.mq(<span class="string">'(min-width:'</span> + self.tabletBreakpointMinEm + <span class="string">') and (max-width:'</span> + self.tabletBreakpointMaxEm + <span class="string">')'</span>) ) {
          self.mode = <span class="string">'tablet'</span>;
        }<span class="keyword">else</span>{
          self.mode = <span class="string">'desktop'</span>;
        }

        <span class="keyword">if</span>(self.prevMode === <span class="literal">null</span>){
</pre></div>             </td>           </tr>                               <tr id="section-99">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-99">&#182;</a>               </div>               <p>handle init</p>             </td>             <td class="code">               <div class="highlight"><pre>          self.prevMode = self.mode;
        }
      }

    };

</pre></div>             </td>           </tr>                               <tr id="section-100">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-100">&#182;</a>               </div>               <p>Plugin definition</p>             </td>             <td class="code">               <div class="highlight"><pre>    $.fn.tertiaryModule = <span class="keyword">function</span>( options ) {
      <span class="keyword">var</span> args = Array.prototype.slice.call( arguments, <span class="number">1</span> );
      <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="keyword">function</span>() {
        <span class="keyword">var</span> self = $(<span class="keyword">this</span>),
          tertiaryModule = self.data(<span class="string">'tertiaryModule'</span>);

</pre></div>             </td>           </tr>                               <tr id="section-101">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-101">&#182;</a>               </div>               <p>If we don't have a stored tertiaryModule, make a new one and save it</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="keyword">if</span> ( !tertiaryModule ) {
            tertiaryModule = <span class="keyword">new</span> TertiaryModule( self, options );
            self.data( <span class="string">'tertiaryModule'</span>, tertiaryModule );
        }

        <span class="keyword">if</span> ( <span class="keyword">typeof</span> options === <span class="string">'string'</span> ) {
          tertiaryModule[ options ].apply( tertiaryModule, args );
        }
      });
    };

</pre></div>             </td>           </tr>                               <tr id="section-102">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-102">&#182;</a>               </div>               <p>Defaults options for the module</p>             </td>             <td class="code">               <div class="highlight"><pre>    $.fn.tertiaryModule.defaults = {
      options : {
        contentSelector: <span class="string">".tcc-body"</span>,
        itemElementSelector: <span class="string">".tcc-content-module"</span>,
        appendBulletsTo:<span class="string">".tcc-wrapper"</span>,
        mode: <span class="string">'paginate'</span>,
        generatePagination: <span class="literal">true</span>,
        centerItems: <span class="literal">true</span>,

        iscrollProps: {
          snap: <span class="literal">true</span>,
          hScrollbar: <span class="literal">false</span>,
          vScrollbar: <span class="literal">false</span>
        }
      }
    };

</pre></div>             </td>           </tr>                               <tr id="section-103">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-103">&#182;</a>               </div>               <p>wait to init until all js has loaded.</p>             </td>             <td class="code">               <div class="highlight"><pre>    SONY.on(<span class="string">'global:ready'</span>, <span class="keyword">function</span>(){
      <span class="keyword">var</span> isIE = $(<span class="string">"html"</span>).hasClass(<span class="string">"lt-ie10"</span>);

</pre></div>             </td>           </tr>                               <tr id="section-104">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-104">&#182;</a>               </div>               <p>do not enable scroller features if in IE</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="keyword">if</span>(!isIE){
        $(<span class="string">'.tcc-wrapper'</span>).each(<span class="keyword">function</span>() {
          $(<span class="keyword">this</span>).tertiaryModule({}).data(<span class="string">'tertiaryModule'</span>);
        });
      }

      <span class="keyword">if</span>(isIE){
</pre></div>             </td>           </tr>                               <tr id="section-105">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-105">&#182;</a>               </div>               <p>no iQ:imageLoaded event will be fired so add the "on" class to images (bypass fade in)</p>             </td>             <td class="code">               <div class="highlight"><pre>        $(<span class="string">'[data-tcc-content-type="article"][data-tcc-content-mode="featured"]'</span>).addClass(<span class="string">'on'</span>);
      }

    });

 })(jQuery, Modernizr, window, <span class="literal">undefined</span>);

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 