<!DOCTYPE html>  <html> <head>   <title>sony-evenheights.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="debug_toggle.html">                 debug_toggle.js               </a>                                           <a class="source" href="form-actions.html">                 form-actions.js               </a>                                           <a class="source" href="jodo.rangecontrol.1.4.html">                 jodo.rangecontrol.1.4.js               </a>                                           <a class="source" href="jquery.shuffle.html">                 jquery.shuffle.js               </a>                                           <a class="source" href="jquery.simpleknob.html">                 jquery.simpleknob.js               </a>                                           <a class="source" href="jquery.simplescroll.html">                 jquery.simplescroll.js               </a>                                           <a class="source" href="jquery.viewport.html">                 jquery.viewport.js               </a>                                           <a class="source" href="sony-carousel-fade.html">                 sony-carousel-fade.js               </a>                                           <a class="source" href="sony-carousel.html">                 sony-carousel.js               </a>                                           <a class="source" href="sony-draggable.html">                 sony-draggable.js               </a>                                           <a class="source" href="sony-evenheights.html">                 sony-evenheights.js               </a>                                           <a class="source" href="sony-favorites.html">                 sony-favorites.js               </a>                                           <a class="source" href="sony-navigationdots.html">                 sony-navigationdots.js               </a>                                           <a class="source" href="sony-paddles.html">                 sony-paddles.js               </a>                                           <a class="source" href="sony-scroller.html">                 sony-scroller.js               </a>                                           <a class="source" href="sony-sequencer.html">                 sony-sequencer.js               </a>                                           <a class="source" href="sony-stickyheaders.html">                 sony-stickyheaders.js               </a>                                           <a class="source" href="sony-stickynav.html">                 sony-stickynav.js               </a>                                           <a class="source" href="sony-stickytabs.html">                 sony-stickytabs.js               </a>                                           <a class="source" href="sony-tab.html">                 sony-tab.js               </a>                                           <a class="source" href="sony-video.html">                 sony-video.js               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               sony-evenheights.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre>
define(<span class="keyword">function</span>(require){

  <span class="string">'use strict'</span>;

  <span class="keyword">var</span> $ = require(<span class="string">'jquery'</span>);

  $.fn.evenHeights = <span class="keyword">function</span>( options ) {
    <span class="keyword">var</span> tallest = <span class="number">0</span>;
    options = $.extend({}, $.fn.evenHeights.options, options);
    <span class="keyword">return</span> <span class="keyword">this</span>
      .css(<span class="string">'height'</span>, <span class="string">''</span>)
      .each(<span class="keyword">function</span>() {
        <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>),
            height;

        <span class="keyword">if</span> ( options.useOuterWidth ) {
          height = $<span class="keyword">this</span>.outerHeight( options.margin );

        } <span class="keyword">else</span> {
</pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Here we're using <code>.css()</code> instead of <code>height()</code> or <code>outerHeight()</code>
Chrome used to be 100x slower calculating these values</p>             </td>             <td class="code">               <div class="highlight"><pre>          height = parseFloat( $<span class="keyword">this</span>.css(<span class="string">'height'</span>) );

          <span class="keyword">if</span> ( options.padding ) {
            height += parseFloat( $<span class="keyword">this</span>.css(<span class="string">'paddingTop'</span>) ) + parseFloat( $<span class="keyword">this</span>.css(<span class="string">'paddingBottom'</span>) );
          }

          <span class="keyword">if</span> ( options.margin ) {
            height += parseFloat( $<span class="keyword">this</span>.css(<span class="string">'marginTop'</span>) ) + parseFloat( $<span class="keyword">this</span>.css(<span class="string">'marginBottom'</span>) );
          }
        }

        <span class="keyword">if</span> ( height &gt; tallest ) {
          tallest = height;
        }
      })
      .css(<span class="string">'height'</span>, tallest);
  };

  $.fn.evenHeights.options = {
    useOuterWidth: <span class="literal">true</span>,
    padding: <span class="literal">true</span>,
    margin: <span class="literal">false</span>
  };

</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>For groups of elements which should be the same height.
Using this method will create far less style recalculations and layouts
The first parameter should be an array of jQuery objects</p>             </td>             <td class="code">               <div class="highlight"><pre>  $.evenHeights = <span class="keyword">function</span>( groups, options ) {
    <span class="keyword">if</span> ( !groups.length ) {
      <span class="keyword">return</span>;
    }

    <span class="keyword">var</span> winners = [];
    options = $.extend({}, $.fn.evenHeights.options, options);

</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>First, reset the height for every element.
This is done first, otherwise we dirty the DOM on each loop!</p>             </td>             <td class="code">               <div class="highlight"><pre>    $.each( groups, <span class="keyword">function</span>( i, $elements ) {
      $elements.css(<span class="string">'height'</span>, <span class="string">''</span>);
    });

</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Now, measure heights in each group and save the tallest value
Instead of setting the height value for the entire group, we're going to save it
If it was set, the next iteration in the loop would have to recalculate styles in the DOM</p>             </td>             <td class="code">               <div class="highlight"><pre>    $.each( groups, <span class="keyword">function</span>( i, $elements ) {
      <span class="keyword">var</span> tallest = <span class="number">0</span>;
      $elements.each(<span class="keyword">function</span>() {
        <span class="keyword">var</span> height = $(<span class="keyword">this</span>).outerHeight( options.margin );

        <span class="keyword">if</span> ( height &gt; tallest ) {
          tallest = height;
        }
      });

</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Keep track of the winner!</p>             </td>             <td class="code">               <div class="highlight"><pre>      winners.push( tallest );
    });

</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Lastly, we set them all</p>             </td>             <td class="code">               <div class="highlight"><pre>    $.each( groups, <span class="keyword">function</span>( i, $elements ) {
      $elements.css( <span class="string">'height'</span>, winners[ i ] );
    });
  };
});


</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 