$(document).ready(function(){$(document).on("keydown",function(b){if(b.which===191&&b.shiftKey){$("body").toggleClass("debug");(function(j,l,f){var h=j,c=false,g=0;if(!l.getElementById("tm-window-resizer")){var m=l.createElement("div");m.style.position="fixed";m.style.zIndex="9999";m.style.bottom="0";m.style.right="0";m.style.backgroundColor="rgb(126,255,0)";m.style.height="20px";m.style.width="126px";m.style.display="block";m.id="tm-window-resizer";var d=l.createElement("p");d.style.color="#000";d.style.fontSize="11px";d.style.fontFamily="Helvetica,Arial,sans-serif";d.style.display="block";d.style.margin="4px 3px 0 7px";d.id="tm-resizer-text";m.appendChild(d);l.body.appendChild(m);var k=function(i){clearTimeout(g);g=setTimeout(function(){d.innerHTML="Window Width: "+h.innerWidth+"px"},100)};d.innerHTML="Window Width: "+h.innerWidth+"px";f(window).on("resize",k)}else{if(l.getElementById("tm-window-resizer").style.display==="none"){l.getElementById("tm-window-resizer").style.display="block"}else{l.getElementById("tm-window-resizer").style.display="none"}}})(window,document,jQuery)}})});(function(c){var b="rangecontrol";var d=function(f,h){c.extend(this,c.fn.rangeControl.defaults,h,c.fn.rangeControl.settings);var g=this,i=function(){var j=this;j.$rail=f;j.evts.down=(!j.isTouch?"mousedown":"touchstart")+"."+b;j.evts.move=(!j.isTouch?"mousemove":"touchmove")+"."+b;j.evts.up=(!j.isTouch?"mouseup":"touchend")+"."+b;if(j.$rail.css("position")==="static"){j.$rail.css("position","relative")}j.orientation=j.orientation==="v"?"v":"h";j.dimension=j.orientation==="h"?"width":"height";j.property=j.orientation==="h"?"left":"top";j.$handle=j.$handle instanceof jQuery?j.$handle:c("<span/>",{"class":"handle"});j.$handle.attr("unselectable","on").css(j.handleCss);if(j.range){j.$minHandle=j.$minHandle instanceof jQuery?j.$minHandle:c("<span/>",{"class":"handle"});j.$minHandle.data("min",true).addClass(b+"-min-handle").attr("unselectable","on").css(j.handleCss);j.$handle.data("max",true).addClass(b+"-max-handle")}if(j.$rail.find(j.$handle).length===0){j.$rail.append(j.$handle);if(j.range){j.$rail.append(j.$minHandle)}}if(j.hideHandle){j.$handle.css({opacity:"0",background:"none",border:"none"})}if(j.hideHandle&&j.hideAmbit){console.warn("**HEY!** $handle and $ambit can't both be false!")}if(!j.hideAmbit){j.$ambit=j.$ambit instanceof jQuery?j.$ambit:c("<span/>",{"class":"ambit"});if(j.$rail.find(j.$ambit).length===0){j.$rail.append(j.$ambit)}j.$ambit.css({display:"block",position:"absolute"}).css(j.property,0)}else{j.$ambit=false}},e=function(){var j=g.range?g.$handle.add(g.$minHandle):g.$handle,k=c("body");j.on("selectstart dragstart mousedown",function(){return false});j.on(g.evts.down,function(l){if(g.inMotion){return}l.preventDefault();var o=this.className.indexOf("min")>-1?g.$minHandle:g.$handle,n=!g.range?"":this.className.indexOf("min")>-1?"grabbing-min":"grabbing-max",m=g.$rail.offset();g.inMotion=true;k.addClass("grabbing "+n);o.addClass("grabbed");g.fire(g.evts.start);c(document).on(g.evts.move,function(s){s.preventDefault();var t=g.isTouch?s.originalEvent.targetTouches[0]:null,r=g.isTouch?t.pageX:s.pageX,q=g.isTouch?t.pageY:s.pageY,p=0;if(g.orientation==="h"){p=r-m.left}else{p=q-m.top}g.slideToPos(p,o)}).on(g.evts.up,function(){c(document).off("."+b);g.inMotion=false;k.removeClass("grabbing "+n);j.removeClass("grabbed");g.fire(g.evts.end)})}).on("click."+b,function(l){l.stopPropagation()});g.$rail.on("click",function(m){if(!g.inMotion){var n=g.$rail.offset();var l;if(g.orientation==="h"){l=m.pageX-n.left}else{l=m.pageY-n.top}g.slideToPos(l)}});c(window).on("resize."+b,function(){g.refresh(false)})};i.call(g);e.call(g);g.reset(true)};d.prototype.slideToInitialPos=function(){var e=this;if(!e.range){e.slideToInitialVal()}else{e.slideToInitialMin();e.slideToInitialMax()}};d.prototype.slideToInitialVal=function(){this.slideToPos(this.parseHandlePosition(this.initialValue))};d.prototype.slideToInitialMin=function(){this.slideToPos(this.parseHandlePosition(this.initialMin),this.$minHandle)};d.prototype.slideToInitialMax=function(){this.slideToPos(this.parseHandlePosition(this.initialMax),this.$handle)};d.prototype.parseHandlePosition=function(e){var f=this,g=0;if(c.type(e)==="number"&&e){g=e*(f.steps?f.stepSize:1)}else{if(c.type(e)==="string"){if(e.indexOf("px")>-1){g=parseInt(e,10)}else{if(e.indexOf("%")>-1){g=f.railSize*(parseInt(e,10)/100)}}}}return g};d.prototype.slideToPos=function(f,l){l=l||this.$handle;var h=this,i={},k=l.data("min")===true,g,e,j=function(m){return Math.round(m/h.stepSize)};f=h.validatePos(f,k);if(h.steps){g=j(h.currentPosition);e=j(f);i={oldStep:g,newStep:e,stepDelta:e-g};f=e*h.stepSize;if(i.stepDelta){h.goToPos(f,l,i)}}else{i={oldPosition:h.currentPosition,newPosition:f,positionDelta:f-h.currentPosition};h.goToPos(f,l,k)}return h};d.prototype.validatePos=function(f,i){var h=this;if(f<0){f=0}if(f>h.railSize){f=h.railSize}if(h.range){var g=f,e=h.rangeThreshold>0&&h.rangeThreshold<1?h.rangeThreshold*h.railSize:h.rangeThreshold;if(i){g+=e;if(h.currentPosition!==false&&g>h.currentPosition){f=h.currentPosition-e}}else{g-=e;if(h.currentMinPosition!==false&&g<h.currentMinPosition){f=h.currentMinPosition+e}}}return f};d.prototype.goToPos=function(i,h,g){var f=this,e=[];h[0].style[f.property]=(i/f.railSize*100)+"%";if(g){f.lastMinPosition=i}else{f.lastPosition=i}if(!f.range){f.currentPosition=f.lastPosition;f.currentPositionPct=f.lastPosition/f.railSize*100}else{if(f.isHidden){f.currentPosition=f.parseHandlePosition(f.initialMax);f.currentMinPosition=f.parseHandlePosition(f.initialMin)}else{f.currentPosition=f.lastPosition!==false?f.lastPosition:f.parseHandlePosition(f.$handle.css(f.property),10);f.currentMinPosition=f.lastMinPosition!==false?f.lastMinPosition:f.parseHandlePosition(f.$minHandle.css(f.property),10)}f.currentPositionPct=Math.min(f.currentPosition/f.railSize*100,100);f.currentMinPositionPct=Math.min(f.currentMinPosition/f.railSize*100,100);if(f.currentPositionPct>99.49){f.currentPositionPct=100}else{if(f.currentPositionPct<0.5){f.currentPositionPct=0}}if(f.currentMinPositionPct>99.49){f.currentMinPositionPct=100}else{if(f.currentMinPositionPct<0.5){f.currentMinPositionPct=0}}f.$ambit[f.dimension](f.getHandleDist()+"%");f.$ambit.css(f.property,f.currentMinPositionPct+"%")}if(f.$ambit&&!f.range){f.$ambit[f.dimension](f.currentPositionPct+"%")}if(f.range){e=[{min:f.currentMinPosition,max:f.currentPosition},{min:f.currentMinPositionPct,max:f.currentPositionPct},f]}else{e=[f.currentPositionPct,f]}f.fire(f.evts.slid,e);return f};d.prototype.getHandleDist=function(){var e=this,f=parseFloat(e.$handle[0].style[e.property])-parseFloat(e.$minHandle[0].style[e.property]);return f};d.prototype.slideToStep=function(e){this.slideToPos(e*(this.steps?this.stepSize:1));return this};d.prototype.updateSize=function(e){var g=this,f;f=g.orientation==="h"?g.$rail.outerWidth():g.$rail.outerHeight();if(f!==g.railSize){g.railSize=f||g.railSize;if(g.steps){g.stepSize=g.railSize/g.steps}if(e!==false){g.slideToPos(g.currentPosition);if(g.range){g.slideToPos(g.currentMinPosition,g.$minHandle)}}}return g};d.prototype.fire=function(f,e){this.$rail.trigger(f+"."+b,e||[this])};d.prototype.refresh=function(e){var f=this;f.isHidden=f.$rail.is(":hidden");f.updateSize(e);return this};d.prototype.reset=function(e){var g=this,f=g.$handle[0].style[g.property].indexOf("%")>-1;g.refresh(false);if(e||!f){g.slideToInitialPos()}else{if(!g.range){g.slideToPos(g.parseHandlePosition(g.$handle[0].style[g.property]))}else{g.slideToPos(g.parseHandlePosition(g.$minHandle[0].style[g.property]),g.$minHandle);g.slideToPos(g.parseHandlePosition(g.$handle[0].style[g.property]),g.$handle)}}};d.prototype.destroy=function(){var e=this;e.$rail.empty().removeData("rangeControl")};c.fn.rangeControl=function(f){var e=Array.prototype.slice.apply(arguments);return this.each(function(){var g=c(this),h=g.data("rangeControl");if(!h){h=new d(g,f);g.data("rangeControl",h)}if(typeof f==="string"){h[f].apply(h,e.slice(1))}})};c.fn.rangeControl.defaults={initialValue:0,steps:0,orientation:"h",hideHandle:false,hideAmbit:false,$handle:null,$ambit:null,callback:null,range:false,initialMin:"0",initialMax:"100%",rangeThreshold:0};c.fn.rangeControl.settings={isTouch:!!("ontouchstart" in window),inMotion:false,stepSize:0,railSize:false,currentPosition:false,currentPositionPct:false,currentMinPosition:false,currentMinPositionPct:false,lastPosition:false,lastMinPosition:false,evts:{start:"scrubstart",end:"scrubend",slid:"slid"},handleCss:{display:"block",position:"absolute",top:0,left:0,MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"}}}(jQuery));
/*!
 * jQuery Shuffle Plugin
 * Uses CSS Transforms to filter down a grid of items (degrades to jQuery's animate).
 * Inspired by Isotope http://isotope.metafizzy.co/
 * Use it for whatever you want!
 * @author Glen Cheney (http://glencheney.com)
 * @version 1.6.1
 * @date 02/07/13
 */
(function(c,d,e){c.fn.sorted=function(h){var i=c.extend({},c.fn.sorted.defaults,h),f=this.get(),g=false;if(!f.length){return[]}if(i.randomize){return c.fn.sorted.randomize(f)}if(i.by!==c.noop&&i.by!==null&&i.by!==e){f.sort(function(l,j){if(g){return 0}var m=i.by(c(l)),k=i.by(c(j));if(m===e&&k===e){g=true;return 0}return(m<k)?-1:(m>k)?1:0})}if(g){return this.get()}if(i.reverse){f.reverse()}return f};c.fn.sorted.defaults={reverse:false,by:null,randomize:false};c.fn.sorted.randomize=function(i){var h=i.length,f,g;if(!h){return i}while(--h){g=Math.floor(Math.random()*(h+1));f=i[g];i[g]=i[h];i[h]=f}return i};var b=function(h,g){var f=this;c.extend(f,c.fn.shuffle.options,g,c.fn.shuffle.settings);f.$container=h.addClass("shuffle");f.$window=c(window);f.unique="shuffle_"+c.now();f.fire("loading");f._init();f.fire("done")};b.prototype={constructor:b,_init:function(){var f=this,h,i=c.proxy(f._onResize,f),g=c.proxy(f._afterResize,f),j;if(f.hideLayoutWithFade){j=c.proxy(f._beforeResize,f);f._debouncedBeforeResize=f.throttle?f.throttle(f.throttleTime,true,j):j}f._debouncedResize=f.throttle?f.throttle(f.throttleTime,g):g;f.$items=f._getItems().addClass("shuffle-item");f.transitionName=f.prefixed("transition"),f.transform=f.getPrefixed("transform");f.offset={left:parseInt((f.$container.css("padding-left")||0),10),top:parseInt((f.$container.css("padding-top")||0),10)};f.isFluid=f.columnWidth&&typeof f.columnWidth==="function";h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};f.transitionEndName=h[f.transitionName];f.itemCss={position:"absolute",top:0,left:0};if(f.$container.css("position")==="static"){f.$container.css("position","relative")}f.$container[0].style[f.transitionName]="height "+f.speed+"ms "+f.easing;f._initItems(!f.showInitialTransition);f.$window.on("resize.shuffle",i);f._setColumns();f._resetCols();f.shuffle(f.group);if(!f.showInitialTransition){f._initItems()}},filter:function(h,j){var g=this,i=j!==e,k=i?j:g.$items,f=c();h=h||g.lastFilter;g.fire("filter");k.removeClass("concealed filtered");if(c.isFunction(h)){k.each(function(){var l=c(this),m=h.call(l[0],l,g);l.addClass(m?"filtered":"concealed");if(m){f=f.add(l)}})}else{g.group=h;if(h!=="all"){k.each(function(){var o=c(this),l=o.data("groups"),n=g.delimeter&&!c.isArray(l)?l.split(g.delimeter):l,m=c.inArray(h,n)>-1,p=m?"concealed":"filtered";o.addClass(p);if(m){f=f.add(o)}})}else{f=k.addClass("filtered")}}return f},_initItems:function(g){var f=this;f.$items.each(function(){c(this).css(f.itemCss);if(f.supported&&!g&&f.useTransition){f._setTransition(this)}})},_setTransition:function(g){var f=this;g.style[f.transitionName]=f.transform+" "+f.speed+"ms "+f.easing+", opacity "+f.speed+"ms "+f.easing},_setSequentialDelay:function(g){var f=this;if(!f.supported){return}c.each(g,function(h){this.style[f.transitionName+"Delay"]="0ms,"+((h+1)*f.sequentialFadeDelay)+"ms";c(this).one(f.transitionEndName,function(){this.style[f.transitionName+"Delay"]="0ms"})})},_resetDelay:function(g){var f=this;if(!f.supported){return}c.each(g,function(){c(this).off(f.transitionEndName);this.style[f.transitionName+"Delay"]="0ms"})},_orderItemsByDelay:function(m){var i=this,k=c(),l=c(),g,h,f,j=function(n){return n.data("delayOrder")};if(!i.$ordered){m.each(function(){var n=c(this).data("delayOrder");if(n){k=k.add(this)}else{l=l.add(this)}});g=k.sorted({by:j})}else{k=i.$ordered;g=i.ordered;l=m.not(k)}h=l.sorted({randomize:true});f=g.concat(h);i.$ordered=k;i.ordered=g;i.itemsOrderedByDelay=f},_getItems:function(){return this.$container.children(this.itemSelector)},_setColumns:function(){var f=this,g=f.$container.width(),h=typeof f.gutterWidth==="function"?f.gutterWidth(g):f.gutterWidth;f.colWidth=f.isFluid?f.columnWidth(g):f.columnWidth||f.$items.outerWidth(true)||g;f.colWidth=f.colWidth||g;f.colWidth+=h;f.cols=Math.floor((g+h+1e-12)/f.colWidth);f.cols=Math.max(f.cols,1);if(!f.colWidth||isNaN(f.cols)||!g){f.needsUpdate=true}else{f.needsUpdate=false}f.containerWidth=g},setContainerSize:function(){var f=this,g=Math.max.apply(Math,f.colYs);f.$container.css("height",g+"px")},fire:function(f){this.$container.trigger(f+".shuffle",[this])},_layout:function(h,j,g,i){var f=this;j=j||f.filterEnd;f.layoutTransitionEnded=false;c.each(h,function(k){var p=c(h[k]),n=Math.ceil(p.outerWidth(true)/f.colWidth);n=Math.min(n,f.cols);if(n===1){f._placeItem(p,f.colYs,j)}else{var q=f.cols+1-n,m=[],o,l;for(l=0;l<q;l++){o=f.colYs.slice(l,l+n);m[l]=Math.max.apply(Math,o)}f._placeItem(p,m,j,g,i)}});f.setContainerSize()},_resetCols:function(){var f=this.cols;this.colYs=[];while(f--){this.colYs.push(0)}},_reLayout:function(h,g){var f=this;h=h||f.filterEnd;f._resetCols();if(f.keepSorted&&f.lastSort){f.sort(f.lastSort,true,g)}else{f._layout(f.$items.filter(".filtered").get(),f.filterEnd,g)}},_placeItem:function(s,p,t,m,f){var u=this,h=Math.min.apply(Math,p),r=0;for(var k=0,l=p.length;k<l;k++){if(p[k]>=h-u.buffer&&p[k]<=h+u.buffer){r=k;break}}var q=u.colWidth*r,o=h;q=Math.round(q+u.offset.left);o=Math.round(o+u.offset.top);s.data({x:q,y:o});var n=h+s.outerHeight(true),j=u.cols+1-l;for(k=0;k<j;k++){u.colYs[r+k]=n}var g={from:"layout",$this:s,x:q,y:o,scale:1};if(!m){g.opacity=1;g.callback=t}if(f){g.opacity=0}if(m){u._skipTransition(s[0],function(){u.transition(g)})}else{u.transition(g)}},shrink:function(){var f=this,g=f.$items.filter(".concealed");if(g.length===0){return}f.fire("shrink");f.shrinkTransitionEnded=false;g.each(function(){var j=c(this),i=j.data(),h=parseInt(i.x,10),k=parseInt(i.y,10);if(!h){h=0}if(!k){k=0}f.transition({from:"shrink",$this:j,x:h,y:k,scale:0.001,opacity:0,callback:f.shrinkEnd})})},_onResize:function(){var f=this,g=f.$container.width();if(!f.enabled||f.destroyed||g===f.containerWidth){return}if(f.hideLayoutWithFade){f._debouncedBeforeResize()}f._debouncedResize()},_afterResize:function(){var f=this;if(f.hideLayoutWithFade){f._setColumns();f._reLayout(false,true);f._setSequentialDelay(f.itemsOrderedByDelay);f.fire("done");if(f.supported){f.$items.css("opacity",1)}else{f.$items.fadeIn(f.speed)}}else{f.resized()}},_beforeResize:function(){var f=this;if(f.supported){f.$items.css("opacity",0)}else{f.$items.fadeOut(f.speed)}f.fire("loading");f._resetDelay(f.$items);f._orderItemsByDelay(f.$items)},setPrefixedCss:function(f,h,g){f.css(this.prefixed(h),g)},getPrefixed:function(g){var f=this.prefixed(g);return f?f.replace(/([A-Z])/g,function(i,h){return"-"+h.toLowerCase()}).replace(/^ms-/,"-ms-"):f},transition:function(i){var g=this,h,f=function(){if(!g.layoutTransitionEnded&&i.from==="layout"){g.fire("layout");i.callback.call(g);g.layoutTransitionEnded=true}else{if(!g.shrinkTransitionEnded&&i.from==="shrink"){i.callback.call(g);g.shrinkTransitionEnded=true}}};i.callback=i.callback||c.noop;if(g.supported){if(i.scale===e){i.scale=1}if(g.threeD){h="translate3d("+i.x+"px, "+i.y+"px, 0) scale3d("+i.scale+", "+i.scale+", 1)"}else{h="translate("+i.x+"px, "+i.y+"px) scale("+i.scale+", "+i.scale+")"}if(i.opacity!==e&&g.useTransition){i.$this.css("opacity",i.opacity)}if(i.x!==e){g.setPrefixedCss(i.$this,"transform",h)}if(g.useTransition){i.$this.one(g.transitionEndName,f)}else{f()}}else{var j={left:i.x,top:i.y,opacity:i.opacity};if(g.useTransition){i.$this.stop(true,true).animate(j,g.speed,"swing",f)}else{i.$this.css(j);f()}}},shrinkEnd:function(){this.fire("shrunk")},filterEnd:function(){this.fire("filtered")},sortEnd:function(){this.fire("sorted")},_skipTransition:function(h,k,j){var g=this,f,i=g.getPrefixed("transitionDuration"),l=h.style[i];h.style[i]="0ms";if(c.isFunction(k)){k()}else{h.style[k]=j}f=h.offsetWidth;h.style[i]=l},_addItems:function(g,j,f){var i=this,h;g.addClass("shuffle-item");i.$items=i._getItems();i._initItems();g.not(h).css("opacity",0);h=i.filter(e,g);i.visibleItems=i.$items.filter(".filtered").length;if(j){i._layout(h,null,true,true);if(f){i._setSequentialDelay(h)}i._revealAppended(h)}else{i._layout(h)}},_revealAppended:function(g){var f=this;setTimeout(function(){g.each(function(h,j){f.transition({from:"reveal",$this:c(j),opacity:1})})},f.revealAppendedDelay)},shuffle:function(g){var f=this;if(!f.enabled){return}if(!g){g="all"}f.filter(g);f.lastFilter=g;f.visibleItems=f.$items.filter(".filtered").length;f._resetCols();f.shrink();f._reLayout()},sort:function(i,j,h){var g=this,f=g.$items.filter(".filtered").sorted(i);if(!j){g._resetCols()}g._layout(f,function(){if(j){g.filterEnd()}g.sortEnd()},h);g.lastSort=i},resized:function(f){if(this.enabled){if(!f){this._setColumns()}this._reLayout()}},layout:function(){this.update(true)},update:function(f){this.resized(f)},appended:function(g,h,f){h=h===false?false:true;f=f===false?false:true;this._addItems(g,h,f)},disable:function(){this.enabled=false},enable:function(f){this.enabled=true;if(f!==false){this.update()}},destroy:function(){var f=this;f.$container.removeAttr("style").removeData("shuffle");f.$window.off(".shuffle");f.$items.removeAttr("style").removeClass("concealed filtered shuffle-item");f.destroyed=true}};c.fn.shuffle=function(g,h){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var j=c(this),i=j.data("shuffle");if(!i){i=new b(j,g);j.data("shuffle",i)}if(c.isFunction(g)){i.shuffle(g)}else{if(typeof g==="string"){switch(g){case"sort":i.sort(h);break;case"destroy":case"update":case"appended":case"enable":case"disable":case"layout":i[g].apply(i,f);break;default:i.shuffle(g);break}}}})};c.fn.shuffle.options={group:"all",speed:400,easing:"ease-out",itemSelector:"",gutterWidth:0,columnWidth:0,showInitialTransition:true,delimeter:null,buffer:0,throttle:c.debounce||null,throttleTime:300,keepSorted:true,hideLayoutWithFade:false,sequentialFadeDelay:150,useTransition:true};c.fn.shuffle.settings={revealAppendedDelay:300,enabled:true,supported:d.csstransforms&&d.csstransitions,prefixed:d.prefixed,threeD:d.csstransforms3d}})(jQuery,Modernizr);(function(e){var c={},b=Math.max,d=Math.min;c.c={};c.c.d=e(document);c.o=function(){var f=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.$c=null;this.c=null;this.isInit=false;this.fgColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.run=function(){var g=function(j,i){var h;for(h in i){f.o[h]=i[h]}f.init();f._configure()._draw()};if(this.$.data("kontroled")){return}this.$.data("kontroled",true);this.extend();this.o=e.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:true,readOnly:this.$.data("readonly"),thickness:this.$.data("thickness")||0.4,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor")||this.$.data("fgcolor")||"#87CEEB",inline:false,fontSize:this.$.data("fontsize")},this.o);this.i=this.$;this.v=this.$.val();(this.v==="")&&(this.v=this.o.min);this.$.bind("change",function(){f.val(f.$.val())});this.$c=e('<canvas width="'+this.o.width+'px" height="'+this.o.height+'px"></canvas>');this.c=this.$c[0].getContext("2d");this.$.wrap(e('<div style="position: relative; '+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>')).before(this.$c);if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",g).parent().bind("configure",g);this._configure()._xy().init();this.isInit=true;this._draw();return this};this._draw=function(){var g=true,h=document.createElement("canvas");h.width=f.o.width;h.height=f.o.height;f.g=h.getContext("2d");f.clear();f.dH&&(g=f.dH());(g!==false)&&f.draw();f.c.drawImage(h,0,0);h=null};this._xy=function(){var g=this.$c.offset();this.x=g.left;this.y=g.top;return this};this._configure=function(){this.fgColor=this.o.fgColor;return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(g){};this.val=function(g){};this.xy2val=function(g,h){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(j,g){var i;j=j.substring(1,7);i=[parseInt(j.substring(0,2),16),parseInt(j.substring(2,4),16),parseInt(j.substring(4,6),16)];return"rgba("+i[0]+","+i[1]+","+i[2]+","+g+")"};this.copy=function(j,h){for(var g in j){h[g]=j[g]}}};c.Dial=function(){c.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(f){if(null!==f){this.cv=this.o.stopper?b(d(f,this.o.max),this.o.min):f;this.v=this.cv;this.$.val(this.v);this._draw()}else{return this.v}};this.xy2val=function(f,i){var g,h;g=Math.atan2(f-(this.x+this.w2),-(i-this.y-this.w2))-this.angleOffset;if(this.angleArc!=this.PI2&&(g<0)&&(g>-0.5)){g=0}else{if(g<0){g+=this.PI2}}h=~~(0.5+(g*(this.o.max-this.o.min)/this.angleArc))+this.o.min;this.o.stopper&&(h=b(d(h,this.o.max),this.o.min));return h};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.o.width/2;this.xy=this.w2;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var f=b(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.i.css({width:"0px",visibility:"hidden"})};this.change=function(f){this.cv=f;this.$.val(f)};this.angle=function(f){return(f-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var l=this.g,g=this.angle(this.cv),h=this.startAngle,i=h+g,f,j,k=1;l.lineWidth=this.lineWidth;l.lineCap=this.lineCap;l.beginPath();l.strokeStyle=this.o.bgColor;l.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,true);l.stroke();l.beginPath();l.strokeStyle=k?this.o.fgColor:this.fgColor;l.arc(this.xy,this.xy,this.radius,h,i,false);l.stroke()};this.cancel=function(){this.val(this.v)}};e.fn.simpleKnob=function(f){return this.each(function(){var g=document.createElement("canvas");if(!(g.getContext&&g.getContext("2d"))){return}var h=new c.Dial();h.o=f;h.$=e(this);h.run()}).parent()}})(jQuery);
/*!
 *
 * Smooth Scrolling plugin
 * @author Glen Cheney
 * @date 01.31.13
 * @version 1.1
 */
(function(d,c,e){var b=function(g,h){var f=this;d.extend(f,d.simplescroll.options,g);f._init(h)};b.prototype={_init:function(i){var g=this,f=g.target.jquery?g.target:d(g.target),j=f.length?f.offset().top-g.offset:0,h=d(document).height(),k=d(c).height();if(!f.length){return}if(typeof i==="function"){g.callback=i}if(h-j<k){j-=k-(h-j)}if(g.showHash){g._showHash(g.target,f)}g._animate(j,g.speed,g.easing,g.callback)},_animate:function(i,h,j,f){var g=false;d("html,body").animate({scrollTop:i},h,j,function(k){if(!g){f.call(this,k)}g=true})},_showHash:function(h,f){var g;h=h.replace(/^#/,"");if(f.length){f.attr("id","");g=d("<div/>").css({position:"absolute",visibility:"hidden",top:d(c).scrollTop()+"px"}).attr("id",h).appendTo(document.body)}c.location.hash=h;if(f.length){g.remove();f.attr("id",h)}}};d.simplescroll=function(f,g){return new b(f,g)};d.simplescroll.initial=function(f,g){if(c.location.hash){f=d.extend(f,{target:c.location.hash});d.simplescroll(f,g)}};d.fn.simplescroll=function(f,g){return this.each(function(){d(this).on("click",function(h){h.preventDefault();f=f||{};f.target=d.isFunction(f.target)?f.target.call(this):this.getAttribute("href");d.simplescroll(f,g)})})};d.simplescroll.options={target:"body",speed:600,easing:d.easing.easeOutQuad?"easeOutQuad":"swing",showHash:false,callback:d.noop,offset:0}}(jQuery,window));(function(d){var c="mousedown.sonyDraggable touchstart.sonyDraggable",f="mouseup.sonyDraggable touchend.sonyDraggable",b="mousemove.sonyDraggable touchmove.sonyDraggable";var e=function(g,i){var h=this;d.extend(h,{},d.fn.sonyDraggable.defaults,i);h.$win=d(window);h.$el=g;h.$containment=d(h.containment);h.init()};e.prototype={constructor:e,init:function(){var g=this;g.$containment.on(c,d.proxy(g.onScrubStart,g));g.$containment.on(f+" click.sonyDraggable",d.proxy(g.onScrubEnd,g));g.$win.on(f,d.proxy(g.onScrubEnd,g));g.setDimensions();g.setPositions()},onScrubStart:function(i){var g=this,h=d(i.target);if(g.$el.has(h).length===0){return}i.preventDefault();g.setDimensions();g.handleStartPosition=g.getPagePosition(i);g.$containment.on(b,d.proxy(g.onScrubbing,g))},onScrubbing:function(h){var g=this;h.preventDefault();g.handlePosition.x=g.scrubberLeft+g.getPagePosition(h).x-g.handleStartPosition.x;g.handlePosition.y=g.scrubberTop+g.getPagePosition(h).y-g.handleStartPosition.y;g.setPositions()},onScrubEnd:function(h){var g=this;h.preventDefault();g.$containment.off(b)},getConstrainedBounds:function(i,h){var g=this;if(g.bounds&&g.bounds[h]){if(i<g.bounds[h].min){return g.bounds[h].min}else{if(i>g.bounds[h].max){return g.bounds[h].max}}}return i},getPagePosition:function(g){if(!g.pageX&&!g.originalEvent){return}return{x:(g.pageX||g.originalEvent.touches[0].pageX),y:(g.pageY||g.originalEvent.touches[0].pageY)}},setPositions:function(){var g=this,i,h;if(g.unit==="px"){if(g.axis.search("x")>=0){i=g.handlePosition.x}if(g.axis.search("y")>=0){h=g.handlePosition.y}}if(g.unit==="%"){if(g.axis.search("x")>=0){i=((g.handlePosition.x)/g.containmentWidth*100)}if(g.axis.search("y")>=0){h=((g.handlePosition.y)/g.containmentHeight*100)}}i=g.getConstrainedBounds(i,"x");h=g.getConstrainedBounds(h,"y");g.$el.css({left:i+g.unit,top:h+g.unit});g.drag({position:{left:i,top:h}})},setDimensions:function(){var g=this;g.containmentWidth=g.$containment.width();g.containmentHeight=g.$containment.height();g.scrubberLeft=g.$el.position().left;g.scrubberTop=g.$el.position().top},setBounds:function(h){var g=this;g.bounds=h;g.setPositions()}};d.fn.sonyDraggable=function(h){var g=Array.prototype.slice.call(arguments,1);return this.each(function(){var j=d(this),i=j.data("sonyDraggable");if(!i){i=new e(j,h);j.data("sonyDraggable",i)}if(typeof h==="string"){i[h].apply(i,g)}})};d.fn.sonyDraggable.defaults={axis:"xy",unit:"px",handlePosition:{x:0,y:0},drag:function(){}}})(jQuery);(function(b,c){b.fn.evenHeights=function(e){var d=0;e=b.extend({},b.fn.evenHeights.options,e);return this.css("height","").each(function(){var g=b(this),f;if(e.useOuterWidth){f=g.outerHeight(e.margin)}else{f=parseFloat(g.css("height"));if(e.padding){f+=parseFloat(g.css("paddingTop"))+parseFloat(g.css("paddingBottom"))}if(e.margin){f+=parseFloat(g.css("marginTop"))+parseFloat(g.css("marginBottom"))}}if(f>d){d=f}}).css("height",d)};b.fn.evenHeights.options={useOuterWidth:true,padding:true,margin:false}}(jQuery));(function(b){var c=function(d,f){var e=this;b.extend(e,{},b.fn.sonyNavDots.defaults,f);e.$el=d;e.init();return e};c.prototype={constructor:c,init:function(){var d=this;d.$navContainer=b("<div/>").addClass("pagination-bullets on");d.$buttonTemplate=b("<div/>").addClass("pagination-bullet");d.$buttonIcon=b("<i/>").addClass("fonticon-10-dot");d.$buttonTemplate.append(d.$buttonIcon);d.reset(d)},reset:function(e){var d=this;if(!e){return}b.extend(d,e);if(typeof e.buttonCount!=="undefined"){d.createButtons()}if(typeof e.activeButton!=="undefined"){d.setActiveButton()}},createButtons:function(){var d=this;if(d.$buttons){d.$buttons.remove()}for(var e=0;e<d.buttonCount;e++){d.$navContainer.append(d.$buttonTemplate.clone())}d.$buttons=d.$navContainer.children();d.$el.append(d.$navContainer);d.$buttons.on(Modernizr.touch?"touchend":"click",b.proxy(d.clickButton,d))},clickButton:function(g){var f=this,d=b(g.target).closest(".pagination-bullet");if(d.length){f.activeButton=d.index();f.setActiveButton();g.preventDefault();f.$el.trigger("SonyNavDots:clicked",f.activeButton)}},setActiveButton:function(){var d=this;d.$buttons.removeClass("bullet-selected");d.$buttons.eq(d.activeButton).addClass("bullet-selected")}};b.fn.sonyNavDots=function(e){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=b(this),g=f.data("sonyNavDots");if(!g){g=new c(f,e);f.data("sonyNavDots",g)}if(typeof e==="string"){g[e].apply(g,d)}})};b.fn.sonyNavDots.defaults={buttonCount:0,activeButton:0}})(jQuery);(function(c){var b=function(d,f){var e=this;c.extend(e,{},c.fn.sonyPaddles.defaults,f);e.init()};b.prototype={constructor:b,init:function(){var d=this}};c.fn.sonyPaddles=function(e){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=c(this),g=f.data("sonyPaddles");if(!g){g=new b(f,e);f.data("sonyPaddles",g)}if(typeof e==="string"){g[e].apply(g,d)}})};c.fn.sonyPaddles.defaults={}})(jQuery);(function(e,f,d,b,g){var c=function(h,j){var i=this;e.extend(i,e.fn.scrollerModule.defaults,j,e.fn.scrollerModule.settings);i.$el=h;i.$win=SONY.$window;i.unique=".sm_"+e.now();i._init()};c.prototype={constructor:c,_init:function(){var h=this,i=e.debounce(h.throttleTime,e.proxy(h._onResize,h));h.$contentContainer=h.$el.find(h.contentSelector);h.$elements=h.$el.find(h.itemElementSelector);h.$sampleElement=h.$elements.eq(0);h.windowWidth=SONY.Settings.windowWidth;h.windowHeight=SONY.Settings.windowHeight;h.isPaginated=h.mode==="paginate";h.isPaginateMode=h.mode==="paginate";h.isCarouselMode=h.mode==="carousel";h.isFreeMode=h.mode==="free";h._setIscrollProps();if(h.isCarouselMode){h._setItemWidths()}h._setContentWidth();if(h.isCarouselMode&&(h.generatePagination||h.generatePagination===g)){h._generatePagination(h.$elements.length)}if(h.generateNav===g){h.generateNav=!h.nextSelector&&!h.prevSelector&&h.isCarouselMode}if(h.generateNav){h._generateNavPaddles()}h.$win.on(h.resizeEvent+h.unique,i);h.scroller=new d(h.$el[0],h.iscrollProps);h.currentPage=h.scroller.currPageX;if(h.nextSelector){h.$navNext=h.nextSelector.jquery?h.nextSelector:h.$el.find(h.nextSelector);h.$navNext.on("click",function(j){j.preventDefault();j.stopPropagation();h.next()})}if(h.prevSelector){h.$navPrev=h.prevSelector.jquery?h.prevSelector:h.$el.find(h.prevSelector);h.$navPrev.on("click",function(j){j.preventDefault();j.stopPropagation();h.prev()})}h._update(true);h._showHideNavs(0,h.scroller.pagesX.length-1)},_setIscrollProps:function(){var h=this;h.onScrollEnd=h.iscrollProps.onScrollEnd;h.onAnimationEnd=h.iscrollProps.onAnimationEnd;h.onBeforeScrollStart=h.iscrollProps.onBeforeScrollStart;if(h.mode==="carousel"){h.iscrollProps={snap:true,hScrollbar:false,momentum:false}}h.iscrollProps.onScrollEnd=function(){h._onScrollEnd(this)};h.iscrollProps.onAnimationEnd=function(){h._onAnimationEnd(this)};h.iscrollProps.onBeforeScrollStart=function(i){h._onBeforeScrollStart(this,i)};return h},_paginate:function(){var r=this,j=r.$sampleElement.outerWidth(true),h=r.$elements.length,n=r.$el.width()-r.extraSpacing,s=r.fitPerPage||Math.floor(n/j)||1,k=Math.ceil(h/s),l=0,o=j*s;n+=r.extraSpacing;r._setContentWidth(k,n);if(k===1||s>h){return false}function p(w,x,v){var u=r.$elements.slice(x,v+1),i,t;if(w===k-1&&r.lastPageCenter){o=r.$sampleElement.outerWidth(true)*u.length}i=r.centerItems?Math.floor((n-o)*0.5):0;t=Math.floor((w*n)+i);u.css({position:"absolute",top:"0",left:"0"});e.each(u,function(z){var y=e(this);if(r.autoGutters){y.css("left",Math.floor(t+(z*y.outerWidth(true)))+"px")}else{if(z===0){y.css("left",Math.floor(t+(z*y.outerWidth(false)))+"px")}else{y.css("left",Math.floor(t+(z*y.outerWidth(false)))+(z*r.gutterWidth)+"px")}}})}if(r.generatePagination){r._generatePagination(k)}for(l=0;l<k;l++){var q=l*s,m=q+s-1;p(l,q,m)}r.totalPages=k;r.itemsPerPage=s;r._fire("paginationcomplete");return true},_generatePagination:function(h){var j=this,i=j.appendBulletsTo?e(j.appendBulletsTo):j.$el;if(!e.fn.sonyNavDots){return}if(j.$pagination){j.$pagination.sonyNavDots("reset",{buttonCount:h});return}j.$pagination=e("<div/>",{"class":"navigation-container"});i.append(j.$pagination);j.$pagination.sonyNavDots({buttonCount:h});j.$pagination.on("SonyNavDots:clicked",function(l,k){j.gotopage(k)})},_generateNavPaddles:function(){var k=this,h=e(k.navTemplate),j=h.find(".nav-paddle-prev"),i=h.find(".nav-paddle-next"),l=k.appendNavOutside?k.$el.parent():k.$el;l.append(h).addClass(k.paddleTrigger);k.$nav=h;k.prevSelector=j;k.nextSelector=i},_update:function(i){var h=this;if(h.mode==="paginate"){h.isPaginated=h._paginate()}if(h.isCarouselMode){h._setItemWidths()}if(!i&&(h.isCarouselMode||h.isFreeMode)){h._setContentWidth()}if(h.isPaginated||h.isCarouselMode||h.isFreeMode){h.scroller.refresh();if(!i){h.scroller.scrollToPage(h.currentPage,0,400)}}h._fire("update")},_onResize:function(){var i=this,j=i.$win.width(),k=i.$win.height(),h=j!==i.windowWidth||k!==i.windowHeight;if(i.destroyed||!h){return}i.windowWidth=j;i.windowHeight=k;i._update()},_onScrollEnd:function(){var h=this;h._fire("scrolled");if(h.onScrollEnd){h.onScrollEnd()}},_showHideNavs:function(j,i){var h=this;if(h.$navPrev&&h.$navNext){if(j===0){h.$navPrev.addClass("hide")}else{h.$navPrev.removeClass("hide")}if(j===i){h.$navNext.addClass("hide")}else{h.$navNext.removeClass("hide")}}},_onBeforeScrollStart:function(j,i){var h=this;if(j.absDistX>=(j.absDistY+h.threshhold)){i.preventDefault()}if(h.onBeforeScrollStart){h.onBeforeScrollStart(j)}},_onAnimationEnd:function(i){var h=this;if(i.pagesX&&i.pagesX.length){h.currentPage=i.currPageX;h._showHideNavs(h.currentPage,i.pagesX.length-1);if(h.$pagination){h.$pagination.sonyNavDots("reset",{activeButton:h.currentPage})}if(h.onAnimationEnd){h.onAnimationEnd(i)}}},_setContentWidth:function(j,k){var i=this,h=0;if(!j){if(typeof i.getContentWidth==="function"){h=i.getContentWidth(i.$elements)}else{i.$elements.each(function(){h+=Math.round(e(this).outerWidth(true))})}}else{h=j*k}i.$contentContainer.css("width",h);return i},_setItemWidths:function(){var h=this,i=h.$el.width();h.$elements.css("width",i)},_fire:function(h,i){this.$el.trigger(h+".sm",i||[this]);return this},setGutterWidth:function(i){var h=this;h.gutterWidth=i},gotopage:function(h,i){h=h.type?e(h.target).data("index"):h;i=i||400;this.scroller.scrollToPage(h,0,i)},next:function(){this.gotopage("next")},prev:function(){this.gotopage("prev")},refresh:function(){this._update()},destroy:function(){var h=this;if(h.$pagination){h.$pagination.remove()}if(h.generateNav){h.$nav.remove();if(h.addPaddleTrigger){h.$el.closest(h.paddleTrigger).removeClass(h.paddleTrigger)}}h.$contentContainer.css("width","");h.$elements.css({position:"",top:"",left:""});if(h.isCarouselMode){h.$elements.css("width","")}h.destroyed=true;h.scroller.destroy();h.$win.off(h.unique);h.$el.removeData("scrollerModule")},disable:function(){this.scroller.disable()},enable:function(){this.scroller.enable()}};e.fn.scrollerModule=function(i){var h=Array.prototype.slice.call(arguments,1);return this.each(function(){var k=e(this),j=k.data("scrollerModule");if(!j){j=new c(k,i);k.data("scrollerModule",j)}if(typeof i==="string"&&i.charAt(0)!=="_"){j[i].apply(j,h)}})};e.fn.scrollerModule.defaults={mode:"free",contentSelector:".content",itemElementSelector:".block",lastPageCenter:false,extraSpacing:0,nextSelector:"",prevSelector:"",fitPerPage:null,centerItems:true,generatePagination:g,generateNav:g,appendBulletsTo:null,appendNavOutside:true,addPaddleTrigger:true,autoGutters:true,gutterWidth:0,threshhold:10,iscrollProps:{snap:false,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,onScrollEnd:null,lockDirection:true,onBeforeScrollStart:null,onAnimationEnd:null,gutterWidth:0}};e.fn.scrollerModule.settings={throttleTime:350,paginationClass:"pagination-bullet",paddleTrigger:"paddle-trigger",resizeEvent:"onorientationchange" in b?"orientationchange":"resize",navTemplate:'<nav class="nav-paddles"><button class="nav-paddle nav-paddle-prev"><i class="fonticon-10-chevron-reverse"></i></button><button class="nav-paddle nav-paddle-next"><i class="fonticon-10-chevron"></i></button></nav>'}})(jQuery,Modernizr,IScroll,window);(function(c,d){function b(){var e=this;e.queue=null;e.timer=-1}b.prototype.add=function(g,e,i,h){var f=this;if(f.queue===null){f.queue=[]}f.queue.push({scope:g,method:e,throttle:i,args:a})};b.prototype.start=function(){var e=this;if(e.timer===-1){if(e.queue.length>0){var f=e.queue.shift();e.timer=setTimeout(function(){var g=f.method.apply(f.scope,f.args);if(g===d){e.timer=-1;e.start()}else{e.timer=-1;setTimeout(function(){e.start()},g)}},f.throttle)}else{e.destroy()}}};b.prototype.stop=function(){var e=this;clearTimeout(e.timer);e.timer=-1};b.prototype.destroy=function(){var e=this;e.queue=[];e.queue=null};c.Sequencer=b})(window,undefined);(function(d,e,c,f){var b=function(i,h){var g=this;d.extend(g,d.fn.stickyTabs.options,h,d.fn.stickyTabs.settings);g.$container=i;g._init()};b.prototype={constructor:b,_init:function(){var g=this;g.$tabsWrap=d(g.tabsWrapSelector);g.$tabsContainer=g.$tabsWrap.parent();g.$tabs=g.$tabsWrap.children(".tab");if(!g.$tabs.length){return}g.$activeTab=g.$tabs.filter(".active");g.$window=SONY.$window||d(c);g.windowWidth=g.$window.width();g.tabWidth=g.$tabs.outerWidth();g.tabletMode=g.$container.data("tabletMode");g.isCarousel=g.tabletMode==="carousel";if(g.isCarousel){g.$navNext=g.$container.find(".tab-nav-next");g.$navPrev=g.$container.find(".tab-nav-prev")}g.$tabs.on("shown",d.proxy(g._onTabShown,g));g.$window.on("resize.stickytabs",d.debounce(275,d.proxy(g._onResize,g)));if(e.mq(g.mq)){g.setup()}else{if(g.isCarousel){g.setupCarousel()}}},_getConstrained:function(g){return SONY.Utilities.constrain(g,0,this.windowWidth-this.tabWidth)},_onResize:function(){var g=this;g.windowWidth=g.$window.width();g.tabWidth=g.$tabs.outerWidth();if(e.mq(g.mq)){if(g.isTabCarousel){g.teardownCarousel()}if(!g.isStickyTabs){g.setup()}g.animateTab()}else{if(g.isCarousel){if(g.isStickyTabs){g.teardown()}if(!g.isTabCarousel){g.setupCarousel()}}else{if(g.isStickyTabs){g.teardown()}if(g.isTabCarousel){g.teardownCarousel()}}}},_onTabShown:function(g){var h=this,i=d(g.target);iQ.update();h.$activeTab=i;if(h.isStickyTabs){h._onTabSelected()}},_onTabSelected:function(){var g=this,h={position:"absolute"},i,j;g.$tabs.removeAttr("style");i=g.$activeTab[0].offsetLeft+g.scroller.x;j=g._getTabOffsetObj(i);g.initialOffset=i;g.initialContainerOffset=g.scroller.x;h[g.prop]=j.str;g.$activeTab.css(h);if(!g.$activeTab.is(":last-child")){g.$activeTab.next().css("marginLeft",g.tabWidth)}else{g.$activeTab.prev().css("marginRight",g.tabWidth)}if(g.scroller){g.scroller.refresh()}},_getX:function(g){return[this.valStart,g,this.valEnd].join("")},_getTabOffsetObj:function(i){var h=this,k,j,g=h.scroller.x;k=h._getConstrained(i);j=k-g;h.overlap=i-k;return{val:j,str:h._getX(j)}},animateTab:function(){var h=this,g=h.scroller.x,j=h.initialContainerOffset-g,i=h.initialOffset-j,k=h._getTabOffsetObj(i).str;if(h.scroller.moved&&!h.isClickCanceled){h.$tabs.on("click.stickytabs",false);h.isClickCanceled=true}h.$activeTab.css(h.prop,k)},setup:function(){var g=this;g.$tabsContainer.scrollerModule({contentSelector:".tabs",itemElementSelector:".tab",mode:"free",centerItems:false,iscrollProps:{snap:false,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,onScrollStart:function(){g.isClickCanceled=false;g.$tabs.off(".stickytabs");g.animateTab()},onScrollMove:function(){g.animateTab()},onScrollEnd:function(){g.animateTab()},onAnimate:function(){g.animateTab()},onAnimationEnd:function(){g.animateTab()}},getContentWidth:function(i){var h=0;i.each(function(){var l=this.style.position,k=l==="absolute",j=k?0:d(this).outerWidth(true);if(!k){h+=j}});return h}});g.scroller=g.$tabsContainer.data("scrollerModule").scroller;g.isStickyTabs=true;g.$container.addClass("sticky");g._onTabSelected()},teardown:function(){var g=this;g.$tabsContainer.scrollerModule("destroy");g.scroller=null;g.$container.removeClass("sticky");g.$tabs.off(".stickytabs");g.$tabs.removeAttr("style");g.isClickCanceled=false;g.overlap=null;g.isStickyTabs=false},destroy:function(){var g=this;if(g.isStickyTabs){g.teardown()}g.$tabs.off("shown");g.$window.off(".stickytabs");g.$container.removeData("stickyTabs")},setupCarousel:function(){var g=this;g.$navPrev.addClass("hide");g.$navNext.addClass("hide");g.$tabsContainer.scrollerModule({contentSelector:".tabs",itemElementSelector:".tab",mode:"free",nextSelector:g.$navNext,prevSelector:g.$navPrev,centerItems:false,iscrollProps:{snap:true,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,onAnimationEnd:function(j){if(!j.pagesX.length){return}var i=j.pagesX.length,h=j.currPageX+1;g.$tabsContainer.removeClass("has-content-right has-content-left");if(i>h){g.$tabsContainer.addClass("has-content-right")}if(h>1){g.$tabsContainer.addClass("has-content-left")}}}});if(g.$tabsContainer.data("scrollerModule").scroller.pagesX.length>1){g.$navNext.removeClass("hide");g.$container.addClass("tab-carousel");g.$tabsContainer.addClass("has-content-right")}g.isTabCarousel=true},teardownCarousel:function(){var g=this;g.$navPrev.addClass("hide");g.$navNext.addClass("hide");g.$container.removeClass("tab-carousel");g.$tabsContainer.scrollerModule("destroy");g.isTabCarousel=false}};d.fn.stickyTabs=function(h){var g=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=d(this),j=i.data("stickyTabs");if(!j){j=new b(i,h);i.data("stickyTabs",j)}if(typeof h==="string"){j[h].apply(j,g)}})};d.fn.stickyTabs.options={tabsWrapSelector:".tabs",mq:"(max-width: 47.9375em)"};d.fn.stickyTabs.settings={tabWidth:0,windowWidth:0,overlap:0,isStickyTabs:false,prop:e.csstransforms?"transform":"left",valStart:e.csstransforms?"translate(":"",valEnd:e.csstransforms?"px,0)":"px"}})(jQuery,Modernizr,window);(function(c,d){var b=function(e){this.$el=c(e);this.showHash=this.$el.data("hash")||false};b.prototype={constructor:b,show:function(h){var g=this,l=g.$el,f=l.attr("data-target"),j,i,k;g.$target=g.$target||c('[data-tab="'+f+'"]');h=h===false?false:true;if(!g.$target.length||g.$target.hasClass("active")||l.parent("li").hasClass("active")){return}j=l.parent().find(".active:last")[0];i=g.$target.parent().find("> .active");k=new c.Event({type:"show",relatedTarget:j,prevPane:i,pane:g.$target});l.add(g.$target).trigger(k);if(k.isDefaultPrevented()){return}g.activate(l,l.parent());g.activate(g.$target,g.$target.parent(),function(){l.add(g.$target).trigger({type:"shown",relatedTarget:j,prevPane:i,pane:g.$target});if(g.showHash&&h){g.hash(f)}},true)},activate:function(g,j,k,f){var e=j.find("> .active"),i=k&&c.support.transition&&e.hasClass("fade");function h(){var l;e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");g.addClass("active");if(f){e.addClass("off-screen");g.removeClass("off-screen")}if(i){l=g[0].offsetWidth;g.addClass("in")}else{g.removeClass("fade")}if(g.parent(".dropdown-menu")){g.closest("li.dropdown").addClass("active")}if(k){k()}}if(i){e.one(c.support.transition.end,h)}else{h()}e.removeClass("in")},hash:function(g,e){var f;g=g.replace(/^#/,"");if(e&&e.length){e.attr("id","")}f=c("<div/>").css({position:"absolute",visibility:"hidden",top:c(window).scrollTop()+"px"}).attr("id",g).appendTo(document.body);window.location.hash=g;f.remove();if(e&&e.length){e.attr("id",g)}}};c.fn.tab=function(f){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var h=c(this),g=h.data("tab");if(!g){g=new b(this);h.data("tab",g)}if(typeof f==="string"){g[f].apply(g,e)}})};c.fn.tab.Constructor=b;c(window).on("hashchange",function(){var h=window.location.hash?window.location.hash.substring(1):c("[data-target]").first().attr("data-target"),e=c('[data-target="'+h+'"]'),g=e.hasClass("active"),f=!!window.location.hash;if(!g){e.tab("show",f)}});c(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(f){f.preventDefault();c(this).tab("show")})})(jQuery);