(function(b){var a="rangecontrol";var c=function(e,g){b.extend(this,b.fn.rangeControl.defaults,g,b.fn.rangeControl.settings);var f=this,h=function(){var i=this;i.$rail=e;i.evts.down=(!i.isTouch?"mousedown":"touchstart")+"."+a;i.evts.move=(!i.isTouch?"mousemove":"touchmove")+"."+a;i.evts.up=(!i.isTouch?"mouseup":"touchend")+"."+a;if(i.$rail.css("position")==="static"){i.$rail.css("position","relative")}i.orientation=i.orientation==="v"?"v":"h";i.dimension=i.orientation==="h"?"width":"height";i.property=i.orientation==="h"?"left":"top";i.$handle=i.$handle instanceof jQuery?i.$handle:b("<span/>",{"class":"handle"});i.$handle.attr("unselectable","on").css(i.handleCss);if(i.range){i.$minHandle=i.$minHandle instanceof jQuery?i.$minHandle:b("<span/>",{"class":"handle"});i.$minHandle.data("min",true).addClass(a+"-min-handle").attr("unselectable","on").css(i.handleCss);i.$handle.data("max",true).addClass(a+"-max-handle")}if(i.$rail.find(i.$handle).length===0){i.$rail.append(i.$handle);if(i.range){i.$rail.append(i.$minHandle)}}if(i.hideHandle){i.$handle.css({opacity:"0",background:"none",border:"none"})}if(i.hideHandle&&i.hideAmbit){console.warn("**HEY!** $handle and $ambit can't both be false!")}if(!i.hideAmbit){i.$ambit=i.$ambit instanceof jQuery?i.$ambit:b("<span/>",{"class":"ambit"});if(i.$rail.find(i.$ambit).length===0){i.$rail.append(i.$ambit)}i.$ambit.css({display:"block",position:"absolute"}).css(i.property,0)}else{i.$ambit=false}},d=function(){var i=f.range?f.$handle.add(f.$minHandle):f.$handle,j=b("body");i.on("selectstart dragstart mousedown",function(){return false});i.on(f.evts.down,function(k){if(f.inMotion){return}k.preventDefault();var n=this.className.indexOf("min")>-1?f.$minHandle:f.$handle,m=!f.range?"":this.className.indexOf("min")>-1?"grabbing-min":"grabbing-max",l=f.$rail.offset();f.inMotion=true;j.addClass("grabbing "+m);n.addClass("grabbed");f.fire(f.evts.start);b(document).on(f.evts.move,function(r){r.preventDefault();var s=f.isTouch?r.originalEvent.targetTouches[0]:null,q=f.isTouch?s.pageX:r.pageX,p=f.isTouch?s.pageY:r.pageY,o=0;if(f.orientation==="h"){o=q-l.left}else{o=p-l.top}f.slideToPos(o,n)}).on(f.evts.up,function(){b(document).off("."+a);f.inMotion=false;j.removeClass("grabbing "+m);i.removeClass("grabbed");f.fire(f.evts.end)})}).on("click."+a,function(k){k.stopPropagation()});f.$rail.on("click",function(l){if(!f.inMotion){var m=f.$rail.offset();var k;if(f.orientation==="h"){k=l.pageX-m.left}else{k=l.pageY-m.top}f.slideToPos(k)}});b(window).on("resize."+a,function(){f.refresh(false)})};h.call(f);d.call(f);f.reset(true)};c.prototype.slideToInitialPos=function(){var d=this;if(!d.range){d.slideToInitialVal()}else{d.slideToInitialMin();d.slideToInitialMax()}};c.prototype.slideToInitialVal=function(){this.slideToPos(this.parseHandlePosition(this.initialValue))};c.prototype.slideToInitialMin=function(){this.slideToPos(this.parseHandlePosition(this.initialMin),this.$minHandle)};c.prototype.slideToInitialMax=function(){this.slideToPos(this.parseHandlePosition(this.initialMax),this.$handle)};c.prototype.parseHandlePosition=function(d){var e=this,f=0;if(b.type(d)==="number"&&d){f=d*(e.steps?e.stepSize:1)}else{if(b.type(d)==="string"){if(d.indexOf("px")>-1){f=parseInt(d,10)}else{if(d.indexOf("%")>-1){f=e.railSize*(parseInt(d,10)/100)}}}}return f};c.prototype.slideToPos=function(e,k){k=k||this.$handle;var g=this,h={},j=k.data("min")===true,f,d,i=function(l){return Math.round(l/g.stepSize)};e=g.validatePos(e,j);if(g.steps){f=i(g.currentPosition);d=i(e);h={oldStep:f,newStep:d,stepDelta:d-f};e=d*g.stepSize;if(h.stepDelta){g.goToPos(e,k,h)}}else{h={oldPosition:g.currentPosition,newPosition:e,positionDelta:e-g.currentPosition};g.goToPos(e,k,j)}return g};c.prototype.validatePos=function(d,f){var e=this;if(d<0){d=0}if(d>e.railSize){d=e.railSize}if(e.range){if(f){if(e.currentPosition!==false&&d>e.currentPosition){d=e.currentPosition}}else{if(e.currentMinPosition!==false&&d<e.currentMinPosition){d=e.currentMinPosition}}}return d};c.prototype.goToPos=function(h,g,f){var e=this,d=[];g[0].style[e.property]=(h/e.railSize*100)+"%";if(f){e.lastMinPosition=h}else{e.lastPosition=h}if(!e.range){e.currentPosition=e.lastPosition;e.currentPositionPct=e.lastPosition/e.railSize*100}else{if(e.isHidden){e.currentPosition=e.parseHandlePosition(e.initialMax);e.currentMinPosition=e.parseHandlePosition(e.initialMin)}else{e.currentPosition=e.lastPosition!==false?e.lastPosition:e.parseHandlePosition(e.$handle.css(e.property),10);e.currentMinPosition=e.lastMinPosition!==false?e.lastMinPosition:e.parseHandlePosition(e.$minHandle.css(e.property),10)}e.currentPositionPct=Math.min(e.currentPosition/e.railSize*100,100);e.currentMinPositionPct=Math.min(e.currentMinPosition/e.railSize*100,100);if(e.currentPositionPct>99.49){e.currentPositionPct=100}else{if(e.currentPositionPct<0.5){e.currentPositionPct=0}}if(e.currentMinPositionPct>99.49){e.currentMinPositionPct=100}else{if(e.currentMinPositionPct<0.5){e.currentMinPositionPct=0}}e.$ambit[e.dimension](e.getHandleDist()+"%");e.$ambit.css(e.property,e.currentMinPositionPct+"%")}if(e.$ambit&&!e.range){e.$ambit[e.dimension](e.currentPositionPct+"%")}if(e.range){d=[{min:e.currentMinPosition,max:e.currentPosition},{min:e.currentMinPositionPct,max:e.currentPositionPct},e]}else{d=[e.currentPositionPct,e]}e.fire(e.evts.slid,d);return e};c.prototype.getHandleDist=function(){var d=this,e=parseFloat(d.$handle[0].style[d.property])-parseFloat(d.$minHandle[0].style[d.property]);return e};c.prototype.slideToStep=function(d){this.slideToPos(d*(this.steps?this.stepSize:1));return this};c.prototype.updateSize=function(d){var f=this,e;e=f.orientation==="h"?f.$rail.outerWidth():f.$rail.outerHeight();if(e!==f.railSize){f.railSize=e||f.railSize;if(f.steps){f.stepSize=f.railSize/f.steps}if(d!==false){f.slideToPos(f.currentPosition);if(f.range){f.slideToPos(f.currentMinPosition,f.$minHandle)}}}return f};c.prototype.fire=function(e,d){this.$rail.trigger(e+"."+a,d||[this])};c.prototype.refresh=function(d){var e=this;e.isHidden=e.$rail.is(":hidden");e.updateSize(d);return this};c.prototype.reset=function(d){var f=this,e=f.$handle[0].style[f.property].indexOf("%")>-1;f.refresh(false);if(d||!e){f.slideToInitialPos()}else{if(!f.range){f.slideToPos(f.parseHandlePosition(f.$handle[0].style[f.property]))}else{f.slideToPos(f.parseHandlePosition(f.$minHandle[0].style[f.property]),f.$minHandle);f.slideToPos(f.parseHandlePosition(f.$handle[0].style[f.property]),f.$handle)}}};c.prototype.destroy=function(){var d=this;d.$rail.empty().removeData("rangeControl")};b.fn.rangeControl=function(e){var d=Array.prototype.slice.apply(arguments);return this.each(function(){var f=b(this),g=f.data("rangeControl");if(!g){g=new c(f,e);f.data("rangeControl",g)}if(typeof e==="string"){g[e].apply(g,d.slice(1))}})};b.fn.rangeControl.defaults={initialValue:0,steps:0,orientation:"h",hideHandle:false,hideAmbit:false,$handle:null,$ambit:null,callback:null,range:false,initialMin:"0",initialMax:"100%"};b.fn.rangeControl.settings={isTouch:!!("ontouchstart" in window),inMotion:false,stepSize:0,railSize:false,currentPosition:false,currentPositionPct:false,currentMinPosition:false,currentMinPositionPct:false,lastPosition:false,lastMinPosition:false,evts:{start:"scrubstart",end:"scrubend",slid:"slid"},handleCss:{display:"block",position:"absolute",top:0,left:0,MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"}}}(jQuery));
/*!
 * jQuery Shuffle Plugin
 * Uses CSS Transforms to filter down a grid of items (degrades to jQuery's animate).
 * Inspired by Isotope http://isotope.metafizzy.co/
 * Use it for whatever you want!
 * @author Glen Cheney (http://glencheney.com)
 * @version 1.6.1
 * @date 12/06/12
 */
!(function(b,c,d){b.fn.sorted=function(g){var h=b.extend({},b.fn.sorted.defaults,g),e=this.get(),f=false;if(h.by!==b.noop&&h.by!==null&&h.by!==d){e.sort(function(k,i){if(f){return 0}var l=h.by(b(k)),j=h.by(b(i));if(l===d&&j===d){f=true;return 0}return(l<j)?-1:(l>j)?1:0})}if(f){return this.get()}if(h.reverse){e.reverse()}return e};b.fn.sorted.defaults={reverse:false,by:null};var a=function(i,f){var e=this,h=b(window);b.extend(e,b.fn.shuffle.options,f,b.fn.shuffle.settings);e.$container=i.addClass("shuffle");e.$items=e._getItems().addClass("shuffle-item");e.transitionName=e.prefixed("transition"),e.transform=e.getPrefixed("transform");e.fire("loading");e.offset={left:parseInt((e.$container.css("padding-left")||0),10),top:parseInt((e.$container.css("padding-top")||0),10)};e.isFluid=e.columnWidth&&typeof e.columnWidth==="function";var g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};e.transitionEndName=g[e.transitionName];e.itemCss={position:"absolute",top:0,left:0};if(e.$container.css("position")==="static"){e.$container.css("position","relative")}e.$container[0].style[e.transitionName]="height "+e.speed+"ms "+e.easing;e._initItems(!e.showInitialTransition);e.windowHeight=h.height();e.windowWidth=h.width();h.on("resize.shuffle",function(){if(!e.enabled){return}var j=h.height(),k=h.width();if(k!==e.windowWidth||j!==e.windowHeight){e.resized();e.windowHeight=j;e.windowWidth=k}});e._setColumns();e._resetCols();e.shuffle(e.group);if(!e.showInitialTransition){e._initItems()}e.fire("done")};a.prototype={constructor:a,shuffle:function(f){var e=this;if(!f){f="all"}e.filter(f);e.lastFilter=f;e.visibleItems=e.$items.filter(".filtered").length;e._resetCols();e.shrink();e._reLayout()},filter:function(g,i){var f=this,h=i!==d,j=h?i:f.$items,e=b();g=g||f.lastFilter;f.fire("filter");j.removeClass("concealed filtered");if(b.isFunction(g)){j.each(function(){var k=b(this),l=g.call(k[0],k,f);k.addClass(l?"filtered":"concealed");if(l){e=e.add(k)}})}else{f.group=g;if(g!=="all"){j.each(function(){var n=b(this),k=n.data("groups"),m=f.delimeter&&!b.isArray(k)?k.split(f.delimeter):k,l=b.inArray(g,m)>-1,o=l?"concealed":"filtered";n.addClass(o);if(l){e=e.add(n)}})}else{e=j.addClass("filtered")}}return e},_initItems:function(f){var e=this;e.$items.each(function(){b(this).css(e.itemCss);if(e.supported&&!f){e._setTransition(this)}})},_setTransition:function(f){var e=this;f.style[e.transitionName]=e.transform+" "+e.speed+"ms "+e.easing+", opacity "+e.speed+"ms "+e.easing},_setSequentialDelay:function(f){var e=this;if(!e.supported){return}f.each(function(g){this.style[e.transitionName+"Delay"]=((g+1)*150)+"ms";b(this).one(b.support.transition.end,function(){this.style[e.transitionName+"Delay"]="0ms"})})},_getItems:function(){return this.$container.children(this.itemSelector)},_setColumns:function(){var e=this,f=e.$container.width(),g=typeof e.gutterWidth==="function"?e.gutterWidth(f):e.gutterWidth;e.colWidth=e.isFluid?e.columnWidth(f):e.columnWidth||e.$items.outerWidth(true)||f;e.colWidth+=g;e.cols=Math.floor((f+g+1e-12)/e.colWidth);e.cols=Math.max(e.cols,1);if(!e.colWidth||isNaN(e.cols)||!f){e.needsUpdate=true}else{e.needsUpdate=false}},setContainerSize:function(){var e=this,f=Math.max.apply(Math,e.colYs);e.$container.css("height",f+"px")},fire:function(e){this.$container.trigger(e+".shuffle",[this])},layout:function(f,h,g){var e=this;h=h||e.filterEnd;e.layoutTransitionEnded=false;b.each(f,function(j){var o=b(f[j]),m=Math.ceil(o.outerWidth(true)/e.colWidth);m=Math.min(m,e.cols);if(m===1){e._placeItem(o,e.colYs,h)}else{var p=e.cols+1-m,l=[],n,k;for(k=0;k<p;k++){n=e.colYs.slice(k,k+m);l[k]=Math.max.apply(Math,n)}e._placeItem(o,l,h,g)}});e.setContainerSize()},_resetCols:function(){var e=this.cols;this.colYs=[];while(e--){this.colYs.push(0)}},_reLayout:function(f){var e=this;f=f||e.filterEnd;e._resetCols();if(e.keepSorted&&e.lastSort){e.sort(e.lastSort,true)}else{e.layout(e.$items.filter(".filtered").get(),e.filterEnd)}},_placeItem:function(p,m,q,g){var r=this,e=Math.min.apply(Math,m),o=0;for(var h=0,j=m.length;h<j;h++){if(m[h]>=e-r.buffer&&m[h]<=e+r.buffer){o=h;break}}var n=r.colWidth*o,l=e;n=Math.round(n+r.offset.left);l=Math.round(l+r.offset.top);p.data({x:n,y:l});var k=e+p.outerHeight(true),f=r.cols+1-j;for(h=0;h<f;h++){r.colYs[o+h]=k}if(g){r._skipTransition(p[0],function(){r.transition({from:"layout",$this:p,x:n,y:l,opacity:0})})}else{r.transition({from:"layout",$this:p,x:n,y:l,scale:1,opacity:1,callback:q})}},shrink:function(){var e=this,f=e.$items.filter(".concealed");if(f.length===0){return}e.fire("shrink");e.shrinkTransitionEnded=false;f.each(function(){var i=b(this),h=i.data(),g=parseInt(h.x,10),j=parseInt(h.y,10);if(!g){g=0}if(!j){j=0}e.transition({from:"shrink",$this:i,x:g,y:j,scale:0.001,opacity:0,callback:e.shrinkEnd})})},sort:function(g,h){var f=this,e=f.$items.filter(".filtered").sorted(g);f._resetCols();f.layout(e,function(){if(h){f.filterEnd()}f.sortEnd()});f.lastSort=g},setPrefixedCss:function(e,g,f){e.css(this.prefixed(g),f)},getPrefixed:function(f){var e=this.prefixed(f);return e?e.replace(/([A-Z])/g,function(h,g){return"-"+g.toLowerCase()}).replace(/^ms-/,"-ms-"):e},transition:function(h){var f=this,g,e=function(){if(!f.layoutTransitionEnded&&h.from==="layout"){f.fire("layout");h.callback.call(f);f.layoutTransitionEnded=true}else{if(!f.shrinkTransitionEnded&&h.from==="shrink"){h.callback.call(f);f.shrinkTransitionEnded=true}}};h.callback=h.callback||b.noop;if(f.supported){if(h.scale===d){h.scale=1}if(f.threeD){g="translate3d("+h.x+"px, "+h.y+"px, 0) scale3d("+h.scale+", "+h.scale+", 1)"}else{g="translate("+h.x+"px, "+h.y+"px) scale("+h.scale+", "+h.scale+")"}h.$this.css("opacity",h.opacity);if(h.x!==d){f.setPrefixedCss(h.$this,"transform",g)}h.$this.one(f.transitionEndName,e)}else{h.$this.stop().animate({left:h.x,top:h.y,opacity:h.opacity},f.speed,"swing",e)}},resized:function(){this._setColumns();this._reLayout()},shrinkEnd:function(){this.fire("shrunk")},filterEnd:function(){this.fire("filtered")},sortEnd:function(){this.fire("sorted")},destroy:function(){var e=this;e.$container.removeAttr("style").removeData("shuffle");b(window).off(".shuffle");e.$items.removeAttr("style").removeClass("concealed filtered shuffle-item")},_skipTransition:function(g,j,i){var f=this,e,h=f.getPrefixed("transitionDuration"),k=g.style[h];g.style[h]="0ms";if(b.isFunction(j)){j()}else{g.style[j]=i}e=g.offsetWidth;g.style[h]=k},appended:function(f,g,e){g=g===false?false:true;e=e===false?false:true;this._addItems(f,g,e)},_addItems:function(f,i,e){var h=this,g;f.addClass("shuffle-item");h.$items=h._getItems();h._initItems();f.not(g).css("opacity",0);g=h.filter(d,f);h.visibleItems=h.$items.filter(".filtered").length;if(i){h.layout(g,null,true);if(e){h._setSequentialDelay(g)}h._revealAppended(g)}else{h.layout(g)}},_revealAppended:function(f){var e=this;setTimeout(function(){f.each(function(g,h){e.transition({from:"reveal",$this:b(h),opacity:1})})},100)},update:function(){this.resized()},disable:function(){this.enabled=false},enable:function(e){this.enabled=true;if(e!==false){this.resized()}}};b.fn.shuffle=function(f,g){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=b(this),h=i.data("shuffle");if(!h){h=new a(i,f);i.data("shuffle",h)}if(b.isFunction(f)){h.shuffle(f)}else{if(typeof f==="string"){if(f==="sort"){h.sort(g)}else{if(f==="destroy"){h.destroy.apply(h,e)}else{if(f==="update"){h.update.apply(h,e)}else{if(f==="appended"){h.appended.apply(h,e)}else{if(f==="layout"){h._reLayout.apply(h,e)}else{if(f==="enable"){h.enable.apply(h,e)}else{if(f==="disable"){h.disable.apply(h,e)}else{h.shuffle(f)}}}}}}}}}})};b.fn.shuffle.options={group:"all",speed:600,easing:"ease-out",itemSelector:"",gutterWidth:0,columnWidth:0,showInitialTransition:true,delimeter:null,buffer:0,keepSorted:true};b.fn.shuffle.settings={enabled:true,supported:c.csstransforms&&c.csstransitions,prefixed:c.prefixed,threeD:c.csstransforms3d}})(jQuery,Modernizr);(function(a){var b=function(c,e){var d=this;a.extend(d,{},a.fn.sonyDraggable.defaults,e);d.$el=c;d.$containment=a(d.containment);d.init()};b.prototype={constructor:b,init:function(){var c=this;c.$containment.on("mousedown touchstart",a.proxy(c.onScrubStart,c));c.$containment.on("mouseup touchend click",a.proxy(c.onScrubEnd,c));a(window).on("mouseup touchend",a.proxy(c.onScrubEnd,c));c.setDimensions();c.setPositions()},onScrubStart:function(f){var c=this,d=a(f.target);if(c.$el.has(d).length===0){return}f.preventDefault();c.setDimensions();c.handleStartPosition=c.getPagePosition(f);c.$containment.on("mousemove touchmove",a.proxy(c.onScrubbing,c))},onScrubbing:function(d){var c=this;d.preventDefault();c.handlePosition.x=c.scrubberLeft+c.getPagePosition(d).x-c.handleStartPosition.x;c.handlePosition.y=c.scrubberTop+c.getPagePosition(d).y-c.handleStartPosition.y;c.setPositions()},onScrubEnd:function(d){var c=this;d.preventDefault();c.$containment.off("mousemove touchmove")},getConstrainedBounds:function(e,d){var c=this;if(c.bounds&&c.bounds[d]){if(e<c.bounds[d].min){return c.bounds[d].min}else{if(e>c.bounds[d].max){return c.bounds[d].max}}}return e},getPagePosition:function(c){if(!c.pageX&&!c.originalEvent){return}return{x:(c.pageX||c.originalEvent.touches[0].pageX),y:(c.pageY||c.originalEvent.touches[0].pageY)}},setPositions:function(){var c=this,e,d;if(c.unit==="px"){if(c.axis.search("x")>=0){e=c.handlePosition.x}if(c.axis.search("y")>=0){d=c.handlePosition.y}}if(c.unit==="%"){if(c.axis.search("x")>=0){e=((c.handlePosition.x)/c.containmentWidth*100)}if(c.axis.search("y")>=0){d=((c.handlePosition.y)/c.containmentHeight*100)}}e=c.getConstrainedBounds(e,"x");d=c.getConstrainedBounds(d,"y");c.$el.css({left:e+c.unit,top:d+c.unit});c.drag({position:{left:e,top:d}})},setDimensions:function(){var c=this;c.containmentWidth=c.$containment.width();c.containmentHeight=c.$containment.height();c.scrubberLeft=c.$el.position().left;c.scrubberTop=c.$el.position().top},setBounds:function(d){var c=this;c.bounds=d;c.setPositions()}};a.fn.sonyDraggable=function(d){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=a(this),e=f.data("sonyDraggable");if(!e){e=new b(f,d);f.data("sonyDraggable",e)}if(typeof d==="string"){e[d].apply(e,c)}})};a.fn.sonyDraggable.defaults={axis:"xy",unit:"px",handlePosition:{x:0,y:0},drag:function(){}}})(jQuery);(function(c,d,a,e){var b=function(f,h){var g=this;c.extend(g,c.fn.scrollerModule.defaults,h,c.fn.scrollerModule.settings);g.$el=c(f),g.$win=c(a),g.$contentContainer=c(g.contentSelector);g.$elements=c(g.itemElementSelector),g.$sampleElement=g.$elements.eq(0);g._setContainerWidth();g.onScrollEnd=g.iscrollProps.onScrollEnd;g.iscrollProps.onScrollEnd=function(){g._onScrollEnd(this)};g.onAnimationEnd=g.iscrollProps.onAnimationEnd;g.iscrollProps.onAnimationEnd=function(){g._onAnimationEnd(this)};g.scroller=new IScroll(g.$el[0],g.iscrollProps);g.$win.on(g.resizeEvent+".sm",c.proxy(g._onResize,g));g.isPaginated=g.mode==="paginate";if(g.nextSelector){g.$navNext=g.nextSelector.jquery?g.nextSelector:g.$el.find(g.nextSelector);g.$navNext.on("click",function(){g.next()})}if(g.prevSelector){g.$navPrev=g.prevSelector.jquery?g.prevSelector:g.$el.find(g.prevSelector);g.$navPrev.on("click",function(){g.prev()})}g._update()};b.prototype={constructor:b,_paginate:function(){var p=this,g=p.$sampleElement.outerWidth(true),f=p.$elements.length,l=p.$el.width()-p.extraSpacing,q=p.fitPerPage||Math.floor(l/g)||1,h=Math.ceil(f/q),j=0,m=g*q;l+=p.extraSpacing;if(h===1||q>f){p.isPaginated=false;return false}else{p.isPaginated=true}function n(u,v,t){var s=p.$elements.slice(v,t+1),i,r;if(u===h-1&&p.lastPageCenter){m=p.$sampleElement.outerWidth(true)*s.length}i=p.centerItems?Math.floor((l-m)*0.5):0;r=Math.floor((u*l)+i);s.css({position:"absolute",top:"0",left:"0"});c.each(s,function(x){var w=c(this);w.css("left",Math.floor(r+(x*w.outerWidth(true)))+"px")})}if(p.mode==="paginate"){for(j=0;j<h;j++){var o=j*q,k=o+q-1;n(j,o,k)}}p.$contentContainer.css("width",h*l);p.totalPages=h;p.itemsPerPage=q;p._fire("paginationcomplete");return true},_update:function(){var f=this,g=true;if(f.mode==="paginate"){g=f._paginate()}if(g){f.scroller.refresh()}if(f.mode==="paginate"&&g){f.scroller.scrollToPage(0,0,400)}f._fire("update")},_onResize:function(){var f=this;if(f.resizeTimer){clearTimeout(f.resizeTimer)}f.resizeTimer=setTimeout(function(){if(!f.destroyed){f._update()}},f.throttleTime)},_onScrollEnd:function(){var f=this;f._fire("scrolled");if(f.onScrollEnd){f.onScrollEnd()}},_onAnimationEnd:function(g){var f=this;if(f.$navPrev&&f.$navNext){if(g.currPageX===0){f.$navPrev.addClass("hide")}else{f.$navPrev.removeClass("hide")}if(g.currPageX===g.pagesX.length-1){f.$navNext.addClass("hide")}else{f.$navNext.removeClass("hide")}}if(f.onAnimationEnd){f.onAnimationEnd(g)}},_setContainerWidth:function(){var g=this,f=0;g.$el.find(g.itemElementSelector).each(function(){f+=Math.round(c(this).outerWidth(true))});g.$contentContainer.css("width",f)},_fire:function(f,g){this.$el.trigger(f+".sm",g||[this])},gotopage:function(f,g){this.scroller.scrollToPage(f,0,g||400)},next:function(){this.gotopage("next")},prev:function(){this.gotopage("prev")},refresh:function(){this._update()},destroy:function(){var f=this;f.$contentContainer.css("width","");f.$elements.css({position:"",top:"",left:""});clearTimeout(f.resizeTimer);f.destroyed=true;f.scroller.destroy();f.$win.off(".sm");f.$el.removeData("scrollerModule")},disable:function(){this.scroller.disable()},enable:function(){this.scroller.enable()}};c.fn.scrollerModule=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=c(this),h=i.data("scrollerModule");if(!h){h=new b(i,g);i.data("scrollerModule",h)}if(typeof g==="string"&&g.charAt(0)!=="_"){h[g].apply(h,f)}})};c.fn.scrollerModule.defaults={throttleTime:25,contentSelector:".content",itemElementSelector:".block",mode:"free",lastPageCenter:false,extraSpacing:0,nextSelector:"",prevSelector:"",fitPerPage:null,centerItems:true,iscrollProps:{snap:false,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,onScrollEnd:null,lockDirection:true,onBeforeScrollStart:null,onAnimationEnd:null,}};c.fn.scrollerModule.settings={resizeTimer:null,resizeEvent:"onorientationchange" in a?"orientationchange":"resize"}})(jQuery,Modernizr,window);(function(c,d,b,e){var a=function(h,g){var f=this;c.extend(f,c.fn.stickyTabs.options,g,c.fn.stickyTabs.settings);f.$container=h;f._init()};a.prototype={constructor:a,_init:function(){var f=this;f.$tabsWrap=c(f.tabsWrapSelector);f.$tabsContainer=f.$tabsWrap.parent();f.$tabs=f.$tabsWrap.children(".tab");if(f.$tabs.length===0){return}f.$activeTab=f.$tabs.filter(".active");f.$window=c(b);f.windowWidth=f.$window.width();f.windowHeight=f.$window.height();f.tabWidth=f.$tabs.outerWidth();f.tabletMode=f.$container.data("tabletMode");f.isCarousel=f.tabletMode==="carousel";if(f.isCarousel){f.$navNext=f.$container.find(".tab-nav-next");f.$navPrev=f.$container.find(".tab-nav-prev")}f.$tabs.on("shown",c.proxy(f._onTabShown,f));f.$window.on("resize.stickytabs",c.proxy(f._onResize,f));if(d.mq(f.mq)){f.setup()}else{if(f.isCarousel&&d.mq(f.carouselMq)){f.setupCarousel()}}},_getBounded:function(f){return Exports.constrain(f,0,this.windowWidth-this.tabWidth)},_onResize:function(){var f=this;f.windowWidth=f.$window.width();f.windowHeight=f.$window.height();if(d.mq(f.mq)){if(f.isTabCarousel){f.teardownCarousel()}if(!f.isStickyTabs){f.setup()}f.animateTab()}else{if(f.isCarousel&&d.mq(f.carouselMq)){if(f.isStickyTabs){f.teardown()}if(!f.isTabCarousel){f.setupCarousel()}}else{if(f.isStickyTabs){f.teardown()}if(f.isTabCarousel){f.teardownCarousel()}}}},_onTabShown:function(f){var g=this,h=c(f.target);b.iQ.update();g.$activeTab=h;if(g.isStickyTabs){g._onTabSelected()}},_onTabSelected:function(){var f=this,g={position:"absolute"};f.$tabs.removeAttr("style");f.tabOffset=f.$activeTab[0].offsetLeft+f.scroller.x;f.overlap=null;f.lastX=null;g[f.prop]=f._getX(f._getBounded(f.tabOffset));f.$activeTab.css(g);if(!f.$activeTab.is(":last-child")){f.$activeTab.next().css("marginLeft",f.tabWidth)}else{f.$activeTab.prev().css("marginRight",f.tabWidth)}if(f.scroller){f.scroller.refresh()}f.animateTab()},_getX:function(f){return[this.valStart,f,this.valEnd].join("")},animateTab:function(){console.group("animateTab: StickyTabs");var h=this,g=h.scroller.x*-1,l=h.lastX?h.lastX-g:0,k=h.overlap?h.overlap:h.tabOffset,f=k+l,j=h._getBounded(f),i=h._getX(j+g);if(h.scroller.moved&&!h.isClickCanceled){h.$tabs.on("click.stickytabs",false);h.isClickCanceled=true}h.overlap=j!==f?f:null;console.log("iscroll:",h.scroller);console.log("x:",g);console.log("lastX:",h.lastX);console.log("distance:",l);console.log("tabOffset:",h.tabOffset);console.log("overlap:",h.overlap);console.log("tmpX:",k,"+",l,"=",f);console.log("newX:",j);console.log(h.prop,i);h.lastX=g;h.tabOffset=j;h.$activeTab.css(h.prop,i);console.groupEnd()},setup:function(){var f=this;console.log("setup: StickyTabs");f.isStickyTabs=true;f.$tabsWrap.addClass("sticky");f.$tabsContainer.scrollerModule({contentSelector:".tabs",itemElementSelector:".tab",mode:"free",centerItems:false,iscrollProps:{snap:false,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,onScrollStart:function(){f.isClickCanceled=false;f.$tabs.off(".stickytabs");f.animateTab()},onScrollMove:function(){f.animateTab()},onScrollEnd:function(){f.animateTab()},onTouchEnd:function(){},onAnimate:function(){f.animateTab()},onAnimationEnd:function(){f.animateTab()}}});f.scroller=f.$tabsContainer.data("scrollerModule").scroller;f._onTabSelected()},teardown:function(){var f=this;console.log("teardown: StickyTabs");f.$tabsWrap.off("scroll").removeClass("sticky");f.$tabs.removeAttr("style");f.lastX=0;f.isStickyTabs=false},destroy:function(){var f=this;f.teardown();f.$tabs.off("shown");f.$window.off(".stickytabs");f.$container.removeData("stickyTabs")},setupCarousel:function(){var f=this;f.$navPrev.addClass("hide");f.$navNext.addClass("hide");f.$tabsContainer.scrollerModule({contentSelector:".tabs",itemElementSelector:".tab",mode:"paginate",nextSelector:".tab-nav-next",prevSelector:".tab-nav-prev",centerItems:false,iscrollProps:{snap:true,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,}});if(f.$tabsContainer.data("scrollerModule").isPaginated){f.$navNext.removeClass("hide");f.$tabsWrap.addClass("tab-carousel")}f.isTabCarousel=true},teardownCarousel:function(){var f=this;console.log("teardown: Carousel tabs");f.$navPrev.addClass("hide");f.$navNext.addClass("hide");f.$tabsWrap.removeClass("tab-carousel");f.$tabsContainer.scrollerModule("destroy");f.isTabCarousel=false},update:function(){}};c.fn.stickyTabs=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var h=c(this),i=h.data("stickyTabs");if(!i){i=new a(h,g);h.data("stickyTabs",i)}if(typeof g==="string"){i[g].apply(i,f)}})};c.fn.stickyTabs.options={tabsWrapSelector:".tabs",mq:"(max-width: 47.9375em)",carouselMq:"(min-width: 48em) and (max-width: 61.1875em)",tabOffset:0,initialTabWidth:0,tabWidth:0,tabsWidth:0,windowWidth:0,windowHeight:0,data:null,lastX:null,isStickyTabs:false,toOffset:0};c.fn.stickyTabs.settings={prop:d.csstransforms?"transform":"left",valStart:d.csstransforms?"translate(":"",valEnd:d.csstransforms?"px,0)":"px"}}(jQuery,Modernizr,window));(function(b,c){var a=function(d){this.$el=b(d);this.showHash=this.$el.data("hash")||false};a.prototype={constructor:a,show:function(g){var f=this,k=f.$el,d=k.attr("data-target"),i,h,j;f.$target=f.$target||b('[data-tab="'+d+'"]');g=g===false?false:true;if(!f.$target.length||f.$target.hasClass("active")||k.parent("li").hasClass("active")){return}i=k.parent().find(".active:last")[0];h=f.$target.parent().find("> .active");j=new b.Event({type:"show",relatedTarget:i,prevPane:h,pane:f.$target});k.add(f.$target).trigger(j);if(j.isDefaultPrevented()){return}f.activate(k,k.parent());f.activate(f.$target,f.$target.parent(),function(){k.add(f.$target).trigger({type:"shown",relatedTarget:i,prevPane:h,pane:f.$target});if(f.showHash&&g){f.hash(d)}},true)},activate:function(f,i,j,e){var d=i.find("> .active"),h=j&&b.support.transition&&d.hasClass("fade");function g(){var k;d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(e){d.addClass("off-screen");f.removeClass("off-screen")}if(h){k=f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}if(j){j()}}if(h){d.one(b.support.transition.end,g)}else{g()}d.removeClass("in")},hash:function(f,d){var e;f=f.replace(/^#/,"");if(d&&d.length){d.attr("id","")}e=b("<div/>").css({position:"absolute",visibility:"hidden",top:b(window).scrollTop()+"px"}).attr("id",f).appendTo(document.body);window.location.hash=f;e.remove();if(d&&d.length){d.attr("id",f)}},};b.fn.tab=function(e){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var g=b(this),f=g.data("tab");if(!f){f=new a(this);g.data("tab",f)}if(typeof e==="string"){f[e].apply(f,d)}})};b.fn.tab.Constructor=a;b(window).on("hashchange",function(){var g=window.location.hash?window.location.hash.substring(1):b("[data-target]").first().attr("data-target"),d=b('[data-target="'+g+'"]'),f=d.hasClass("active"),e=!!window.location.hash;if(!f){d.tab("show",e)}});b(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();b(this).tab("show")})}(window.jQuery));