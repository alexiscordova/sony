a=function(){console.log("hi")};a=function(){console.log("hi")}(function(c){var b=c.sony=c.sony||{};b.modules=b.modules||{}})(window);(function(d,e,c,f){if(!d.scModules){d.scModules={}}var b=function(k,l){console.log("---->",l);var A=navigator.userAgent.toLowerCase(),z,F=d.browser,u=this,q=F.webkit,C=A.indexOf("android")>-1;u.isIPAD=A.match(/(ipad)/);u.isIPHONE=A.match(/(iphone)/);var G=document.createElement("div").style,y=["webkit","Moz","ms","O"],B="",D=0,m;for(z=0;z<y.length;z++){m=y[z];if(!B&&(m+"Transform") in G){B=m}m=m.toLowerCase();if(!c.requestAnimationFrame){c.requestAnimationFrame=c[m+"RequestAnimationFrame"];c.cancelAnimationFrame=c[m+"CancelAnimationFrame"]||c[m+"CancelRequestAnimationFrame"]}}if(!c.requestAnimationFrame){c.requestAnimationFrame=function(K,H){var i=new Date().getTime(),I=Math.max(0,16-(i-D)),J=c.setTimeout(function(){K(i+I)},I);D=i+I;return J}}if(!c.cancelAnimationFrame){c.cancelAnimationFrame=function(i){clearTimeout(i)}}u.slider=d(k);u.ev=d({});u._doc=d(document);u.st=d.extend({},d.fn.sonyCarousel.defaults,l);console.log(u.st.mode+" - "+u.st.variation);switch(u.st.mode){case"full":break;case"tabbed":break;default:break}switch(u.st.controlNavigation){case"tabbednav":u.st.transitionType="fade";break}u._currAnimSpeed=u.st.transitionSpeed;if(u.st.allowCSS3){if((!q||u.st.allowCSS3OnWebkit)){var t=B+(B?"T":"t");u._useCSS3Transitions=((t+"ransform") in G)&&((t+"ransition") in G);if(u._useCSS3Transitions){u._use3dTransform=(B+(B?"P":"p")+"erspective") in G}}}B=B.toLowerCase();u._vendorPref="-"+B+"-";u._slidesHorizontal=(u.st.slidesOrientation==="vertical")?false:true;u._reorderProp=u._slidesHorizontal?"left":"top";u._sizeProp=u._slidesHorizontal?"width":"height";u._prevNavItemId=-1;u._isMove=(u.st.transitionType==="fade")?false:true;if(!u._isMove){u.st.sliderDrag=false;u._fadeZIndex=10}u._newSlideId=0;u._sPosition=0;d.each(d.scModules,function(H,i){i.call(u)});u.slides=[];u._idCount=0;var w;var g=u.st.slides?d(u.st.slides):u.slider.children().detach();console.log(g);g.each(function(){u._parseNode(this,true);console.log("Parsing Slide: ",this)});if(u.st.randomizeSlides){u.slides.sort(function(){return 0.5-Math.random()})}u.numSlides=u.slides.length;u._refreshNumPreloadImages();if(u.st.startSlideId>u.numSlides-1){u.st.startSlideId=u.numSlides-1}u.staticSlideId=u.currSlideId=u._realId=u.st.startSlideId;u.currSlide=u.slides[u.currSlideId];u._accelerationPos=0;u.slider.addClass((u._slidesHorizontal?"scHor":"scVer")+(u._isMove?"":" scFade"));var p='<div class="scOverflow"><div class="scContainer">';u.slidesSpacing=u.st.slidesSpacing;u._slideSize=(u._slidesHorizontal?u.slider.width():u.slider.height())+u.st.slidesSpacing;u._preload=Boolean(u._numPreloadImages>0);if(u.numSlides<=1){u._loop=false}var x=(u._loop&&u._isMove)?(u.numSlides===2?1:2):0;u._loopHelpers=x;u._maxImages=u.numSlides<6?u.numSlides:6;u._currBlockIndex=0;u._idOffset=0;u.slidesJQ=[];for(z=0;z<u.numSlides;z++){u.slidesJQ.push(d(E(z)))}p+="</div></div>";u.slider.html(p);u._sliderOverflow=u.slider.children(".scOverflow");u._slidesContainer=u._sliderOverflow.children(".scContainer");u._preloader=d('<div class="scPreloader"></div>');var v=u._slidesContainer.children(".scSlide");u._currHolder=u.slidesJQ[u.currSlideId];u._selectedSlideHolder=0;function E(H,I){return'<div style="'+(u._isMove?"":(H!==u.currSlideId?"z-index: 0; display:none; opacity: 0; position: absolute;  left: 0; top: 0;":"z-index: 0;  position: absolute; left: 0; top: 0;"))+'" class="scSlide '+(I||"")+'"></div>'}u._currentSlideContent=u._oldSlideContent=u.slidesJQ[u.currSlideId].find(".scContent");console.log("Current Slide Content: ",u._currentSlideContent instanceof d,"Old Slide Content: ",u._oldSlideContent instanceof d);if("ontouchstart" in c||"createTouch" in document){u.hasTouch=true;u._downEvent="touchstart.sc";u._moveEvent="touchmove.sc";u._upEvent="touchend.sc";u._cancelEvent="touchcancel.sc";u._lastItemFriction=0.5}else{u.hasTouch=false;u._lastItemFriction=0.2;if(u.st.sliderDrag){if(F.msie||F.opera){u._grabCursor=u._grabbingCursor="move"}else{if(F.mozilla){u._grabCursor="-moz-grab";u._grabbingCursor="-moz-grabbing"}else{if(q&&(navigator.platform.indexOf("Mac")!=-1)){u._grabCursor="-webkit-grab";u._grabbingCursor="-webkit-grabbing"}}}u._setGrabCursor()}u._downEvent="mousedown.sc";u._moveEvent="mousemove.sc";u._upEvent="mouseup.sc";u._cancelEvent="mouseup.sc"}if(u._useCSS3Transitions){u._TP="transition-property";u._TD="transition-duration";u._TTF="transition-timing-function";u._yProp=u._xProp=u._vendorPref+"transform";if(u._use3dTransform){if(q){u.slider.addClass("scWebkit3d")}u._tPref1="translate3d(";u._tPref2="px, ";u._tPref3="px, 0px)"}else{u._tPref1="translate(";u._tPref2="px, ";u._tPref3="px)"}if(!u._isMove){var h={};h[(u._vendorPref+u._TP)]="opacity";h[(u._vendorPref+u._TD)]=u.st.transitionSpeed+"ms";h[(u._vendorPref+u._TTF)]=u.st.css3easeInOut;v.css(h)}else{u._slidesContainer[(u._vendorPref+u._TP)]=(u._vendorPref+"transform")}}else{u._xProp="left";u._yProp="top"}var j;d(c).on("resize.sc",function(){if(j){clearTimeout(j)}j=setTimeout(function(){u.updateSliderSize()},50)});u.ev.trigger("scAfterPropsSetup");u.updateSliderSize();if(u.st.keyboardNavEnabled){u._bindKeyboardNav()}if(u.st.arrowsNavHideOnTouch&&u.hasTouch){u.st.arrowsNav=false}if(u.st.arrowsNav){var o="scArrow",s=u.st.controlsInside?u._sliderOverflow:u.slider;d('<div class="'+o+" "+o+'Left"><div class="'+o+'Icn"></div></div><div class="'+o+" "+o+'Right"><div class="'+o+'Icn"></div></div>').appendTo(s);u._arrowLeft=s.children("."+o+"Left").click(function(i){i.preventDefault();u.prev()});u._arrowRight=s.children("."+o+"Right").click(function(i){i.preventDefault();u.next()});if(u.st.arrowsNavAutoHide&&!u.hasTouch){u._arrowLeft.addClass("scHidden");u._arrowRight.addClass("scHidden");var r=s;r.one("mousemove.arrowshover",function(){u._arrowLeft.removeClass("scHidden");u._arrowRight.removeClass("scHidden")});r.hover(function(){if(!u._arrowsAutoHideLocked){u._arrowLeft.removeClass("scHidden");u._arrowRight.removeClass("scHidden")}},function(){if(!u._arrowsAutoHideLocked){u._arrowLeft.addClass("scHidden");u._arrowRight.addClass("scHidden")}})}u.ev.on("scOnUpdateNav",function(){u._updateArrowsNav()});u._updateArrowsNav()}u._hasDrag=(!u.hasTouch&&u.st.sliderDrag)||(u.hasTouch&&u.st.sliderTouch);if(u._hasDrag){u._slidesContainer.on(u._downEvent,function(i){u._onDragStart(i)})}else{u.dragSuccess=false}var n=["scPlayBtnIcon","scPlayBtn","scCloseVideoBtn","scCloseVideoIcn"];u._slidesContainer.click(function(H){if(!u.dragSuccess){var i=d(H.target);var I=i.attr("class");if(d.inArray(I,n)!==-1){if(u.toggleVideo()){return false}}if(u.st.navigateByClick&&!u._blockActions){if(d(H.target).closest(".scNoDrag",u._currHolder).length){return true}u._mouseNext(H)}}});u.ev.trigger("scAfterInit")};b.prototype={_mouseNext:function(i){var g=this;var h=i[g._slidesHorizontal?"pageX":"pageY"]-g._sliderOffset;if(h>0){g.next()}else{g.prev()}},_refreshNumPreloadImages:function(){var g=this,h;h=g.st.numImagesToPreload;g._loop=g.st.loop;if(g._loop){if(g.numSlides===2){g._loop=false;g.st.loopRewind=true}else{if(g.numSlides<2){g.st.loopRewind=g._loop=false}}}if(g._loop&&h>0){if(g.numSlides<=4){h=1}else{if(g.st.numImagesToPreload>(g.numSlides-1)/2){h=Math.floor((g.numSlides-1)/2)}}}g._numPreloadImages=h},_parseNode:function(k,g){var m=this,n,i,h,j={},o;k=d(k);m._currContent=k;m.ev.trigger("scBeforeParseNode",[k,j]);if(j.stopParsing){return}k=m._currContent;j.id=m._idCount;j.contentAdded=false;m._idCount++;if(!j.hasCover){if(k.hasClass("scImg")){o=k;n=true}else{o=k.find(".scImg");if(o.length){n=true}}if(n){j.bigImage=o.attr("data-scBigImg");if(o.is("a")){l(o,"href")}else{if(o.is("img")){l(o)}}}else{if(k.is("img")){k.addClass("scImg");l(k)}}}o=k.find(".scCaption");if(o.length){j.caption=o.remove()}if(!j.image){j.isLoaded=true;j.isRendered=false;j.isLoading=false}j.content=k;m.ev.trigger("scAfterParseNode",[k,j]);function l(q,p){j.image=q.attr(!p?"src":p);j.caption=!p?q.attr("alt"):q.contents();j.videoURL=q.attr("data-scVideo")}if(g){m.slides.push(j)}return j},_bindKeyboardNav:function(){var g=this;g._doc.on("keydown.sckb",function(h){if(!g._isDragging&&!g._isAnimating){if(h.keyCode===37){h.preventDefault();g.prev()}else{if(h.keyCode===39){h.preventDefault();g.next()}}}})},goTo:function(i,h){var g=this;if(i!==g.currSlideId){g._moveTo(i,g.st.transitionSpeed,true,!h)}},destroy:function(g){var h=this;h.ev.trigger("scBeforeDestroy");h._doc.off("keydown.sckb "+h._moveEvent+" "+h._upEvent);h._slidesContainer.on(h._downEvent,function(i){h._onDragStart(i)});h.slider.data("sonyCarousel","");if(g){h.slider.remove()}},_updateBlocksContent:function(J,t){var v=this,C,A,x,G,q,r,B,E=v._loop,D=v.numSlides;if(!isNaN(t)){return H(t)}var w=v.currSlideId;var m;var u=J?(Math.abs(v._prevSlideId-v.currSlideId)>=v.numSlides-1?0:1):v._numPreloadImages;var o=Math.min(2,u);var g=false;var F=false;var s;for(A=w;A<w+1+o;A++){s=H(A);C=v.slides[s];if(C&&(!C.isAdded||!C.positionSet)){g=true;break}}for(A=w-1;A>w-1-o;A--){s=H(A);C=v.slides[s];if(C&&(!C.isAdded||!C.positionSet)){F=true;break}}if(g){for(A=w;A<w+u+1;A++){s=H(A);m=Math.floor((v._realId-(w-A))/v.numSlides)*v.numSlides;C=v.slides[s];if(C){j(C,s)}}}if(F){for(A=w-1;A>w-1-u;A--){s=H(A);m=Math.floor((v._realId-(w-A))/D)*D;C=v.slides[s];if(C){j(C,s)}}}if(!J){var l=w;var k=u;var y=H(w-u);var z=H(w+u);var h=y>z?0:y;for(A=0;A<D;A++){if(y>z){if(A>y-1){continue}}if(A<h||A>z){C=v.slides[A];if(C&&C.holder){C.holder.detach();C.isAdded=false}}}}function j(M,K,L){var n;if(!M.isAdded){if(!L){L=v.slidesJQ[K]}if(!M.holder){L=v.slidesJQ[K]=d(L);M.holder=L}else{L=M.holder}M.appendOnLoaded=false;p(K,M,L);I(K,M);v._addBlockToContainer(M,L,J);M.isAdded=true;n=true}else{I(K,M);p(K,M)}}function I(n,K){if(!K.contentAdded){v.setItemHtml(K,J);if(!J){K.contentAdded=true}}}function p(n,L,K){if(v._isMove){if(!K){K=v.slidesJQ[n]}K.css(v._reorderProp,(n+v._idOffset+m)*v._slideSize)}}function H(i){var n=false;if(E){if(i>D-1){return H(i-D)}else{if(i<0){return H(D+i)}}}return i}},setItemHtml:function(k,j){var q=this;var l=k.content;var n=k.holder;var h=function(s){var r=s.sizeType;return function(z){var x=s.content,v=s.holder;if(z){var y=z.currentTarget;d(y).off("load error");if(z.type==="error"){s.isLoaded=true;s.image="";s.isLoading=false;x.addClass("scSlideError");v.html(x);s.holder.trigger("scAfterContentSet");q.ev.trigger("scAfterContentSet",s);return}}if(s.image){if(s.bigImage&&s.sizeType!==r){if(r==="med"){s.isMedLoading=false}else{if(r==="big"){s.isBigLoading=false}else{s.isMedLoading=s.isLoading=false}}return}if(!s.isLoaded){var A,u;if(x.hasClass("scImg")){u=true;A=x}else{u=false;A=x.find(".scImg")}if(A.length&&A.is("a")){if(u){x=d('<img class="scImg" src="'+s.image+'" />')}else{x.find(".scImg").replaceWith('<img class="scImg" src="'+s.image+'" />')}s.content=x}s.iW=y.width;if(s.iW>0){s.iH=y.height;s.isLoaded=true;s.isLoading=false;q._resizeImage(s)}}else{if(!s.isRendered&&j){g();return}q._resizeImage(s)}}else{if(!q._preload&&j&&!s.isRendered){s.isRendered=true;g();return}s.isLoaded=true;s.isLoading=false}var t=false;var w=s.id-q._newSlideId;if(!j&&!s.appendOnLoaded&&q.st.fadeinLoadedSlide&&(w===0||((t||q._isAnimating||q._isDragging)&&(w===-1||w===1)))){x.css(q._vendorPref+"transition","opacity 400ms ease-in-out").css({visibility:"visible",opacity:0});v.html(x);setTimeout(function(){x.css("opacity",1)},6)}else{v.html(x)}s.isRendered=true;v.find("a").off("click.sc").on("click.sc",function(B){if(q.dragSuccess){return false}else{q._blockActions=true;q.ev.trigger("scSlideClick");setTimeout(function(){q._blockActions=false},3)}});s.holder.trigger("scAfterContentSet");q.ev.trigger("scAfterContentSet",s);if(s.appendOnLoaded){q._addBlockToContainer(s,x,j)}}};if(k.isLoaded){h(k)()}else{if(j){g()}else{i()}}function i(){if(!k.image){h(k)();return}if(!k.isLoading){m(d("<img/>"),k.image)}else{var r=1;var s=function(v){var u=v==="big"?k.isBigLoaded:k.isMedLoaded;if(!k.isLoading){return}if(k.isLoaded){h(k)();return}if(r%50===0){var t=k.imageLoader;if(t.complete&&t.naturalWidth!==f&&t.naturalWidth!==0&&t.naturalHeight!==0){h(k)();return}}if(r>300){return}setTimeout(s,400);r++};s(k.sizeType)}}function m(r,s){if(!j){if(!k.isLoading){if(!s){s=r.attr("src");r=d("<img/>")}o(n);k.isLoading=true;k.imageLoader=r;r.one("load error",h(k)).attr("src",s)}}else{g()}}function p(r){if(r){if(!r.complete||r.naturalWidth===f||r.naturalWidth===0){return false}}else{return false}return true}function g(){n.isWaiting=true;o(n);n.slideId=-99}function o(r){k.holder.html(q._preloader.clone())}},_addBlockToContainer:function(m,l,g){var i=this;var j=m.holder;var k=m.id-i._newSlideId;var h=false;if(i._isMove&&!g&&i.st.fadeinLoadedSlide&&(k===0||((h||i._isAnimating||i._isDragging)&&(k===-1||k===1)))){var l=m.content;l.css(i._vendorPref+"transition","opacity 400ms ease-in-out").css({visibility:"visible",opacity:0});i._slidesContainer.append(j);setTimeout(function(){l.css("opacity",1)},6)}else{i._slidesContainer.append(j)}m.appendOnLoaded=false},_onDragStart:function(k,l){var h=this,g,i;h.dragSuccess=false;if(d(k.target).closest(".scNoDrag",h._currHolder).length){return true}if(!l){if(h._isAnimating){i=true;h._stopAnimation()}}if(h._isDragging){if(h.hasTouch){h._multipleTouches=true}return}else{if(h.hasTouch){h._multipleTouches=false}}h._setGrabbingCursor();if(h.hasTouch){var j=k.originalEvent.touches;if(j&&j.length>0){g=j[0];if(j.length>1){h._multipleTouches=true}}else{return}}else{g=k;k.preventDefault()}h._isDragging=true;h._doc.on(h._moveEvent,function(m){h._onDragMove(m,l)}).on(h._upEvent,function(m){h._onDragRelease(m,l)});h._currMoveAxis="";h._hasMoved=false;h._pageX=g.pageX;h._pageY=g.pageY;h._startPagePos=h._accelerationPos=(!l?h._slidesHorizontal:h._thumbsHorizontal)?g.pageX:g.pageY;h._horDir=0;h._verDir=0;h._currRenderPosition=!l?h._sPosition:h._thumbsPosition;h._startTime=new Date().getTime();if(h.hasTouch){h._sliderOverflow.on(h._cancelEvent,function(m){h._onDragRelease(m,l)})}},_renderMovement:function(q,i){var r=this;if(r._checkedAxis){var m=r._renderMoveTime,n=q.pageX-r._pageX,k=q.pageY-r._pageY,g=r._currRenderPosition+n,s=r._currRenderPosition+k,p=(!i?r._slidesHorizontal:r._thumbsHorizontal),o=p?g:s,h=r._currMoveAxis;r._hasMoved=true;r._pageX=q.pageX;r._pageY=q.pageY;var j=p?r._pageX:r._pageY;if(h==="x"&&n!==0){r._horDir=n>0?1:-1}else{if(h==="y"&&k!==0){r._verDir=k>0?1:-1}}var l=p?n:k;if(!i){if(!r._loop){if(r.currSlideId<=0){if(j-r._startPagePos>0){o=r._currRenderPosition+l*r._lastItemFriction}}if(r.currSlideId>=r.numSlides-1){if(j-r._startPagePos<0){o=r._currRenderPosition+l*r._lastItemFriction}}}}else{if(o>r._thumbsMinPosition){o=r._currRenderPosition+l*r._lastItemFriction}else{if(o<r._thumbsMaxPosition){o=r._currRenderPosition+l*r._lastItemFriction}}}r._currRenderPosition=o;if(m-r._startTime>200){r._startTime=m;r._accelerationPos=j}if(!i){if(r._isMove){r._setPosition(r._currRenderPosition)}}else{r._setThumbsPosition(r._currRenderPosition)}}},_onDragMove:function(m,n){var i=this,g;if(i.hasTouch){if(i._lockAxis){return}var l=m.originalEvent.touches;if(l){if(l.length>1){return}else{g=l[0]}}else{return}}else{g=m}if(!i._hasMoved){if(i._useCSS3Transitions){(!n?i._slidesContainer:i._thumbsContainer).css((i._vendorPref+i._TD),"0s")}(function h(){if(i._isDragging){i._animFrame=requestAnimationFrame(h);if(i._renderMoveEvent){i._renderMovement(i._renderMoveEvent,n)}}})()}if(!i._checkedAxis){var j=(!n?i._slidesHorizontal:i._thumbsHorizontal),k=(Math.abs(g.pageX-i._pageX)-Math.abs(g.pageY-i._pageY))-(j?-7:7);if(k>7){if(j){m.preventDefault();i._currMoveAxis="x"}else{if(i.hasTouch){i._completeGesture();return}}i._checkedAxis=true}else{if(k<-7){if(!j){m.preventDefault();i._currMoveAxis="y"}else{if(i.hasTouch){i._completeGesture();return}}i._checkedAxis=true}}return}m.preventDefault();i._renderMoveTime=new Date().getTime();i._renderMoveEvent=g},_completeGesture:function(){var g=this;g._lockAxis=true;g._hasMoved=g._isDragging=false;g._onDragRelease()},_onDragRelease:function(H,y){var A=this,x,F,g,o,n,k,r,j;A.ev.trigger("scDragRelease");A._renderMoveEvent=null;A._isDragging=false;A._lockAxis=false;A._checkedAxis=false;A._renderMoveTime=0;cancelAnimationFrame(A._animFrame);if(A._hasMoved){if(!y){if(A._isMove){A._setPosition(A._currRenderPosition)}}else{A._setThumbsPosition(A._currRenderPosition)}}A._doc.off(A._moveEvent).off(A._upEvent);if(A.hasTouch){A._sliderOverflow.off(A._cancelEvent)}A._setGrabCursor();if(!A._hasMoved&&!A._multipleTouches){if(y&&A._thumbsEnabled){var I=d(H.target).closest(".scNavItem");if(I.length){A.goTo(I.index())}return}}var w=(!y?A._slidesHorizontal:A._thumbsHorizontal);if(!A._hasMoved||(A._currMoveAxis==="y"&&w)||(A._currMoveAxis==="x"&&!w)){return}A.dragSuccess=true;A._currMoveAxis="";function i(L){if(L<100){return 100}else{if(L>500){return 500}}return L}function v(M,L){if(A._isMove||y){n=(-A._realId-A._idOffset)*A._slideSize;k=Math.abs(A._sPosition-n);A._currAnimSpeed=k/L;if(M){A._currAnimSpeed+=250}A._currAnimSpeed=i(A._currAnimSpeed);A._animateTo(n,false)}}var p=A.st.minSlideOffset,C=A.hasTouch?H.originalEvent.changedTouches[0]:H,s=w?C.pageX:C.pageY,D=A._startPagePos,u=A._accelerationPos,E=A.currSlideId,K=A.numSlides,B=w?A._horDir:A._verDir,J=A._loop,z=false,h=0;x=Math.abs(s-D);F=s-u;g=(new Date().getTime())-A._startTime;o=Math.abs(F)/g;if(B===0||K<=1){v(true,o);return}if(!J&&!y){if(E<=0){if(B>0){v(true,o);return}}else{if(E>=K-1){if(B<0){v(true,o);return}}}}if(!y){if(D+p<s){if(B<0){v(false,o);return}A._moveTo("prev",i(Math.abs(A._sPosition-(-A._realId-A._idOffset+1)*A._slideSize)/o),z,true,true)}else{if(D-p>s){if(B>0){v(false,o);return}A._moveTo("next",i(Math.abs(A._sPosition-(-A._realId-A._idOffset-1)*A._slideSize)/o),z,true,true)}else{v(false,o)}}}else{var n=A._thumbsPosition;var m;if(n>A._thumbsMinPosition){n=A._thumbsMinPosition}else{if(n<A._thumbsMaxPosition){n=A._thumbsMaxPosition}else{var t=0.003,q=(o*o)/(t*2),G=-A._thumbsPosition,l=A._thumbsContainerSize-A._thumbsViewportSize+A._thumbsPosition;if(F>0&&q>G){G=G+A._thumbsViewportSize/(15/(q/o*t));o=o*G/q;q=G}else{if(F<0&&q>l){l=l+A._thumbsViewportSize/(15/(q/o*t));o=o*l/q;q=l}}m=Math.max(Math.round(o/t),50);n=n+q*(F<0?-1:1);if(n>A._thumbsMinPosition){A._animateThumbsTo(n,m,true,A._thumbsMinPosition,200);return}else{if(n<A._thumbsMaxPosition){A._animateThumbsTo(n,m,true,A._thumbsMaxPosition,200);return}}}}A._animateThumbsTo(n,m,true)}},_setPosition:function(h){var g=this;h=g._sPosition=h;if(g._useCSS3Transitions){g._slidesContainer.css(g._xProp,g._tPref1+(g._slidesHorizontal?(h+g._tPref2+0):(0+g._tPref2+h))+g._tPref3)}else{g._slidesContainer.css(g._slidesHorizontal?g._xProp:g._yProp,h)}},updateSliderSize:function(h){var q=this,l,g;if(q.st.beforeResize){q.st.beforeResize.call(q)}if(q.st.autoScaleSlider){var o=q.st.autoScaleSliderWidth,n=q.st.autoScaleSliderHeight;if(q.st.autoScaleHeight){l=q.slider.width();if(l!=q.width){q.slider.css("height",l*(n/o));l=q.slider.width()}g=q.slider.height()}else{g=q.slider.height();if(g!=q.height){q.slider.css("width",g*(o/n));g=q.slider.height()}l=q.slider.width()}}else{l=q.slider.width();g=q.slider.height()}q._sliderOffset=q.slider.offset();q._sliderOffset=q._sliderOffset[q._reorderProp];if(h||l!=q.width||g!=q.height){q.width=l;q.height=g;q._wrapWidth=l;q._wrapHeight=g;q.ev.trigger("scBeforeSizeSet");q._sliderOverflow.css({width:q._wrapWidth,height:q._wrapHeight});q._slideSize=(q._slidesHorizontal?q._wrapWidth:q._wrapHeight)+q.st.slidesSpacing;q._imagePadding=q.st.imageScalePadding;var p,m,k,j;for(k=0;k<q.slides.length;k++){p=q.slides[k];p.positionSet=false;if(p&&p.image&&p.isLoaded){p.isRendered=false;q._resizeImage(p)}}if(q._cloneHolders){for(k=0;k<q._cloneHolders.length;k++){p=q._cloneHolders[k];p.holder.css(q._reorderProp,(p.id+q._idOffset)*q._slideSize)}}q._updateBlocksContent();if(q._isMove){if(q._useCSS3Transitions){q._slidesContainer.css(q._vendorPref+"transition-duration","0s")}q._setPosition((-q._realId-q._idOffset)*q._slideSize)}q.ev.trigger("scOnUpdateNav");if(q.st.afterResize){q.st.afterResize.call(q)}}},setSlidesOrientation:function(g){},appendSlide:function(h,i){var g=this,j=g._parseNode(h);if(isNaN(i)||i>g.numSlides){i=g.numSlides}g.slides.splice(i,0,j);g.slidesJQ.splice(i,0,'<div style="'+(g._isMove?"position: absolute;":"z-index: 0; display:none; opacity: 0; position: absolute;  left: 0; top: 0;")+'" class="scSlide"></div>');if(i<g.currSlideId){g.currSlideId++}g.ev.trigger("scOnAppendSlide",[j,i]);g._refreshSlides(i);if(i===g.currSlideId){g.ev.trigger("scAfterSlideChange")}},removeSlide:function(i){var h=this,g=h.slides[i];if(g){if(g.holder){g.holder.remove()}if(i<h.currSlideId){h.currSlideId++}h.slides.splice(i,1);h.slidesJQ.splice(i,1);h.ev.trigger("scOnRemoveSlide",[i]);h._refreshSlides(i);if(i===h.currSlideId){h.ev.trigger("scAfterSlideChange")}}},_refreshSlides:function(k){var h=this,g=h.numSlides,j=h._realId<=0?0:Math.floor(h._realId/g);h.numSlides=h.slides.length;if(h.numSlides===0){h.currSlideId=h._idOffset=h._realId=0;h.currSlide=h._oldHolder=null}else{h._realId=j*h.numSlides+h.currSlideId}for(var l=0;l<h.numSlides;l++){h.slides[l].id=l}h._oldSlideContent=h.currSlide.find(".scContent");h.currSlide=h.slides[h.currSlideId];h._currHolder=h.slidesJQ[h.currSlideId];if(h.currSlideId>=h.numSlides){h.goTo(h.numSlides-1)}else{if(h.currSlideId<0){h.goTo(0)}}h._refreshNumPreloadImages();if(h._isMove&&h._loop){h._slidesContainer.css((h._vendorPref+h._TD),"0ms")}if(h._refreshSlidesTimeout){clearTimeout(h._refreshSlidesTimeout)}h._refreshSlidesTimeout=setTimeout(function(){h._setPosition((-h._realId-h._idOffset)*h._slideSize);h._updateBlocksContent()},14);h.ev.trigger("scOnUpdateNav")},_setGrabCursor:function(){var g=this;if(!g.hasTouch&&g._isMove){if(g._grabCursor){g._sliderOverflow.css("cursor",g._grabCursor)}else{g._sliderOverflow.removeClass("grabbing-cursor");g._sliderOverflow.addClass("grab-cursor")}}},_setGrabbingCursor:function(){var g=this;if(!g.hasTouch&&g._isMove){if(g._grabbingCursor){g._sliderOverflow.css("cursor",g._grabbingCursor)}else{g._sliderOverflow.removeClass("grab-cursor");g._sliderOverflow.addClass("grabbing-cursor")}}},next:function(h){var g=this;g._moveTo("next",g.st.transitionSpeed,true,!h)},prev:function(h){var g=this;g._moveTo("prev",g.st.transitionSpeed,true,!h)},_moveTo:function(l,z,m,r,w){var s=this,k,C,y,t;if(s._isVideoPlaying){s.stopVideo()}s.ev.trigger("scBeforeMove",[l,r]);if(l==="next"){t=s.currSlideId+1}else{if(l==="prev"){t=s.currSlideId-1}else{t=l=parseInt(l,10)}}if(!s._loop){if(t<0){s._doBackAndForthAnim("left",!r);return}else{if(t>=s.numSlides){s._doBackAndForthAnim("right",!r);return}}}if(s._isAnimating){s._stopAnimation();m=false}C=t-s.currSlideId;s._prevSlideId=s.currSlideId;s._oldSlideContent=s.slidesJQ[s._prevSlideId].find(".scContent");var j=s.currSlideId;var u=s.currSlideId+C;var n=s._realId;var B;var x;if(s._loop){u=s._updateBlocksContent(false,u);n+=C}else{n=u}s._newSlideId=u;s._oldHolder=s.slidesJQ[s.currSlideId];s._realId=n;s.currSlideId=s._newSlideId;s.currSlide=s.slides[s.currSlideId];s._currHolder=s.slidesJQ[s.currSlideId];var h=2;var v=Boolean(C>0);var q=Math.abs(C);var g=Math.floor(j/s._numPreloadImages);var E=Math.floor((j+(v?h:-h))/s._numPreloadImages);var D=v?Math.max(g,E):Math.min(g,E);var A=D*s._numPreloadImages+(v?(s._numPreloadImages-1):0);if(A>s.numSlides-1){A=s.numSlides-1}else{if(A<0){A=0}}var o=v?(A-j):(j-A);if(o>s._numPreloadImages){o=s._numPreloadImages}if(q>o+h){s._idOffset+=(q-(o+h))*(v?-1:1);z=z*1.4;for(y=0;y<s.numSlides;y++){s.slides[y].positionSet=false}}s._currAnimSpeed=z;s._updateBlocksContent(true);if(!w){x=true}k=(-n-s._idOffset)*s._slideSize;if(x){setTimeout(function(){s._isWorking=false;s._animateTo(k,l,false,m);s.ev.trigger("scOnUpdateNav")},0)}else{s._animateTo(k,l,false,m);s.ev.trigger("scOnUpdateNav")}function p(i){if(i<0){i=s.numSlides+i}else{if(i>s.numSlides-1){i=i-s.numSlides}}if(i!==s.currSlideId){return false}return true}},_updateArrowsNav:function(){var g=this,h="scArrowDisabled";if(g.st.arrowsNav){if(g.numSlides<=1){g._arrowLeft.css("display","none");g._arrowRight.css("display","none");return}else{g._arrowLeft.css("display","block");g._arrowRight.css("display","block")}if(!g._loop&&!g.st.loopRewind){if(g.currSlideId===0){g._arrowLeft.addClass(h)}else{g._arrowLeft.removeClass(h)}if(g.currSlideId===g.numSlides-1){g._arrowRight.addClass(h)}else{g._arrowRight.removeClass(h)}}}},_animateTo:function(o,i,g,m,j){var q=this,k,l,n;var h={};if(isNaN(q._currAnimSpeed)){q._currAnimSpeed=400}q._sPosition=q._currRenderPosition=o;q.ev.trigger("scBeforeAnimStart");if(q.st.beforeSlideChange){q.st.beforeSlideChange.call(q)}q._currentSlideContent=q.slidesJQ[q.currSlideId].find(".scContent");console.log("ANIMATION STARTED",q._currentSlideContent.attr("id"));q._currentSlideContent.trigger("slidestart.sc");if(!q._useCSS3Transitions){if(q._isMove){h[q._slidesHorizontal?q._xProp:q._yProp]=o+"px";q._slidesContainer.animate(h,q._currAnimSpeed,m?q.st.easeInOut:q.st.easeOut)}else{l=q._oldHolder;n=q._currHolder;n.stop(true,true).css({opacity:0,display:"block",zIndex:q._fadeZIndex});q._currAnimSpeed=q.st.transitionSpeed;n.animate({opacity:1},q._currAnimSpeed,q.st.easeInOut);p();if(l){l.data("scTimeout",setTimeout(function(){l.stop(true,true).css({opacity:0,display:"none",zIndex:0})},q._currAnimSpeed+60))}}}else{if(q._isMove){h[(q._vendorPref+q._TD)]=q._currAnimSpeed+"ms";h[(q._vendorPref+q._TTF)]=m?d.scCSS3Easing[q.st.easeInOut]:d.scCSS3Easing[q.st.easeOut];q._slidesContainer.css(h);console.log("Current animation block -------> ",h);setTimeout(function(){q._setPosition(o)},q.hasTouch?5:0)}else{q._currAnimSpeed=q.st.transitionSpeed;l=q._oldHolder;n=q._currHolder;console.log("Current animation block -------> ",n);if(n.data("scTimeout")){n.css("opacity",0)}p();if(l){l.data("scTimeout",setTimeout(function(){h[q._vendorPref+q._TD]="0ms";h.zIndex=0;h.display="none";l.data("scTimeout","");l.css(h);setTimeout(function(){l.css("opacity",0)},16)},q._currAnimSpeed+60))}h.display="block";h.zIndex=q._fadeZIndex;h.opacity=0;h[q._vendorPref+q._TD]="0ms";h[q._vendorPref+q._TTF]=d.scCSS3Easing[q.st.easeInOut];n.css(h);n.data("scTimeout",setTimeout(function(){n.css(q._vendorPref+q._TD,q._currAnimSpeed+"ms");n.data("scTimeout",setTimeout(function(){n.css("opacity",1);n.data("scTimeout","")},20))},20))}}q._isAnimating=true;if(q.loadingTimeout){clearTimeout(q.loadingTimeout)}if(j){q.loadingTimeout=setTimeout(function(){q.loadingTimeout=null;j.call()},q._currAnimSpeed+60)}else{q.loadingTimeout=setTimeout(function(){q.loadingTimeout=null;q._animationComplete(i)},q._currAnimSpeed+60)}function p(){var r=l.data("scTimeout");if(r){if(l!==n){l.css({opacity:0,display:"none",zIndex:0})}clearTimeout(r);l.data("scTimeout","")}r=n.data("scTimeout");if(r){clearTimeout(r);n.data("scTimeout","")}}},_stopAnimation:function(){var g=this;g._isAnimating=false;clearTimeout(g.loadingTimeout);if(g._isMove){if(!g._useCSS3Transitions){g._slidesContainer.stop(true);g._sPosition=parseInt(g._slidesContainer.css(g._xProp),10)}else{var h=g._sPosition;var i=g._currRenderPosition=g._getTransformProp();g._slidesContainer.css((g._vendorPref+g._TD),"0ms");if(h!==i){g._setPosition(i)}}}else{if(g._fadeZIndex>20){g._fadeZIndex=10}else{g._fadeZIndex++}}},_getTransformProp:function(){var h=this,i=c.getComputedStyle(h._slidesContainer.get(0),null).getPropertyValue(h._vendorPref+"transform"),g=i.replace(/^matrix\(/i,"").split(/, |\)$/g);return parseInt(g[(h._slidesHorizontal?4:5)],10)},_getCSS3Prop:function(i,h){var g=this;return g._useCSS3Transitions?g._tPref1+(h?(i+g._tPref2+0):(0+g._tPref2+i))+g._tPref3:i},_animationComplete:function(h){var g=this;if(!g._isMove){g._currHolder.css("z-index",0);g._fadeZIndex=10}g._isAnimating=false;g.staticSlideId=g.currSlideId;g._updateBlocksContent();g._slidesMoved=false;g.ev.trigger("scAfterSlideChange");g._oldSlideContent.trigger("slideend.sc");console.log("ANIMATION COMPLETE",g._oldSlideContent.attr("id"));iQ.update();if(g.st.afterSlideChange){g.st.afterSlideChange.call(g)}},_doBackAndForthAnim:function(j,m){var g=this,i=(-g._realId-g._idOffset)*g._slideSize,l=30;if(g.numSlides===0){return}if(g.st.loopRewind){if(j==="left"){g.goTo(g.numSlides-1,m)}else{g.goTo(0,m)}return}if(g._isAnimating){return}if(g._isMove){if(l!==0){g._currAnimSpeed=200;var k=function(){g._isAnimating=false};var h=function(){g._isAnimating=false;g._animateTo(i,"",false,true,k)};g._animateTo(i+(j==="left"?l:-l),"",false,true,h)}}},_resizeImage:function(g,z){var t=true;if(g.isRendered){return}var A=g.content,x="scImg",u,s=this,q=s.st.imageAlignCenter,p=s.st.imageScaleMode,w;if(g.videoURL){x="scVideoContainer";if(p!=="fill"){u=true}else{w=A;if(!w.hasClass(x)){w=w.find("."+x)}w.css({width:"100%",height:"100%"});x="scImg"}}if(!A.hasClass(x)){t=false;A=A.find("."+x)}var n=g.iW,j=g.iH,i;g.isRendered=true;if(p==="none"&&!q){return}if(p!=="fill"){i=s._imagePadding}else{i=0}var o=s._wrapWidth-i*2,r=s._wrapHeight-i*2,k,h,l,m,v,y={};if(p==="fit-if-smaller"){if(n>o||j>r){p="fit"}}if(p==="fill"||p==="fit"){k=o/n;h=r/j;if(p=="fill"){l=k>h?k:h}else{if(p=="fit"){l=k<h?k:h}else{l=1}}m=Math.ceil(n*l,10);v=Math.ceil(j*l,10)}else{m=n;v=j}if(p!=="none"){y.width=m;y.height=v;if(u){A.find(".scImg").css({width:"100%",height:"100%"})}}if(q){y.marginLeft=Math.floor((o-m)/2)+i;y.marginTop=Math.floor((r-v)/2)+i}A.css(y)}};d.scProto=b.prototype;d.fn.sonyCarousel=function(h){var g=arguments;return this.each(function(){var j=d(this);if(typeof h==="object"||!h){if(!j.data("sonyCarousel")){j.data("sonyCarousel",new b(j,h))}}else{var i=j.data("sonyCarousel");if(i&&i[h]){return i[h].apply(i,Array.prototype.slice.call(g,1))}}})};d.fn.sonyCarousel.defaults={slidesSpacing:0,startSlideId:0,loop:false,loopRewind:false,numImagesToPreload:4,fadeinLoadedSlide:true,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:true,arrowsNav:true,arrowsNavAutoHide:true,navigateByClick:true,randomizeSlides:false,sliderDrag:true,sliderTouch:true,keyboardNavEnabled:false,fadeInAfterLoaded:true,allowCSS3:true,allowCSS3OnWebkit:true,addActiveClass:false,autoHeight:false,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:true,imageScalePadding:4,autoScaleSlider:false,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:true,arrowsNavHideOnTouch:false,globalCaption:false,beforeSlideChange:null,afterSlideChange:null,beforeResize:null,afterResize:null};d.scCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"};d.extend(jQuery.easing,{easeInOutSine:function(h,i,g,k,j){return -k/2*(Math.cos(Math.PI*i/j)-1)+g},easeOutSine:function(h,i,g,k,j){return k*Math.sin(i/j*(Math.PI/2))+g},easeOutCubic:function(h,i,g,k,j){return k*((i=i/j-1)*i*i+1)+g}});d(c).load(function(){d(".sonyCarousel").each(function(){var g=d(this),h={arrowsNav:true,fadeinLoadedSlide:true,imageAlignCenter:true,imageScaleMode:"fill",controlNavigation:"bullets",keyboardNavEnabled:true,slidesOrientation:"horizontal",autoScaleSlider:true};d.each(g.data(),function(i,j){console.log("stripping datasets off $el: ",i.toUpperCase()," === ",g.data(i));h[i]=j});g.sonyCarousel(h)})})})(jQuery,Modernizr,window,undefined);