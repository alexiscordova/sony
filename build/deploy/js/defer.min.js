(function(b){var a=function(c,e){var d=this;d.$el=c;d.$elGroup=b(".action-video");d.$videoModule=c.parents('section[data-module-name="video-module"]');d.$targetPlaceholder=b(document.getElementById(d.$el.attr("data-target")));d.videoProp=b.parseJSON(d.$targetPlaceholder.attr("data-media").replace(/'/g,'"')||{});if(!d.videoProp.videoWidth||!d.videoProp.videoHeight){b.extend(d.videoProp,{videoWidth:"480",videoHeight:"270"})}d.moduleID={name:"videoBrigthCove",ID:d.videoProp.videoID};d.autoStart=(d.videoProp.autoStart)||true;d.containerClass=d.videoProp.containerClass||"";d.imgMissingVideoID=(d.videoProp.imgMissingVideoID)?d.videoProp.imgMissingVideoID:"img/modules/brightcovevideo/poster-missing-video.png";d.imgMissingVideoID='<img src="'+d.imgMissingVideoID+'" class="iq-img video-poster video-missing-poster" alt="video unavailable" >';d.videoIdMissing=(!d.videoProp.videoID)?true:false;d.videoResponsiveStyle=(parseInt(d.videoProp.videoHeight,10)/parseInt(d.videoProp.videoWidth,10))*100+"%";d.videoMarkup='<div class="vbc-container '+d.containerClass+'" style="padding-bottom:'+d.cssVideoPadding+';">   <div class="videoWrapper">       <object id="myExperience'+d.videoProp.videoID+'" class="BrightcoveExperience">           <param name="includeAPI" value="true" />           <param name="htmlFallback" value="false" />           <param name="bgcolor" value="#000000" />           <param name="dynamicStreaming" value="true" />           <param name="width" value="'+d.videoProp.videoWidth+'" />           <param name="height" value="'+d.videoProp.videoHeight+'" />           <param name="playerID" value="'+d.videoProp.playerID+'" />           <param name="playerKey" value="'+d.videoProp.playerKey+'" />           <param name="templateLoadHandler" value="myTemplateLoaded" />           <param name="isVid" value="true" />           <param name="isUI" value="true" />           <param name="dynamicStreaming" value="true" />           <param name="autoStart" value="'+d.autoStart+'" />           <param name="includeAPI" value="true" />           <param name="@videoPlayer" value="ref:'+d.videoProp.videoID+'" />       </object>   </div></div>';d.$elGroup.addClass("video-inactive");d.init()};a.prototype={constructor:a,init:function(){var c=this;c.actionBtn()},actionBtn:function(){var c=this;c.$el.on("click",function(d){d.preventDefault();c.removeAll();if(!c.videoIdMissing){b(c.$targetPlaceholder).find("img").before(c.videoMarkup).addClass("visuallyhidden");brightcove.createExperiences()}else{b(c.$targetPlaceholder).find("img").before(c.imgMissingVideoID).addClass("visuallyhidden")}c.$el.toggleClass("video-active video-inactive")})},removeAll:function(){b(".vbc-container, .video-missing-poster").remove();b(".video-container figure img").removeClass("visuallyhidden")}};jQuery.fn.activateBrightcove=function(d){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=b(this),f=e.data("activateBrightcove");if(!f){f=new a(e,d);e.data("activateBrightcove",f)}if(typeof d==="string"){f[d].apply(f,c)}})};b(function(){b(".action-video").activateBrightcove()})})(jQuery);(function(a){var b=function(c,e){var d=this;a.extend(d,{},a.fn.editorialDualViewer.defaults,e);d.$el=c;d.$dualViewContainer=d.$el.find(".edv-images");d.$scrubber=d.$el.find(".edv-scrubber-container");d.$bottomSlide=d.$el.find(".image-1");d.$topSlide=d.$el.find(".image-2");d.$topSlideImageContainer=d.$topSlide.find(".edv-image-wrapper");d.$images=d.$dualViewContainer.find("img");d.initTimeout();a(window).on("resize",a.proxy(d.setPositions,d))};b.prototype={constructor:b,_init:function(){var c=this;c.$scrubber.sonyDraggable({axis:"x",unit:"%",containment:c.$dualViewContainer,drag:a.proxy(c.onDrag,c),bounds:c.getDragBounds()})},initTimeout:function(){var c=this,d=true;c.$images.each(function(){if(a(this).width()===0||a(this).height()===0){d=false}});if(d){c._init()}else{setTimeout(a.proxy(c.initTimeout,c),500)}},getDragBounds:function(){var d=this,c=d.$dualViewContainer.width()*0.1,e=d.$dualViewContainer.width();return{x:{min:100*c/e,max:100-100*c/e}}},setPositions:function(){var c=this,d=c.getDragBounds();c.$scrubber.sonyDraggable("setBounds",d)},onDrag:function(d){var c=this;c.$topSlide.css("width",(100-d.position.left)+"%");c.$topSlideImageContainer.css("width",10000/(100-d.position.left)+"%")}};a.fn.editorialDualViewer=function(d){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("editorialDualViewer");if(!f){f=new b(e,d);e.data("editorialDualViewer",f)}if(typeof d==="string"){f[d].apply(f,c)}})};a.fn.editorialDualViewer.defaults={};a(function(){a(".edv").editorialDualViewer()})})(jQuery);(function(c,d,b,e){var a=function(h,g){var f=this;c.extend(f,{},c.fn.formActions.defaults,g,c.fn.formActions.settings)};a.prototype={constructor:a,initInput:function(h){var f=this;var g={};g.$input=h;g.$inputGroup=h.closest(".input-group");g.$inputWrapper=h.closest(".input-outer-wrapper");g.$inputIcon=g.$inputGroup.find(".input-icon");g.$inputBtn=g.$inputGroup.find(".input-btn");g.$inputClearBtn=g.$inputGroup.find(".input-clear-btn");g.watermarkText=h.val();g.clearBtnClicked=false;h.on("focus",function(){if(h.val()===g.watermarkText){h.val("");if(!c("html").hasClass("bp-nav-mobile")){g.$inputIcon.hide()}}}).on("blur",function(){if(h.val()===""){h.val(g.watermarkText);g.$inputIcon.show()}}).on("mouseup keyup change cut paste",function(){if(!g.$inputWrapper.hasClass("searching")){if(!(h.val()===""||h.val()===g.watermarkText)){g.$inputWrapper.addClass("searching");f.doSearch(g)}}else{if(h.val()===""){f.resetSearchResults(g)}else{f.doSearch(g)}}});g.$inputIcon.on("click",function(){h.focus()});g.$inputClearBtn.on("click",function(){g.clearBtnClicked=true;f.clearSearchResults(g);if(!c("html").hasClass("bp-nav-mobile")){g.$input.focus()}}).on("mouseleave",function(){g.clearBtnClicked=false})},doSearch:function(g){var f=this;var h=g.$input.val();switch(g.$input.attr("id")){case"store-locator-search-input":break;case"nav-search-input":break;default:break}},clearInput:function(f){f.$input.val("");f.$inputIcon.hide()},clearSearchResults:function(g){var f=this;f.clearInput(g);g.$inputWrapper.removeClass("searching")},resetSearchResults:function(f){f.$inputWrapper.removeClass("searching")},initTouchToggles:function(f){f.each(function(){c(this).on("touchstart click",function(){c(this).toggleClass("active")})})}};c.fn.formActions=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var h=c(this),i=h.data("formActions");if(!i){i=new a(h,g);h.data("formActions",i)}if(typeof g==="string"){i[g].apply(i,f)}})};c.fn.formActions.defaults={sampleOption:0};c.fn.formActions.settings={isTouch:!!("ontouchstart" in b),isInitialized:false}})(jQuery,Modernizr,window,undefined);$(function(){var b=$("body").formActions(),a=b.data("formActions");a.initInput($("#store-locator-search-input"));a.initInput($("#nav-search-input"));a.initTouchToggles($(".touch-toggle, .dropdown-toggle, .dropdown-hover-toggle"))});(function(c,d,a,e){var b=function(g){var f=this;f.searchMenu={};f.$container=g;f.$activeNavBtns=f.$container.find(".nav-dropdown-toggle");f.$currentOpenNavBtn=false;f.$pageWrapOuter=c("#page-wrap-outer");f.mobileNavIScroll=false,f.mobileNavVisible=false;f.mobileNavThreshold=767;f.mobileFooterThreshold=567;f.mouseLeaveDelay=1000;f.mouseleaveTimer=false;f.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};f.tapOrClick=f.hasTouch?"touchstart":"click";f.transformName=d.prefixed("transform");f.transitionName=d.prefixed("transition");f.transitionProperty=d.prefixed("transitionProperty");f.transitionDuration=d.prefixed("transitionDuration");f.transitionEasing=d.prefixed("transitionTimingFunction");f.transitionEnd=f.transEndEventNames[f.transitionName];f.init()};b.prototype={constructor:b,init:function(){var f=this;f.isInitialized=true;if(a.enquire){a.enquire.register("(min-width: "+(f.mobileNavThreshold+1)+"px)",{match:function(){f.initDesktopNav();f.resetMobileNav();c("html").removeClass("bp-nav-mobile").addClass("bp-nav-desktop")}});a.enquire.register("(min-width: "+(f.mobileFooterThreshold+1)+"px)",{match:function(){f.resetMobileFooter()}});a.enquire.register("(max-width: "+f.mobileNavThreshold+"px)",{match:function(){f.initMobileNav();f.resetDesktopNav();c("html").removeClass("bp-nav-desktop").addClass("bp-nav-mobile")}});a.enquire.register("(max-width: "+f.mobileFooterThreshold+"px)",{match:function(){f.initMobileFooter()}})}else{f.initDesktopNav();f.resetMobileNav();c("html").removeClass("bp-nav-mobile").addClass("bp-nav-desktop")}},initDesktopNav:function(){var f=this;f.$activeNavBtns.each(function(){var h=c(this),j=c("."+h.data("target")),g=h.add(j);h.on("click",function(k){k.preventDefault()});f.resetActiveNavBtn(h);if(c("html").hasClass("touch")){h.on("touchstart",function(){if(h.parent().hasClass("nav-li-selected")){f.resetActiveNavBtn(f.$currentOpenNavBtn);f.$currentOpenNavBtn=false}else{var l=f.$currentOpenNavBtn!==false?true:false;if(!l){f.setActiveNavBtn(h)}else{f.resetActiveNavBtn(f.$currentOpenNavBtn);var k=c("."+f.$currentOpenNavBtn.data("target"));if(k.hasClass("navtray-w")){setTimeout(function(){f.setActiveNavBtn(h)},350)}else{setTimeout(function(){f.setActiveNavBtn(h)},150)}}}})}else{var i="mouseenter focus";if(h.parent().hasClass("nav-li-search")){i="click keypress"}h.on(i,function(){c(this).data("hovering",true);f.resetMouseleaveTimer();if(!h.parent().hasClass("nav-li-selected")){var l=f.$currentOpenNavBtn!==false?true:false;if(!l){f.setActiveNavBtn(h)}else{f.resetActiveNavBtn(f.$currentOpenNavBtn);var k=c("."+f.$currentOpenNavBtn.data("target"));if(k.hasClass("navtray-w")){setTimeout(function(){f.setActiveNavBtn(h)},350)}else{setTimeout(function(){f.setActiveNavBtn(h)},150)}}}});h.on("mouseleave",function(){c(this).data("hovering",false);setTimeout(function(){if(!j.data("hovering")){f.startMouseleaveTimer(h)}else{f.resetMouseleaveTimer()}},25)});j.on("mouseenter focus",function(){c(this).data("hovering",true);f.resetMouseleaveTimer()});j.find("a").on("focus",function(){var k=c(this).parents(".navtray-w,.navmenu-w"),l=c(k).attr("id");c(this).parents(".navtray-w").data("hovering",true);c("a[data-target="+l+"]").trigger("mouseenter");if(!(c(k).hasClass("navtray-w-visible")||c(k).hasClass("navmenu-w-visible"))){c("a[data-target="+l+"]").focus()}});j.on("mouseleave",function(){c(this).data("hovering",false);setTimeout(function(){if(!h.data("hovering")){f.startMouseleaveTimer(h)}else{f.resetMouseleaveTimer()}},25)})}})},resetDesktopNav:function(){var f=this;f.$activeNavBtns.each(function(){var h=c(this),i=c("."+h.data("target"));h.removeClass("active").parent().removeClass("nav-li-selected");if(h.data("target").length){var g=c("."+h.data("target"));if(g.hasClass("navtray-w")){f.setNavTrayContentNaturalFlow(g,false)}else{c(".navmenu-w-visible").removeClass("navmenu-w-visible").one(f.transitionEnd,function(){c(this).css({left:"",right:""}).find(".reveal-transition-container").css("height","")})}}h.off("touchstart mouseenter mouseleave click");i.off("touchstart mouseenter mouseleave click")})},startMouseleaveTimer:function(g){var f=this;if(c("mouseleaveTimerActive").length){f.resetMouseleaveTimer()}g.addClass("mouseleaveTimerActive");f.mouseleaveTimer=setTimeout(function(){f.resetActiveNavBtn(g);f.resetMouseleaveTimer()},f.mouseLeaveDelay)},resetMouseleaveTimer:function(){var f=this;clearTimeout(f.mouseleaveTimer);c(".mouseleaveTimerActive").removeClass("mouseleaveTimerActive")},setActiveNavBtn:function(g){var f=this;f.activateNavBtn(g);f.$currentOpenNavBtn=g},resetActiveNavBtn:function(h){var g=this;!!h&&h.removeClass("active").parent().removeClass("nav-li-selected");if(!!h.data("target")){var f=c("."+h.data("target"));if(f.hasClass("navtray-w")){g.slideNavTray(f,false)}else{c(".navmenu-w-visible").removeClass("navmenu-w-visible").one(g.transitionEnd,function(){c(this).css({left:"",right:""}).find(".reveal-transition-container").css("height","")})}}},slideNavTray:function(h,g){var j=this,f,l,k=h.outerHeight();h.data("expandedHeight",k);if(g){f="1px";l=k;if(c("html").hasClass("lt-ie10")){f=k}}else{f=k;l="1px";if(c("html").hasClass("lt-ie10")){l=k}}h.data("expandedHeight",f).css("height",f).find(".navtray").addClass("navtray-absolute").css("height",k);setTimeout(function(){h.removeClass("no-transition");setTimeout(function(){h.css("height",l).one(j.transitionEnd,i);if(g){h.addClass("navtray-w-visible")}else{h.removeClass("navtray-w-visible")}},10)},10);function i(){j.setNavTrayContentNaturalFlow(h)}},resetNavTray:function(f){var g=this;f.removeClass("navtray-w-visible").css("height","").find(".navtray").removeClass("navtray-absolute").css("height","")},setNavTrayContentNaturalFlow:function(f){f.css("height","").addClass("no-transition").find(".navtray").removeClass("navtray-absolute").css("height","")},activateNavBtn:function(k){var i=this;k.addClass("active").parent().addClass("nav-li-selected");if(k.data("target").length){var f=c("."+k.data("target"));if(f.hasClass("navtray-w")){if(c("html").hasClass("lt-ie10")){i.slideNavTray(f,true)}else{i.slideNavTray(f,true)}}else{var g=f.find(".reveal-transition-container");var h=g.height();g.css("height","0px");setTimeout(function(){g.addClass("transition-height");setTimeout(function(){f.addClass("navmenu-w-visible");g.height(h);g.one(i.transitionEnd,function(){g.removeClass("transition-height");setTimeout(function(){g.css("height","")},1)})},1)},1);if(f.hasClass("navmenu-w-search")){var l=k.parent().position().left+parseInt(k.css("marginLeft"),10)+k.innerWidth();var j=l-f.innerWidth();f.css({right:"auto",left:j+"px"})}}}},initMobileNav:function(){var g=this;c("#btn-mobile-nav").on(g.tapOrClick,function(){if(!g.mobileNavVisible){g.showMobileNav()}else{g.hideMobileNav()}});var f=c("#nav-search-input");f.on("focus",function(){if(c("html").hasClass("bp-nav-mobile")){g.initMobileNavIScroll()}c(".page-wrap-inner").addClass("show-mobile-search-results")}).on("blur",function(){if(!c("html").hasClass("bp-nav-mobile")){c(".page-wrap-inner").removeClass("show-mobile-search-results")}}).closest(".input-group").find(".input-clear-btn").on(g.tapOrClick,function(){if(c("html").hasClass("bp-nav-mobile")){g.initMobileNavIScroll();c(".page-wrap-inner").removeClass("show-mobile-search-results");setTimeout(function(){f.trigger("blur")},2)}})},resetMobileNav:function(){var f=this;f.hideMobileNav();c("#btn-mobile-nav").off(f.tapOrClick);c(".mobile-screen-overlay").remove()},showMobileNav:function(){var g=this;g.showMobileBackdrop();var h=parseInt(c(a).height(),10)+"px";g.$pageWrapOuter.height(h);if(!g.mobileNavIScroll){var f=c("#nav-outer-container"),j=f.find(".nav-mobile-scroller"),i=j.height();f.height(h);j.height(i);setTimeout(function(){g.initMobileNavIScroll()},1)}c("#page-wrap-inner").addClass("show-mobile-menu");g.mobileNavVisible=true},hideMobileNav:function(){var f=this;f.hideMobileBackdrop();c("#page-wrap-inner").one(f.transitionEnd,function(){f.destroyMobileNavIScroll()});c("#page-wrap-inner").removeClass("show-mobile-menu");f.mobileNavVisible=false},initMobileNavIScroll:function(){var f=this;if(!!f.mobileNavIScroll){c(".nav-mobile-scroller").css("height","100%")}else{f.mobileNavIScroll=new a.IScroll("nav-outer-container",{vScroll:true,hScroll:false,hScrollbar:false,snap:false,momentum:true,bounce:false});f.mobileNavIScroll.options.onBeforeScrollStart=function(h){var g=h.target;while(g.nodeType!=1){g=g.parentNode}if(g.tagName!="SELECT"&&g.tagName!="INPUT"&&g.tagName!="TEXTAREA"){h.preventDefault()}}}},destroyMobileNavIScroll:function(){var f=this;!!f.mobileNavIScroll&&f.mobileNavIScroll.destroy();f.mobileNavIScroll=false;f.$pageWrapOuter.css("height","")},showMobileBackdrop:function(){var f=this;f.$mobileScreenOverlay=c('<div class="modal-backdrop mobile-screen-overlay opacity0" />').appendTo(c("#page-wrap-inner"));setTimeout(function(){f.$mobileScreenOverlay.removeClass("opacity0").addClass("opacity1")},1)},hideMobileBackdrop:function(){var f=this;!!f.$mobileScreenOverlay&&f.$mobileScreenOverlay.one(f.transitionEnd,function(){f.$mobileScreenOverlay.remove()});!!f.$mobileScreenOverlay&&f.$mobileScreenOverlay.removeClass("opacity1").addClass("opacity0")},initMobileFooter:function(){var f=this;f.footerNavCollapseHeight=49;c("#footer-wrapper .footer-mobile-section h5").each(function(){var g=c(this).parent();f.collapseMobileFooterSec(g,true);c(this).on(f.tapOrClick,function(){if(g.hasClass("collapsed")){f.expandMobileFooterSec(g)}else{f.collapseMobileFooterSec(g)}})})},resetMobileFooter:function(){var f=this;c("#footer-wrapper .footer-mobile-section h5").each(function(){var g=c(this).parent();g.css("height","").removeClass("collapsed transition-height");c(this).off(f.tapOrClick)})},collapseMobileFooterSec:function(i,h){var g=this;h=typeof h!=="undefined"?h:false;var f=i.height();i.data("expHeight",f);if(h){i.height(g.footerNavCollapseHeight).addClass("collapsed");setTimeout(function(){i.addClass("transition-height")},1)}else{i.height(f);setTimeout(function(){i.addClass("transition-height");setTimeout(function(){i.height(g.footerNavCollapseHeight).addClass("collapsed")},1)},1)}},expandMobileFooterSec:function(g){var f=this;g.height(g.data("expHeight")).removeClass("collapsed").one(f.transitionEnd,function(){g.removeClass("transition-height");setTimeout(function(){g.css("height","")},1)})}};c.fn.globalNav=function(g){var f=Array.prototype.slice.apply(arguments);return this.each(function(){var h=c(this),i=h.data("globalNav");if(!i){i=new b(h);h.data("globalNav",i)}if(typeof g==="string"){i[g].apply(i,f.slice(1))}})};c.fn.globalNav.options={sampleOption:0};c.fn.globalNav.settings={isTouch:!!("ontouchstart" in a),isInitialized:false}})(jQuery,Modernizr,window);$(function(){$(document).ready(function(){$(".nav-wrapper").globalNav()})});(function(c,d,b,e){var f=/px/gi;var a=function(i,g){var h=this;h.$el=c(i);h.maxWidth=parseInt(h.$el.css("maxWidth").replace(f,""),10);h.setup=c.extend({},c.fn.hotSpotExplorer.defaults,g);h.hotspots=h.$el.find(".hsSpot");h._init()};a.prototype._init=function(){var h=this;var g;c(b).on("resize",function(){if(g){clearTimeout(g)}g=setTimeout(function(){h._updateHotspots()},25)});h._updateHotspots()};a.prototype._updateHotspots=function(){var g=this;c.each(g.hotspots,function(){var i=c(this),h=i.data(),j=parseInt(g.$el.css("width").replace(f,""),10)/g.maxWidth;i.css({top:j*h.y+"px",left:j*h.x+"px",visibility:"visible"})})};c.fn.hotSpotExplorer=function(h){var g=arguments;return this.each(function(){var i=c(this);if(typeof h==="object"||!h){if(!i.data("hotSpotExplorer")){i.data("hotSpotExplorer",new a(i,h))}}else{var j=i.data("hotSpotExplorer");if(j&&j[h]){return j[h].apply(j,Array.prototype.slice.call(g,1))}}})};c(function(){c(".hsExplorer").each(function(){var g=c(this);g.hotSpotExplorer({})})})})(jQuery,Modernizr,window,undefined);(function(a){a.belowthefold=function(c,d){var b=a(window).height()+a(window).scrollTop();return b<=a(c).offset().top-d.threshold};a.abovethetop=function(b,c){var d=a(window).scrollTop();return d>=a(b).offset().top+a(b).height()-c.threshold};a.rightofscreen=function(c,d){var b=a(window).width()+a(window).scrollLeft();return b<=a(c).offset().left-d.threshold};a.leftofscreen=function(b,c){var d=a(window).scrollLeft();return d>=a(b).offset().left+a(b).width()-c.threshold};a.inviewport=function(d,e){var c=a(d);var i=c.offset();var h=a(window);var g=h.scrollTop();var b=e.threshold;if(i.top-b<g){if(i.top+c.height()+b>=g){}else{return false}}else{if(i.top-b<=g+h.height()){}else{return false}}var f=h.scrollLeft();if(i.left-b<f){if(i.left+c.width()+b>=f){}else{return false}}else{if(i.left-b<=f+h.width()){}else{return false}}return true};a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return a.abovethetop(b,{threshold:0})},"left-of-screen":function(b){return a.leftofscreen(b,{threshold:0})},"right-of-screen":function(b){return a.rightofscreen(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})}})})(jQuery);(function(c,b,d){var a=function(g,f){var e=this;c.extend(e,{},c.fn.primaryTout.defaults,f,c.fn.primaryTout.settings);e._init()};a.prototype={constructor:a,_resize:function(){var e=c(b).width();if(e>1200){c(".primary-tout.homepage .hero-image").css("height",Math.min(740,540+((e-1200)/20)));c(".primary-tout.default .hero-image").css("height",Math.min(660,560+((e-1200)/10)))}else{if(e>768){c(".primary-tout.homepage .hero-image, .primary-tout.default .hero-image").css("height","")}}c.each(c(".primary-tout.homepage .inner .table-center-wrap"),function(h,j){var f=c(j);var g=f.closest(".primary-tout.homepage");f.height(g.height()-g.find(".secondary").outerHeight())})},_init:function(){this._resize();SONY.on("global:resizeDebounced",this._resize)}};c.fn.primaryTout=function(f){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var h=c(this),g=h.data("primaryTout");if(!g){g=new a(h,f);h.data("primaryTout",g)}if(typeof f==="string"){g[f].apply(g,e)}})}})(jQuery,window,undefined);SONY.on("global:ready",function(){if($(".primary-tout").length>0){$(".primary-tout").primaryTout()}});(function(e,d,f,c,g,a){if(!d.rpModules){d.rpModules={}}var b=function(j,i){var h=this,k={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};d.extend(h,d.fn.relatedProducts.defaults,i);h.useCSS3Transitions=f.csstransitions;if(h.useCSS3Transitions){h.use3dTransform=f.csstransforms3d}h.DEBUG=true;h.LANDSCAPE_BREAKPOINT=980;h.MOBILE_BREAKPOINT=567;h.$paddles=d({});h.$el=d(j);h.$slides=h.$el.find(".rp-slide");h.$currentSlide=null;h.$shuffleContainers=h.$slides.find(".shuffle-container");h.$galleryItems=h.$el.find(".gallery-item");h.$container=h.$el.find(".rp-container").eq(0);h.$tabbedContainer=h.$el.parent();h.$bulletNav=d();h.$doc=e.$document;h.$win=e.$window;h.$html=e.$html;h.ev=d({});h.prefixed=f.prefixed;h.transitionName=h.prefixed("transition");h.isTabbedContainer=h.$tabbedContainer.length>0&&h.$tabbedContainer.hasClass("rp-container-tabbed");h.transitionEndName=k[h.transitionName];h.mode=h.$el.data("mode").toLowerCase();h.variation=h.$el.data("variation");h.numSlides=h.$slides.length;h.sliderOverflow=h.$el.find(".rp-overflow").eq(0);h.previousId=-1;h.currentId=0;h.slidePosition=0;h.animationSpeed=700;h.slides=[];h.slideCount=h.$slides.length;h.currentContainerWidth=0;h.sPosition=0;h.scrollerModule=null;h.shuffle=null;h.shuffleSpeed=250;h.shuffleEasing="ease-out";h.paddlesEnabled=false;h.resizeTimeout=null;h.startInteractionPointX=null;h.hasMediaQueries=f.mediaqueries;h.mq=f.mq;h.oldIE=h.$html.hasClass("lt-ie8");h.inited=false;h.isResponsive=!h.$html.hasClass("lt-ie9")&&!h.$html.hasClass("lt-ie8")&&h.hasMediaQueries;if(!h.hasMediaQueries&&h.$html.hasClass("lt-ie9")||h.oldIE){h.mq=function(){return false}}if(h.variation!==g){h.variation=h.variation.split("-")[2]}h.isMobileMode=false;h.isDesktopMode=false;h.isTabletMode=false;h.accelerationPos=0;d.each(d.rpModules,function(m,l){l.call(h)});h.$galleryItems.each(function(){var l=d(this);l.data("slide",l.parent())});if(f.touch){h.hasTouch=true;h.downEvent="touchstart.rp";h.moveEvent="touchmove.rp";h.upEvent="touchend.rp";h.cancelEvent="touchcancel.rp";h.lastItemFriction=0.5}else{h.hasTouch=false;h.lastItemFriction=0.2;h.downEvent="mousedown.rp";h.moveEvent="mousemove.rp";h.upEvent="mouseup.rp";h.cancelEvent="mouseup.rp";h.clickEvent="click.rp"}if(h.useCSS3Transitions){h.TP="transitionProperty";h.TD="transitionDuration";h.TTF="transitionTimingFunction";h.yProp=h.xProp=h.prefixed("transform");if(h.use3dTransform){h.tPref1="translate3d(";h.tPref2="px, ";h.tPref3="px, 0px)"}else{h.tPref1="translate(";h.tPref2="px, ";h.tPref3="px)"}h.$container[h.prefixed(h.TP)]=h.prefixed("transform")}else{h.xProp="left";h.yProp="top"}h.shuffleGutters=function(m){var n=0,l=0;if(!f.mediaqueries||h.mq("(min-width: 981px)")||h.$html.hasClass("lt-ie10")){n=e.Settings.GUTTER_WIDTH_SLIM_5*m;l=5}else{if(h.mq("(min-width: 567px)")){l=4;n=e.Settings.GUTTER_WIDTH_SLIM*m}}h.setColumns(l);if(n<0){n=0}return n};h.shuffleColumns=function(m){var l=0;if(!f.mediaqueries||h.mq("(min-width: 981px)")||h.$html.hasClass("lt-ie10")){l=e.Settings.COLUMN_WIDTH_SLIM_5*m}else{if(h.mq("(min-width: 567px)")){l=e.Settings.COLUMN_WIDTH_SLIM*m}else{l=m}}if(l===0){l=0.001}return l};h.init()};b.prototype={init:function(){var h=this;h.setupLinkClicks();if(h.variation==="3up"||h.variation==="4up"||h.variation==="5up"){h.setSortPriorities()}if(h.$slides.length>1){h.createNavigation();if(!h.hasTouch){h.createPaddles()}if(h.mode!="strip"){h.$container.on(h.downEvent,function(i){h.onDragStart(i)})}}if(h.mode!="strip"){h.setSortPriorities();h.setupResizeListener();h.$win.trigger("resize")}else{h.setupStripMode()}},setupLinkClicks:function(){var h=this;h.$galleryItems.on(h.tapOrClick(),function(m){var k=d(this),j=k.attr("href"),i,l;if(h.hasTouch){i=m.originalEvent.touches[0]}else{i=m}if(h.startInteractionTime&&h.startInteractionPointX){l=Math.abs(i.pageX-h.startInteractionPointX);if((new Date().getTime())-h.startInteractionTime<250&&l<25){c.location=j}}});h.$galleryItems.on(h.tapOrClick(),function(i){i.preventDefault()})},toString:function(){return"[ object RelatedProducts ]"},setupResizeListener:function(){var h=this,l=null,j="visible",i="hidden",m=".blank",k="redrawing";if(h.mode!=="suggested"&&!h.oldIE){h.$win.on("resize",function(){if(!h.isMobileMode&&h.$win.width()>h.MOBILE_BREAKPOINT){h.$galleryItems.css({visibility:i,opacity:0});h.$el.addClass(k)}else{h.$el.css({opacity:1,visibility:j});h.$galleryItems.not(m).css({visibility:j,opacity:1});h.$el.removeClass(k)}})}else{h.$el.css({opacity:1,visibility:j});h.$galleryItems.not(m).css({visibility:j,opacity:1});h.$el.removeClass(k)}h.$win.on("resize",d.debounce(500,d.proxy(h.handleResize,h)))},handleResize:function(){var h=this;if(h.oldIE&&h.inited){h.updateSlides();return}if(!h.inited){h.inited=true}h.checkForBreakpoints();h.updateSliderSize();h.updateSlides();h.updatePaddles();if(h.mode==="suggested"){return}clearTimeout(h.resizeTimeout);h.resizeTimeout=setTimeout(function(){h.$shuffleContainers.each(function(){var i=d(this).data("shuffle");if(i===g){return}setTimeout(function(){h.updateSliderSize();if(h.oldIE){h.$galleryItems.each(function(){var m=d(this),n=m.find(".product-img"),l=285,p=219,o=190,q=462,k=495,j=600;m.css({height:l});if(m.hasClass("plate")){m.css({});n.css({height:l})}else{if(m.hasClass("medium")){m.css({height:j});n.css({height:k})}else{if(m.hasClass("normal")){n.css({height:o})}}}});i.update();h.updateSlides()}if(!h.oldIE){h.updateTiles();i.update();h.animateTiles()}},50)})},10)},log:function(){var h=this,k="";for(var j=0;j<arguments.length;j++){k+=arguments[j];k+=j>0?" , ":" "}if(h.oldIE&&h.DEBUG){if(c.alert){c.alert(k)}}else{if(h.DEBUG){if(c.console){c.console.log(k)}}}},setupStripMode:function(){var h=this,k=h.$el.width(),i=e.Settings.GUTTER_WIDTH_SLIM_5*k,j=(e.Settings.COLUMN_WIDTH_SLIM_5*(k));h.$galleryItems.removeAttr("style");h.$galleryItems.not(h.$galleryItems.first()).css({width:j,margin:0,"margin-left":0,"margin-top":0});h.$galleryItems.first().css({width:j,margin:0});setTimeout(function(){if(h.scrollerModule!==null){h.scrollerModule.destroy();h.scrollerModule=null}h.scrollerModule=h.$el.find(".rp-overflow").scrollerModule({contentSelector:".rp-container",itemElementSelector:".gallery-item",mode:"paginate",generatePagination:true,centerItems:false,autoGutters:false,gutterWidth:i,iscrollProps:{snap:true,momentum:false,hScrollbar:false,vScrollbar:false}}).data("scrollerModule");h.$galleryItems.find(".product-name").evenHeights();c.iQ.update()},50);h.$win.on("resize.rp",d.debounce(50,function(){var n=h.$el.width(),l=e.Settings.GUTTER_WIDTH_SLIM_5*n,m=(e.Settings.COLUMN_WIDTH_SLIM_5*(n));h.scrollerModule.setGutterWidth(l);h.$galleryItems.not(h.$galleryItems.first()).css({width:m,margin:0,"margin-left":0,"margin-top":0});h.$galleryItems.first().css({width:m,margin:0})}))},tapOrClick:function(){var h=this;return h.hasTouch?h.upEvent:h.clickEvent},createNavigation:function(){var h=this;if(!d.fn.sonyNavDots){return}if(h.$pagination){h.$pagination.sonyNavDots("reset",{buttonCount:h.numSlides});return}h.$pagination=d("<div/>",{"class":"navigation-container"});h.$el.append(h.$pagination);h.$pagination.sonyNavDots({buttonCount:h.numSlides});h.$pagination.on("SonyNavDots:clicked",function(j,i){h.currentId=i;h.moveTo()});h.ev.on("rpOnUpdateNav",d.debounce(500,function(){h.$pagination.sonyNavDots("reset",{activeButton:h.currentId})}))},createPaddles:function(){var h=this,j='<div class="paddle"><i class=fonticon-10-chevron-reverse></i></div>',l='<div class="paddle"><i class=fonticon-10-chevron></i></div>',k=h.$el.closest(".container"),i;h.paddlesEnabled=true;i='<div class="rp-nav rp-paddles">';i+=j;i+=l;i+="</div>";i=d(i);h.$el.append(i);h.$paddles=h.$el.find(".paddle");h.$leftPaddle=h.$paddles.eq(0).addClass("left");h.$rightPaddle=h.$paddles.eq(1).addClass("right");h.$paddles.on(h.tapOrClick(),function(){var m=d(this);if(m.hasClass("left")){h.currentId--;if(h.currentId<0){h.currentId=0}h.moveTo()}else{h.currentId++;if(h.currentId>=h.$slides.length){h.currentId=h.$slides.length-1}h.moveTo()}});h.onPaddleNavUpdate();h.ev.on("rpOnUpdateNav",d.proxy(h.onPaddleNavUpdate,h))},onPaddleNavUpdate:function(){var h=this;if(h.currentId===0){h.$leftPaddle.stop(true,true).fadeOut(100)}else{h.$leftPaddle.stop(true,true).fadeIn(200)}if(h.currentId===h.numSlides-1){h.$rightPaddle.stop(true,true).fadeOut(100)}else{h.$rightPaddle.stop(true,true).fadeIn(200)}},createShuffle:function(){var h=this;h.shuffle=h.$shuffleContainers.shuffle({itemSelector:".gallery-item",speed:h.shuffleSpeed,easing:h.shuffleEasing,columnWidth:h.shuffleColumns,gutterWidth:h.shuffleGutters,showInitialTransition:false,useTransition:false,buffer:25}).first().data("shuffle")},setColumns:function(j){var v=this,o="span1 span2 span3 span4 span6",m="shuffle-",k=[m+3,m+4,m+5,"grid-small"].join(" "),i=".gallery-item",h="slimgrid5",q="slimgrid",r="span",s=".large",t=".promo",n=".normal",u=".medium",l=".plate",p=s+","+t+","+u+","+l;if(j===5){if(!v.$container.hasClass(m+5)){v.$shuffleContainers.removeClass("slimgrid").addClass("slimgrid5");v.$shuffleContainers.children(i).removeClass(o).filter(u).addClass(r+2).end().filter(l).addClass(r+2).end().filter(n).addClass(r+1)}}else{if(j===4){if(!v.$shuffleContainers.hasClass(m+4)){v.$shuffleContainers.removeClass("slimgrid5").addClass("slimgrid");v.$shuffleContainers.children(i).removeClass(o).filter(u).addClass(r+6).end().filter(l).addClass(r+6).end().filter(n).addClass(r+3)}}}return v},setSortPriorities:function(){var h=this;h.$slides.each(function(){var k=d(this),n=k.find(".gallery-item"),o=k.data("variation").split("-")[2],s=false,u="priority",t="medium",m="normal",j="blank",i=1,l=2,q=3,r=4,p=5;n.each(function(){var v=d(this);if(o==="4up"){if(v.hasClass(t)){v.data(u,p)}else{if(v.hasClass(m)&&!s){v.data(u,l);s=true}else{if(v.hasClass(j)){v.data(u,q)}else{if(v.hasClass(m)&&s===true){v.data(u,r)}}}}}else{if(o==="3up"){if(v.hasClass(t)){v.data(u,l)}else{if(v.hasClass(m)){v.data(u,q)}}if(v.hasClass(j)){v.data(u,100)}}}})})},sortByPriority:function(){var i=this,h=i.mq("(min-width: 567px) and (max-width: 980px)");if(h&&!i.sorted){i.$shuffleContainers.each(function(){var k=d(this),j=k.parent().data("variation").split("-")[2];k.shuffle("sort",{by:function(m){var l=m.hasClass("plate")?1:m.hasClass("medium")?2:3;if(j=="4up"||j=="3up"){l=m.data("priority")}return l?l:g}})});i.sorted=true}else{if(!h&&i.sorted){i.$shuffleContainers.shuffle("sort",{});i.sorted=false}}},checkForBreakpoints:function(){var j=this,k=j.$win.width(),i=k>j.LANDSCAPE_BREAKPOINT?"desktop":k>j.MOBILE_BREAKPOINT?"tablet":"mobile";if(!f.mediaqueries||j.$html.hasClass("lt-ie10")){i="desktop"}switch(i){case"desktop":if(j.mode==="suggested"){j.$el.find(".gallery-item").addClass("span6");j.$el.removeClass("grid").addClass("slimgrid");j.sortTagLines2up();return}if(j.isMobileMode===true){j.returnToFullView()}j.isTabletMode=j.isMobileMode=false;if(j.isDesktopMode===true){return}j.isDesktopMode=true;j.$el.removeClass("rp-tablet rp-mobile").addClass("rp-desktop");if(j.scrollerModule!==null){j.scrollerModule.destroy();j.scrollerModule=null}if(j.shuffle===null){j.$container.css("width","100%");j.createShuffle()}j.sortByPriority();c.iQ.update();j.ev.trigger("ondesktopbreakpoint.rp");break;case"tablet":var h=j.isMobileMode;if(j.mode==="suggested"){j.$el.find(".gallery-item").addClass("span6");j.$el.removeClass("slimgrid").addClass("grid");j.sortTagLines2up();return}if(j.isMobileMode===true){j.returnToFullView()}if(j.isTabletMode===true){return}j.isMobileMode=j.isDesktopMode=false;j.isTabletMode=true;j.$el.removeClass("rp-desktop rp-mobile").addClass("rp-tablet");if(j.scrollerModule!==null){j.scrollerModule.destroy();j.scrollerModule=null}if(j.shuffle===null){j.$container.css("width","100%");j.createShuffle()}j.sortByPriority();c.iQ.update();break;case"mobile":if(j.isMobileMode===true){return}if(j.mode==="suggested"){j.$el.find(".gallery-item").removeClass("span6");j.$el.removeClass("grid slimgrid");j.sortTagLines2up();return}j.isTabletMode=j.isDesktopMode=false;j.isMobileMode=true;j.$el.removeClass("rp-tablet rp-desktop").addClass("rp-mobile");if(j.shuffle!==null){j.shuffle.destroy();j.shuffle=null;j.sorted=false;j.$shuffleContainers.each(function(){var l=d(this).data("shuffle");if(l!==g){l.destroy();l=null}})}j.$bulletNav.hide();c.iQ.update();if(j.scrollerModule!==null){j.scrollerModule.destroy();j.scrollerModule=null}j.ev.trigger("onmobilebreakpoint.rp");break}j.setNameHeights(j.$shuffleContainers)},setGrabCursor:function(){var h=this;if(!h.hasTouch){if(h.grabbingCursor){h.sliderOverflow.css("cursor",h.grabbingCursor)}else{h.sliderOverflow.removeClass("grab-cursor");h.sliderOverflow.addClass("grabbing-cursor")}}},updateSliderSize:function(){var h=this;if(h.oldIE){h.$el.css("height",660+"px");return}if(h.mode==="suggested"){return}if(h.isTabletMode===true){h.$el.css("height",d(".shuffle-container").eq(0).height()+40+"px");if(!!h.isTabbedContainer){h.$tabbedContainer.css("height",d(".shuffle-container").eq(0).height()+40+"px")}return}if(h.isMobileMode===true){h.$el.css("height",400);if(!!h.isTabbedContainer){h.$tabbedContainer.css("height",400)}return}h.$el.css("height",d(".shuffle-container").eq(0).height()+40+"px");if(!!h.isTabbedContainer){h.$tabbedContainer.css("height",d(".shuffle-container").eq(0).height()+40+"px")}},onDragStart:function(k){var i=this,h;i.dragSuccess=false;if(i.hasTouch){var j=k.originalEvent.touches;if(j&&j.length>0){h=j[0];if(j.length>1){i.multipleTouches=true}}else{return}}else{h=k;k.preventDefault();if(k.which!==1){return}}i.isDragging=true;i.$doc.on(i.moveEvent,d.proxy(i.dragMove,i)).on(i.upEvent,d.proxy(i.dragRelease,i));i.currMoveAxis="";i.hasMoved=false;i.pageX=h.pageX;i.pageY=h.pageY;i.startDragX=h.pageX;i.startPagePos=i.accelerationPos=h.pageX;i.horDir=0;i.verDir=0;i.currRenderPosition=i.sPosition;i.startTime=i.startInteractionTime=new Date().getTime();i.startInteractionPointX=h.pageX;if(i.hasTouch){i.sliderOverflow.on(i.cancelEvent,function(l){i.dragRelease(l,false)})}},renderMovement:function(r,j){var s=this;if(s.checkedAxis){var n=s.renderMoveTime,o=r.pageX-s.pageX,l=r.pageY-s.pageY,h=s.currRenderPosition+o,t=s.currRenderPosition+l,q=true,p=q?h:t,i=s.currMoveAxis;s.hasMoved=true;s.pageX=r.pageX;s.pageY=r.pageY;var k=q?s.pageX:s.pageY;if(i==="x"&&o!==0){s.horDir=o>0?1:-1}else{if(i==="y"&&l!==0){s.verDir=l>0?1:-1}}var m=q?o:l;if(!s.loop){if(s.currSlideId<=0){if(k-s.startPagePos>0){p=s.currRenderPosition+m*s.lastItemFriction}}if(s.currSlideId>=s.numSlides-1){if(k-s.startPagePos<0){p=s.currRenderPosition+m*s.lastItemFriction}}}s.currRenderPosition=p;if(n-s.startTime>200){s.startTime=n;s.accelerationPos=k}s.setPosition(s.currRenderPosition)}},setPosition:function(j){var i=this,k=i.sPosition=j;if(i.useCSS3Transitions){var h={};h[i.prefixed(i.TD)]=0+"ms";h[i.xProp]=i.tPref1+(k+i.tPref2+0)+i.tPref3;i.$container.css(h)}else{i.$container.css(i.xProp,k)}},dragRelease:function(E,v){var x=this,u,D,h,n,m,l,p,k;x.renderMoveEvent=null;x.isDragging=false;x.lockAxis=false;x.checkedAxis=false;x.renderMoveTime=0;c.cancelAnimationFrame(x.animFrame);x.$doc.off(x.moveEvent).off(x.upEvent);if(x.hasTouch){x.sliderOverflow.off(x.cancelEvent)}x.currMoveAxis="";var t=true;if(!x.hasMoved){return}x.dragSuccess=true;x.currMoveAxis="";function j(H){if(H<100){return 100}else{if(H>500){return 500}}return H}function s(K,H){var I=-x.currentId*x.currentContainerWidth,J=Math.abs(x.sPosition-I);x.currAnimSpeed=J/H;if(K){x.currAnimSpeed+=250}x.currAnimSpeed=j(x.currAnimSpeed);x.moveTo()}var o=x.minSlideOffset,A=x.hasTouch?E.originalEvent.changedTouches[0]:E,q=A.pageX,B=x.startPagePos,r=x.accelerationPos,C=x.currSlideId,G=x.numSlides,y=x.horDir,F=x.loop,w=false,i=0,z;u=Math.abs(q-B);z=x.startDragX>q?1:0;D=q-r;h=(new Date().getTime())-x.startTime;n=Math.abs(D)/h;if(u>x.hasTouch?Math.abs(x.currentContainerWidth*0.25):Math.abs(x.currentContainerWidth*0.5)){if(z===1){x.currentId++;if(x.currentId>=x.$slides.length){x.currentId=x.$slides.length-1}}else{x.currentId--;if(x.currentId<0){x.currentId=0}}x.moveTo(n)}else{s(true,n)}},dragMove:function(n,o){var j=this,h;if(j.hasTouch){if(j.lockAxis){return}var m=n.originalEvent.touches;if(m){if(m.length>1){return}else{h=m[0]}}else{return}}else{h=n}if(!j.hasMoved){if(j.useCSS3Transitions){j.$container.css(j.prefixed(j.TD),"0s")}(function i(){if(j.isDragging){j.animFrame=c.requestAnimationFrame(i);if(j.renderMoveEvent){j.renderMovement(j.renderMoveEvent,o)}}})()}if(!j.checkedAxis){var k=true,l=(Math.abs(h.pageX-j.pageX)-Math.abs(h.pageY-j.pageY))-(k?-7:7);if(l>7){if(k){n.preventDefault();j.currMoveAxis="x"}else{if(j.hasTouch){return}}j.checkedAxis=true}else{if(l<-7){if(!k){n.preventDefault();j.currMoveAxis="y"}else{if(j.hasTouch){return}}j.checkedAxis=true}}return}n.preventDefault();j.renderMoveTime=new Date().getTime();j.renderMoveEvent=h},updateSlides:function(){var k=this,i=k.currentContainerWidth=k.$container.outerWidth(),h={},l=(-k.currentId*i),j=(k.$win.width()-k.$el.find(".rp-slide").eq(0).outerWidth(true))*(0.5);if(j>0&&!k.$html.hasClass("lt-ie9")){l+=Math.ceil(j)}if(k.$html.hasClass("lt-ie9")&&k.$win.width()<=1190){i=1190;l=(-k.currentId*i);l-=(1190-k.$win.width())*0.5}if(k.mode==="suggested"){return}k.$slides.each(function(m){d(this).css({left:m*i+"px","z-index":m})});if(!k.useCSS3Transitions){h[k.xProp]=l;k.$container.animate(h,0)}else{if(k.isMobileMode){return}h[k.prefixed(k.TD)]=0+"ms";h[k.prefixed(k.TTF)]=d.rpCSS3Easing.easeOutBack;h[k.xProp]=k.tPref1+(l+k.tPref2+0)+k.tPref3;k.$container.css(h)}},moveTo:function(l){var j=this,k=-j.currentId*j.currentContainerWidth,h={},m=Math.abs(j.sPosition-k),i=(j.$win.width()-d(".rp-slide").eq(0).outerWidth(true))*(0.5);function n(o){if(o<100){return 100}else{if(o>500){return 500}}return o}if(j.$html.hasClass("lt-ie9")&&j.$win.width()<=1190){k=-j.currentId*1190;k-=(1190-j.$win.width())*0.5;m=Math.abs(j.sPosition-k)}j.currAnimSpeed=n(m/l);if(isNaN(j.currAnimSpeed)){j.currAnimSpeed=j.animationSpeed}if(i>0&&!j.$html.hasClass("lt-ie9")){k+=Math.ceil(i)}if(!j.useCSS3Transitions){h[j.xProp]=k;j.$container.animate(h,j.currAnimSpeed)}else{h[j.prefixed(j.TD)]=j.currAnimSpeed+"ms";if(j.currAnimSpeed===j.animationSpeed){h[j.prefixed(j.TTF)]=d.rpCSS3Easing.easeOutBack}else{h[j.prefixed(j.TTF)]=d.rpCSS3Easing.sonyScrollEase}j.$container.css(h);h[j.xProp]=j.tPref1+((k)+j.tPref2+0)+j.tPref3;j.$container.css(h);j.$container.one(j.transitionEndName,function(){c.iQ.update()})}j.sPosition=j.currRenderPosition=k;j.ev.trigger("rpOnUpdateNav")},returnToFullView:function(){var h=this;if(h.isDesktopMode===false){h.isDesktopMode=true;h.$galleryItems.each(function(){var j=d(this).removeClass("small-size mobile-item"),i=j.data("slide");j.appendTo(i)});h.$container.css("width","");h.$container.append(h.$slides);h.$container.on(h.downEvent,function(i){h.onDragStart(i)});h.$paddles.show();h.$el.find(".rp-nav").show()}},sortTagLines2up:function(){var h=this,i=h.$el.find(".product-tagline");i.each(function(){var j=d(this);if(j.height()/parseInt(j.css("line-height"),10)>1){j.parent().addClass("two-line")}})},disableShuffle:function(){var h=this;h.$shuffleContainers.each(function(){var i=d(this).data("shuffle");if(i!==g||i!==null){if(i){i.disable()}}})},enableShuffle:function(){var h=this;h.$shuffleContainers.each(function(){var i=d(this).data("shuffle");if(i!==g||i!==null){if(i){i.enable()}}})},updatePaddles:function(){var h=this,j=h.$win.width();if(!h.paddlesEnabled){return}var m=h.$el.find(".plate"),l=m.length>0,i=m.outerHeight(true),k=j-h.$el.find(".rp-slide").eq(0).width();if(h.mq("(min-width: 981px)")&&l){h.$rightPaddle.css({top:i,right:(k/4)-(parseInt(h.$rightPaddle.width(),10)/2)+"px"});h.$leftPaddle.css({top:i,left:(k/4)-(parseInt(h.$leftPaddle.width(),10))+10+"px"})}else{if(h.mq("(min-width: 567px)")&&l){h.$rightPaddle.css({top:i+130,right:(k/4)-(parseInt(h.$rightPaddle.width(),10)/2)+20+"px"});h.$leftPaddle.css({top:i+130,left:(k/4)-(parseInt(h.$leftPaddle.width(),10))+35+"px"})}}},updateTiles:function(){var i=this,j=i.mq("(min-width: 981px)")?true:false,l=null,m=null,h=0,k="";if(i.isMobileMode){l=i.$slides.find(".gallery-item.medium .product-img").first();l.css("height","");return}i.$slides.each(function(){var p=d(this);k=p.data("variation").split("-")[2].toLowerCase();l=p.find(".gallery-item.medium .product-img").first();m=p.find(".gallery-item.normal").first();var o=p.find(".gallery-item.plate").first().height(),n=d(".gallery-item.normal").first().find(".product-content").outerWidth(true);if(k!=="3up"){p.find(".gallery-item.normal").css({"max-height":o,height:o})}switch(k){case"5up":if(j){h=m.outerHeight(true)+m.find(".product-img").height();l.css({height:h+"px"})}else{h=p.find(".plate").height()+m.find(".product-img").height()+parseInt(m.css("marginTop"),10);l.css({height:h+"px"})}break;case"4up":if(j){h=p.find(".plate").height()+m.find(".product-img").height()+parseInt(m.css("marginTop"),10);l.css({height:h+"px"})}else{h=m.outerHeight(true)+m.find(".product-img").height();l.css("height",h)}break;case"3up":if(j){h=p.find(".plate").height()+m.find(".product-img").height()+parseInt(m.css("marginTop"),10);l.css({height:h+"px"})}else{l.css("height","")}break}});setTimeout(function(){i.updateSliderSize()},1000)},animateTiles:function(){var h=this;h.$el.removeClass("redrawing");if(h.oldIE){return}h.$galleryItems.not(".blank").each(function(){var i=d(this),j=0;i.css({visibility:"visible"});j=i.hasClass("plate")?0:i.hasClass("medium")?25:2000;if(i.hasClass("plate")===true){j=0}else{if(i.hasClass("medium")===true){j=150}else{j=250+Math.floor(Math.random()*500)}}i.stop(true,true).delay(j).animate({opacity:1},{duration:250,complete:function(){}})})},setNameHeights:function(i){var h=0;i.find(".product-name-wrap").css("height","").each(function(){var k=d(this),j=parseFloat(k.css("height"));if(j>h){h=j}}).css("height",h);return this}};d.rpCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeOutBack:"cubic-bezier(0.595, -0.160, 0.255, 1.140)",sonyScrollEase:"cubic-bezier(0.33,0.66,0.66,1)"};d.fn.maxHeight=function(){var h=0;this.each(function(){h=Math.max(h,d(this).height())});return h};d.rpProto=b.prototype;d.fn.relatedProducts=function(i){var h=arguments;return this.each(function(){var k=d(this);if(typeof i==="object"||!i){if(!k.data("relatedProducts")){k.data("relatedProducts",new b(k,i))}}else{var j=k.data("relatedProducts");if(j&&j[i]){return j[i].apply(j,Array.prototype.slice.call(h,1))}}})};d.fn.relatedProducts.defaults={throttleTime:50,autoScaleContainer:true,minSlideOffset:10,navigationControl:"bullets"};e.on("global:ready",function(){d(".related-products").relatedProducts({})})})(SONY,jQuery,Modernizr,window,undefined,window.console);(function(d,c,e,b,f,a){c.extend(c.rpProto,{_initMobileBreakpoint:function(){var g=this;function h(){g.$container.off(g.downEvent);g.$paddles.hide();g.$el.find(".rp-nav").hide();g.$slides.each(function(){var j=c(this),k=j.find(".plate").eq(0);j.prepend(k)});var i=g.$el.find(".gallery-item").detach().addClass("small-size");g.$slides.detach();i.removeAttr("style");i.addClass("mobile-item").first().removeClass("mobile-item");i.not(".blank").appendTo(g.$container);g.$el.find(".gallery-item.medium").css("height","");setTimeout(function(){if(g.scrollerModule!==null){g.scrollerModule.destroy();g.scrollerModule=null}g.scrollerModule=g.$el.find(".rp-overflow").scrollerModule({contentSelector:".rp-container",itemElementSelector:".gallery-item",mode:"free",lastPageCenter:false,extraSpacing:0,iscrollProps:{snap:false,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:true,onScrollEnd:null,lockDirection:true,onBeforeScrollStart:null}}).data("scrollerModule");i.find(".product-name").evenHeights();b.iQ.update()},100);return}g.ev.on("onmobilebreakpoint.rp",h)}});c.rpModules.mobileBreakpoint=c.rpProto._initMobileBreakpoint})(SONY,jQuery,Modernizr,window,undefined,window.console);$(function(){if($(".rp-container-tabbed").length===0){return}var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},b;b=e[window.Modernizr.prefixed("transition")];var a=$(".rp-tabs").find(".rp-tab"),c=1,g=$(".related-products[data-rp-panel-id="+c+"]"),f=$(".related-products[data-rp-panel-id]");f.not(g).css({opacity:0,"z-index":0});g.css({"z-index":1});a.eq(0).addClass("active");if(a.length>0){var d=function(j){var i=$(this),h=function(k,m){var l={visibility:k===true?"visible":"hidden"};if(m!==undefined){l.zIndex=m}return l};j.preventDefault();a.removeClass("active");i.addClass("active");newPanelId=i.data("rpPanelId");if(newPanelId===c){return}$oldPanel=g;c=newPanelId;g=$(".related-products[data-rp-panel-id="+c+"]");$oldPanel.css(h(true,1));$oldPanel.stop(true,true).animate({opacity:0},{duration:500,delay:0,complete:function(){$oldPanel.css(h(false,0));$oldPanel.data("relatedProducts").disableShuffle()}});g.css(h(true,1));g.data("relatedProducts").enableShuffle();g.stop(true,true).animate({opacity:1},{duration:500})};a.on(window.Modernizr.touch?"touchend":"click",d)}});(function(b,c,a,d){var e=function(h,g){var f=this;b.extend(f,b.fn.gallery.options,g,b.fn.gallery.settings);f.$container=h;f.$window=SONY.$window||b(a);f.id=f.$container[0].id;f.$grid=f.$container.find(".products");f.$filterOpts=f.$container.find(".filter-options");f.$filterColumns=f.$filterOpts.find(".grid").children();f.$sortSelect=f.$container.find(".sort-options select");f.$sortBtns=f.$container.find(".sort-options .dropdown-menu a");f.$dropdownToggleText=f.$container.find(".sort-options .js-toggle-text");f.$productCount=f.$container.find(".product-count");f.$activeFilters=f.$container.find(".active-filters");f.$filterArrow=f.$container.find(".slide-arrow-under, .slide-arrow-over");f.$favorites=f.$grid.find(".js-favorite");f.$gridProductNames=f.$grid.find(".product-name-wrap");f.$carousels=f.$grid.find(".js-item-carousel");f.$compareBtn=f.$container.find(".js-compare-toggle");f.$compareTool=b("#compare-tool");f.hasCompareModal=f.$compareBtn.length>0;f.hasInfiniteScroll=f.$container.find("div.navigation a").length>0;f.hasFilters=f.$filterOpts.length>0;f.hasSorting=f.$sortBtns.length>0;f.hasCarousels=f.$carousels.length>0;f.windowSize=f.$window.width();f.$container.addClass("gallery-"+f.mode);f.setColumnMode();f.initShuffle();f.$window.on("onorientationchange",b.debounce(325,b.proxy(f.onResize,f)));f.$window.on("resize.gallery",b.debounce(325,b.proxy(f.onResize,f)));if(f.hasInfiniteScroll){f.initInfscr()}if(f.hasFilters){f.initFilters()}if(f.hasSorting){f.initSorting()}f.initSwatches();f.initTooltips();f.onResize(true);if(f.hasCompareModal){f.$compareBtn.on("click",b.proxy(f.onCompareLaunch,f));f.$compareTool.on("hidden",b.proxy(f.onCompareClosed,f));f.$compareTool.on("shown",b.proxy(f.onCompareShown,f))}f.isInitialized=true;if(f.hasFilters){f.filter()}};e.prototype={constructor:e,enable:function(){var f=this;f.onResize();if(f.enabled){return}f.shuffle.enable();if(f.hasInfiniteScroll){f.$grid.infinitescroll("updateNavLocation");f.$grid.infinitescroll("resume")}f.enabled=true;if(f.hasCarousels){f.$carousels.scrollerModule("refresh")}},disable:function(){var f=this;if(!f.enabled){return}f.shuffle.disable();if(f&&f.hasInfiniteScroll){f.$grid.infinitescroll("pause")}f.enabled=false},filter:function(){var f=this;if(f.hasActiveFilters()){f.$grid.shuffle(function(g){return f.itemPassesFilters(g.data())})}else{f.$grid.shuffle("all")}f.setFilterStatuses()},itemPassesFilters:function(j){var f=this,g="";for(g in j.filterSet){if(!j.filterSet.hasOwnProperty(g)||!f.filterTypes[g]){continue}var h=j.filterSet[g],i=f.filterTypes[g],l=f.filters[i][g];if(i==="button"||i==="checkbox"){var k=b.isArray(h)?"arrayContainsArray":"valueInArray";if(l.length>0&&!f[k](h,l)){return false}}else{if(i==="range"){if(h<f.price.min||(h>f.price.max&&f.price.max!==f.MAX_PRICE)){return false}}}}return true},hasActiveFilters:function(){var f=this,g=false,i="",h="";for(i in f.filters){if(!f.filters.hasOwnProperty(i)){continue}if(i==="button"||i==="checkbox"){for(h in f.filters[i]){var j=f.filters[i][h];g=j.length>0;if(g){break}}}else{if(i==="range"){g=f.price.min!==f.MIN_PRICE||f.price.max!==f.MAX_PRICE}}if(g){return g}}return g},displayActiveFilters:function(){var f=this,l="",i="",k={},n=document.createDocumentFragment();for(l in f.filters){if(!f.filters.hasOwnProperty(l)){continue}if(l==="button"||l==="checkbox"){for(i in f.filters[l]){var m=f.filters[l][i];if(m.length){for(var h=0;h<m.length;h++){var g=f.filterLabels[i][m[h]];k[m[h]]={label:g,name:i}}}}}else{if(l==="range"){if(f.price.min!==f.MIN_PRICE){k.min={key:"price",label:"Min price: $"+f.price.min,name:"min"}}if(f.price.max!==f.MAX_PRICE){k.max={key:"price",label:"Max price: $"+f.price.max,name:"max"}}}}}b.each(k,function(o,p){var j=b("<span>",{"class":"label label-close fonticon-10-circle-x--after","data-filter":o,"data-filter-name":p.key||p.name,text:p.label,click:b.proxy(f.onRemoveFilter,f)});n.appendChild(j[0])});f.$activeFilters.empty().append(n)},undoFilter:function(j,g,h){var f=this,i;if(h==="button"||h==="checkbox"){i=b.inArray(j,f.filters[h][g]);f.filters[h][g].splice(i,1)}else{if(h==="range"){delete f.filters[h][g][j]}}},removeFilter:function(l,h,i){var g=this,f="",k,j;if(i==="button"){f='[data-filter="'+h+'"] [data-'+h+'="'+l+'"]';g.$container.find(f).button("toggle");g.$container.find(f+" .active").button("toggle")}else{if(i==="checkbox"){f='[data-filter="'+h+'"] [value="'+l+'"]';g.$container.find(f).prop("checked",false)}else{if(i==="range"){k=g.$rangeControl.data("rangeControl");j=l==="min"?"slideToInitialMin":"slideToInitialMax";k[j]()}}}},disableFilter:function(j,h,i){var g=this,f="";if(i==="button"){f='[data-filter="'+h+'"] [data-'+h+'="'+j+'"]';g.$container.find(f).attr("disabled","disabled");g.$container.find(f+" .btn").attr("disabled","disabled")}else{if(i==="checkbox"){f='[data-filter="'+h+'"] [value="'+j+'"]';g.$container.find(f).prop("disabled",true)}}},enableFilter:function(j,h,i){var g=this,f="";if(i==="button"){f='[data-filter="'+h+'"] [data-'+h+'="'+j+'"]';g.$container.find(f).removeAttr("disabled");g.$container.find(f+" .btn").removeAttr("disabled")}else{if(i==="checkbox"){f='[data-filter="'+h+'"] [value="'+j+'"]';g.$container.find(f).prop("disabled",false)}}},removeActiveFilters:function(){var f=this,j="",h="",k="";for(j in f.filters){for(h in f.filters[j]){if(j==="range"){for(k in f.filters[j][h]){f.undoFilter(k,h,j);f.removeFilter(k,h,j)}}else{for(var g=0;g<f.filters[j][h].length;g++){k=f.filters[j][h][g];f.undoFilter(k,h,j);f.removeFilter(k,h,j)}}}}f.filter();if(f.$container.find(".collapse").hasClass("in")){f.$container.find(".collapse").collapse("hide")}},onRemoveFilter:function(f){var g=this,i=b(f.target).data(),h=g.filterTypes[i.filterName];g.undoFilter(i.filter,i.filterName,h);g.removeFilter(i.filter,i.filterName,h);b(f.target).remove();g.filter()},initShuffle:function(){var f=this;f.$grid.on("loading.shuffle",b.proxy(f.onShuffleLoading,f));f.$grid.on("done.shuffle",b.proxy(f.onShuffleDone,f));f.$grid.shuffle({itemSelector:".gallery-item",speed:f.shuffleSpeed,easing:f.shuffleEasing,columnWidth:f.shuffleColumns,gutterWidth:f.shuffleGutters,showInitialTransition:false,hideLayoutWithFade:true,sequentialFadeDelay:60,buffer:5});f.shuffle=f.$grid.data("shuffle");var g=b.debounce(200,b.proxy(f.shuffle.layout,f.shuffle));f.$grid.find(".iq-img").on("imageLoaded",g);f.$grid.on("filter.shuffle",b.proxy(f.displayActiveFilters,f));f.$grid.on("layout.shuffle",function(){iQ.update();if(f.hasInfiniteScroll){f.$grid.infinitescroll("updateNavLocation")}});f.sortByPriority()},initFilters:function(){var f=this;f.filters={range:{},button:{},checkbox:{}};f.filterTypes={};f.filterLabels={};f.filterValues={};f.realFilterTypes={};f.$filterOpts.find("[data-filter]").each(function(){var k=b(this),j=k.data(),i=j.filterType,h=i,g=j.filter,l=[];switch(i){case"range":l={};f.range(k,g,j.min,j.max);break;case"button":f.button(k,g);break;case"group":case"color":i="button";f.button(k,g);break;case"checkbox":f.checkbox(k,g);break}f.filters[i][g]=l;f.filterTypes[g]=i;f.realFilterTypes[g]=h});f.$filterOpts.find(".js-popover-trigger").each(function(){var g=b(this);g.popover({placement:"in offsetright",trigger:"click",getArrowOffset:function(){var i=f.$filterOpts.find(".span4").first().width(),h=f.$filterOpts.find(".filter-container").first().width();return i-h},getWidth:function(){return f.$filterOpts.find(".span4").first().width()},content:function(){return b(this).find(".js-popover-content").html()}})});f.$container.find(".collapse").on("shown",b.proxy(f.onFiltersShown,f)).on("show",b.proxy(f.onFiltersShow,f)).on("hide",b.proxy(f.onFiltersHide,f))},initSorting:function(){var f=this;f.$sortBtns.first().parent().addClass("active");f.currentSort=0;f.$sortBtns.on("click",b.proxy(f.sort,f));f.$sortSelect.on("change",b.proxy(f.sort,f));if(!f.hasFilters){f.$productCount.text(f.shuffle.$items.length)}var g=navigator.userAgent.toLowerCase();if(g.indexOf("firefox")>-1||g.indexOf("msie")>-1){f.$sortSelect.parent().addClass("moz-ie")}},initInfscr:function(){var f=this;f.$grid.infinitescroll({local:true,bufferPx:-100,navSelector:"div.navigation",nextSelector:"div.navigation a",itemSelector:".gallery-item",loading:{selector:".infscr-holder",msgText:"<em>Loading the next set of products...</em>",finishedMsg:"<em>Finished loading products.</em>",img:f.loadingGif}},function(g){var h=b(g).addClass("via-ajax");f.shuffle.sequentialFadeDelay=250;f.$grid.shuffle("appended",h);f.shuffle.sequentialFadeDelay=60;f.$productCount.text(f.$grid.data("shuffle").visibleItems);f.initSwatches(h.find(".mini-swatch[data-color]"));iQ.update(true)})},initSwatches:function(g){var f=this;g=g||f.$grid.find(".mini-swatch[data-color]");g.each(function(){var k=b(this),h=k.data("color"),j=k.closest(".product-img").find(".js-product-imgs .js-product-img-main"),i=k.closest(".product-img").find('.js-product-imgs [data-color="'+h+'"]');k.hover(function(){j.addClass("hidden");i.removeClass("hidden")},function(){j.removeClass("hidden");i.addClass("hidden")})})},initTooltips:function(){var f=this;f.$favorites.on("click",b.proxy(f.onFavorite,f));f.$container.find(".js-favorite").tooltip({placement:"offsettop",title:function(){var g=b(this);return f.getFavoriteContent(g,g.hasClass("active"))},template:'<div class="tooltip gallery-tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})},initCarousels:function(h){var f=this;function g(i){i.scrollerModule({mode:"carousel",contentSelector:".js-carousel-container",itemElementSelector:".slide"});f.hasEnabledCarousels=true}f.$carousels.each(function(k,m){var j=b(this),l;if(h){l=j.find(":first-child img");l.on("imageLoaded",function(){g(j)})}else{g(j)}})},destroyCarousels:function(){this.$carousels.scrollerModule("destroy");this.hasEnabledCarousels=false},setFilterStatuses:function(){var f=this,i=f.shuffle.$items.filter(".filtered"),g,k,j,h;for(g in f.filterValues){if(!f.filterValues.hasOwnProperty(g)){continue}for(k in f.filterValues[g]){f.filterValues[g][k]=null}}i.each(function(){var n=b(this),l=n.data("filterSet"),q,o;for(o in f.filterValues){if(!f.filterValues.hasOwnProperty(o)){continue}for(q in f.filterValues[o]){if(f.filterValues[o][q]===true){continue}var m=b.isArray(l[o]),p;p=m?f.valueInArray(q,l[o]):q===l[o];f.filterValues[o][q]=p}}});for(g in f.filterValues){if(!f.filterValues.hasOwnProperty(g)){continue}h=f.realFilterTypes[g];for(k in f.filterValues[g]){j=f.filterValues[g][k]?"enable":"disable";if(h==="button"){j="enable"}f[j+"Filter"](k,g,f.filterTypes[g])}}f.$productCount.text(i.length)},valueInArray:function(g,f){return b.inArray(g,f)!==-1},arrayContainsArray:function(f,h){var k=0,l={},g;for(g=0;g<f.length;g++){l[f[g]]=true}for(;k<h.length;k++){if(l[h[k]]===d){return false}}return true},button:function(j,i){var h=this,k={},g={},f=j.children();f.on("click",function(){var o=b(this),n=o.hasClass("media"),l,m=[];if(o.is("[disabled]")){return}if(n){o.find(".btn").button("toggle");o.toggleClass("active")}else{o.button("toggle")}l=j.find("> .active");if(l.length!==0){l.each(function(){var p=b(this).data(i);m.push(p)})}h.filters.button[i]=m;h.filter()}).each(function(){var l=b(this).data();k[l[i]]=l.label;g[l[i]]=l[i]});h.filterLabels[i]=k;h.filterValues[i]=g},checkbox:function(j,i){var g=this,k={},f={},h=j.find("input");h.on("change",function(){var l=j.find("input:checked"),m=[];if(l.length!==0){l.each(function(){m.push(this.value)})}g.filters.checkbox[i]=m;g.filter()}).each(function(){var l=b(this).data();k[this.value]=l.label;f[this.value]=this.value});g.filterLabels[i]=k;g.filterValues[i]=f},range:function(j,m,l,n){this.MAX_PRICE=n;this.MIN_PRICE=l;this.price={min:this.MIN_PRICE,max:this.MAX_PRICE};var q=this,p=q.MAX_PRICE-q.MIN_PRICE,o=j.closest(".filter-container").find(".range-output-container"),h=o.find(".range-output-min"),f=o.find(".range-output-max"),g=function(r){return Math.round(p*(r/100))+q.MIN_PRICE},k=function(y,u,s){var v=g(s.min),r=g(s.max),x=r===q.MAX_PRICE?r+"+":r,w=q.price.min,z=q.price.max,t;i(v,x,s);q.price.min=v;q.price.max=r;if((w!==q.price.min||z!==q.price.max)&&q.isInitialized){q.filters.range[m].min=q.price.min;q.filters.range[m].max=q.price.max;t=q.isTouch?2500:250;b.debounce(t,function(){q.filter()})()}},i=function(t,s,r){var u,v;u=h.html("<sup>$</sup>"+t).width();h.css({left:r.min+"%",marginLeft:-u/2});v=f.html("<sup>$</sup>"+s).width();f.css({left:r.max+"%",marginLeft:-v/2})};q.$rangeControl=j;q.$rangeControl.on("slid.rangecontrol",k);q.$rangeControl.rangeControl({initialMin:"0%",initialMax:"100%",range:true,rangeThreshold:40})},maybeResetRange:function(){var f=this,g=f.$container.find(".range-control");if(g.length>0&&g.data("rangeControl").isHidden){g.rangeControl("reset");return true}return false},getSortObject:function(n,f){var g=b(n.target),h=g.is("select"),i,j,l,m={},k;if(h){j=g.val();k=n.target.selectedIndex;l=n.target[k].getAttribute("data-reverse");l=l==="true"?true:false}else{i=g.data();j=i.value;l=i.reverse?true:false;k=g.closest("li").index();n.preventDefault();f.text(g.text())}if(j!=="default"){m={sortIndex:k,reverse:l,by:function(o){return o.data("filterSet")[j]}}}else{m.sortIndex=k}return m},updateSortDisplay:function(h){var g=this,f="";if(c.mq("(max-width: 47.9375em)")){f=h.find("select").children().eq(g.currentSort).val();h.find("select").val(f).trigger("change")}else{h.find(".dropdown-menu").children().eq(g.currentSort).find("a").trigger("click")}return g},sort:function(f){var g=this,h=g.getSortObject(f,g.$dropdownToggleText);g.currentSort=h.sortIndex;g.$grid.shuffle("sort",h);return g},sortByPriority:function(){var g=this,f=c.mq("(max-width: 47.9375em)");if(f&&!g.sorted){g.$grid.shuffle("sort",{by:function(i){var h=i.data("priority");return h?h:d}});g.sorted=true}else{if(!f&&g.sorted){g.$grid.shuffle("sort",{});g.sorted=false}}},sortComparedItems:function(f){var g=this,i=g.getSortObject(f,g.$compareTool.find(".js-toggle-text")),h,j=document.createDocumentFragment();h=g.$compareItems.sorted(i);g.$compareItems.detach();if(i.by){b.each(h,function(l,k){j.appendChild(k)});g.$compareTool.find(".compare-items-container").append(j);g.$compareItems=b(h)}else{g.$compareItems=g.compareState.$items;g.$compareTool.find(".compare-items-container").append(g.$compareItems)}if(!f.isTrigger){g.$compareReset.removeClass("disabled")}return g},fixCarousels:function(g){var f=this;if(f.hasCarousels){if(f.hasEnabledCarousels){f.destroyCarousels()}if(c.mq("(min-width: 61.25em)")){f.initCarousels(g)}}},onResize:function(g){var f=this;if(!f.enabled){return}g=g===true;if(f.mode==="detailed"){if(c.mq("(max-width: 47.9375em)")){f.$gridProductNames.css("height","")}else{f.$gridProductNames.evenHeights()}if(c.mq("(min-width: 48em) and (max-width: 61.1875em)")){if(f.$filterColumns.eq(0).hasClass("span4")){f.$filterColumns.removeClass("span4").slice(0,2).addClass("span6").end().last().addClass("span12").find(".media-list").addClass("inline")}}else{if(f.$filterColumns.eq(0).hasClass("span6")){f.$filterColumns.removeClass("span6 span12").addClass("span4").find(".media-list").removeClass("inline")}}if(f.hasInfiniteScroll){setTimeout(function(){f.$grid.infinitescroll("updateNavLocation")},25)}return}f.$gridProductNames.evenHeights();f.fixCarousels(g);f.sortByPriority();SONY.Utilities.forceWebkitRedrawHack()},getFavoriteContent:function(g,f){return f?g.data("activeTitle")+'<i class="fonticon-10-sm-bold-check"></i>':g.data("defaultTitle")},onFavorite:function(f){var g=this,i=b(f.delegateTarget),j=!i.hasClass("active"),h=g.getFavoriteContent(i,j);i.toggleClass("active");b(".gallery-tooltip .tooltip-inner").html(h).tooltip("show");f.preventDefault();f.stopPropagation()},onFiltersHide:function(f){f.stopPropagation();this.$filterArrow.removeClass("in")},onFiltersShow:function(f){f.stopPropagation();this.$filterArrow.addClass("in")},onFiltersShown:function(f){var g=this,h=g.maybeResetRange(f);f.stopPropagation();if(!h){g.filter()}b.simplescroll({offset:24,target:g.$container})},onShuffleLoading:function(){var f=b("<div>",{"class":"gallery-loader text-center"}),g=b("<img>",{src:this.loadingGif});f.append(g);f.insertBefore(this.$grid)},onShuffleDone:function(){var f=this;f.$container.find(".gallery-loader").remove();if(!f.$container.hasClass("in")){setTimeout(function(){f.$container.addClass("in")},250)}},onCompareLaunch:function(){var s=this,l=s.shuffle.$items.filter(".filtered").clone(),q=b('<div class="compare-items-container grab">'),m=b('<div class="compare-items-wrap">'),p=l.length,r=b('<div class="container js-compare-wrap">'),g=b('<div class="compare-container clearfix">'),f=s.$compareTool.find(".modal-header"),j=s.$compareTool.find(".modal-body"),n=s.$compareTool.find("#compare-tool-label"),o=n.text(),i=b('<div class="span2 detail-labels-wrap hidden-phone">'),k=b('<div class="detail-labels-wrapping">'),t=b('<div class="detail-label-group">'),h=s.$container.find(".sort-options").clone();s.disable();s.compareTitle=o+" "+s.$container.find(".compare-name").text();s.$compareCountWrap=s.$container.find(".product-count-wrap").clone().removeClass("ib");s.$compareReset=b("<button/>",{"class":"btn btn-small btn-alt-special btn-reset disabled js-compare-reset iconTrigger-ui2-reset",text:f.data("resetLabel")});s.$compareReset.append('<i class="icon-ui2-reset">');s.$compareReset.on("click",b.proxy(s.onCompareReset,s));s.isFixedHeader=false;s.$detailLabelsWrap=i;s.$compareItemsWrap=m;s.$compareItems=s.getCompareItems(l);i.append('<div class="span2 compare-sticky-header sticky-count">').find(".compare-sticky-header").append(s.$compareCountWrap.clone());s.$container.find(".comparables [data-label]").each(function(){var u=b(this).clone(),v=b("<strong/>");v.text(u.attr("data-label"));u.append(v);t.append(u)});s.$compareItems.find(".compare-item-remove").on("click",b.proxy(s.onCompareItemRemove,s));h.find(".dropdown a").on("click",b.proxy(s.sortComparedItems,s));h.find(".native-dropdown").on("change",b.proxy(s.sortComparedItems,s));n.text(s.compareTitle);s.compareState={count:p,sort:s.currentSort,$items:s.$compareItems,label:o,snap:true};k.append(s.$compareCountWrap);s.$window.on("resize.comparetool",b.debounce(250,function(){s.onCompareResize(f,h)}));s.onCompareResize(f,h,true);s.$compareReset.addClass("pull-right");k.append(t);s.updateSortDisplay(h);i.append(k);g.append(i);q.append(s.$compareItems);m.append(q);g.append(m);r.append(g);j.append(r);s.addCompareNav(m);iQ.update(true);s.$compareCount=s.$compareTool.find(".product-count");s.$compareCount.text(p);s.$stickyHeaders=s.$compareTool.find(".compare-sticky-header");s.$compareProductNameWraps=s.$compareTool.find(".product-name-wrap");s.$compareItemsContainer=s.$compareTool.find(".compare-items-container");s.$compareTool.data("galleryId",s.id).modal({backdrop:false})},onCompareShown:function(){var f=this;f.stickyTriggerPoint=f.getCompareStickyTriggerPoint();if(!f.isFixedHeader){f.$compareItemsWrap.css("marginLeft",f.$detailLabelsWrap.width())}f.setCompareRowHeights().setCompareDimensions();f.outerScroller=new IScroll(f.$compareTool[0],{bounce:false,hScrollbar:false,vScrollbar:false,onBeforeScrollStart:function(h){var g=h.target;while(g.nodeType!==1){g=g.parentNode}if(g.tagName!=="SELECT"&&g.tagName!=="INPUT"&&g.tagName!=="TEXTAREA"){h.preventDefault()}if(!f.$compareItemsContainer.hasClass("grabbing")){f.$compareItemsContainer.addClass("grabbing")}},onBeforeScrollEnd:function(){if(f.$compareItemsContainer.hasClass("grabbing")){f.$compareItemsContainer.removeClass("grabbing")}},onScrollMove:function(){f.onCompareScroll(f.stickyTriggerPoint,this)},onAnimate:function(){f.onCompareScroll(f.stickyTriggerPoint,this)},onAnimationEnd:function(){iQ.update();f.onCompareScroll(f.stickyTriggerPoint,this)}});f.innerScroller=new IScroll(f.$compareTool.find(".compare-items-wrap")[0],{vScroll:false,hScrollbar:f.isTouch,snap:f.compareState.snap,onBeforeScrollStart:function(){if(!f.$compareItemsContainer.hasClass("grabbing")){f.$compareItemsContainer.addClass("grabbing")}},onBeforeScrollEnd:function(){if(f.$compareItemsContainer.hasClass("grabbing")){f.$compareItemsContainer.removeClass("grabbing")}},onScrollMove:function(){f.onCompareScroll("inner",this)},onAnimate:function(){f.onCompareScroll("inner",this)},onAnimationEnd:function(){iQ.update();f.onCompareScroll("inner",this);f.afterCompareScrolled(this)}});f.setTakeoverStickyHeader(f.compareTitle);f.setStickyHeaderPos();f.$compareTool.find(".detail-labels-wrapping").addClass("complete");setTimeout(function(){iQ.update();f.afterCompareScrolled(f.innerScroller);f.addCompareNavEvents()},100);return f},onCompareClosed:function(){var f=this;if(f.$compareTool.data("galleryId")!==f.id){return}f.$compareTool.removeData("galleryId");f.$compareTool.find(".sort-options").remove();f.$takeoverStickyHeader.removeClass("open").removeAttr("style");f.outerScroller.destroy();f.innerScroller.destroy();f.removeCompareNavEvents();f.$compareTool.find(".js-compare-wrap").remove().end().find(".modal-subheader").remove().end().find("#compare-tool-label").text(f.compareState.label).end().off(".comparetool");f.$compareCount.text(0);f.$compareReset.remove();f.$compareReset=null;f.$compareItems=null;f.$compareItemsContainer=null;f.$compareItemsWrap=null;f.$compareNav=null;f.$detailLabelsWrap=null;f.$takeoverStickyHeader=null;f.compareState=null;f.isFixedHeader=null;f.compareTitle=null;f.$window.off(".comparetool");f.enable();return f},onCompareReset:function(){var f=this,g=f.compareState;if(f.$compareReset.hasClass("disabled")||f.$compareTool.data("galleryId")!==f.id){return}f.$compareCount.text(g.count);g.$items.find(".compare-item-remove").parent().addBack().removeClass("hide faded no-width");f.$compareReset.addClass("disabled").removeClass("active");f.updateSortDisplay(f.$compareTool);f.setCompareWidth();f.innerScroller.refresh();f.afterCompareScrolled(f.innerScroller);return f},onCompareItemRemove:function(g){var h=this,j,f=b(g.target).closest(".compare-item");function k(){f.addClass("hide");h.$compareReset.removeClass("disabled").addClass("active");j=h.$compareItems.not(".hide").length;h.$compareCount.text(j);if(j<3){h.$compareTool.find(".compare-item-remove").addClass("hide")}h.setCompareWidth();h.innerScroller.refresh();h.afterCompareScrolled(h.innerScroller)}function i(){f.one(b.support.transition.end,k).addClass("no-width")}if(c.csstransitions){f.one(b.support.transition.end,i).addClass("faded")}else{k()}return h},onCompareResize:function(k,m,h){var j=this,l,g,i,f;if(c.mq("(max-width: 47.9375em)")){if(h||!j.isFixedHeader){j.isFixedHeader=true;l=b('<div class="modal-subheader clearfix">');j.$compareCountWrap.addClass("hidden");g=h?j.$compareReset:j.$compareReset.detach();i=h?m:m.detach();l.append(g,i);k.append(l);j.$compareItemsWrap.css("marginLeft","");f=false;if(j.innerScroller){j.innerScroller.options.snap=f}}}else{j.$compareItemsWrap.css("marginLeft",j.$detailLabelsWrap.width());if(h||j.isFixedHeader){j.isFixedHeader=false;j.$compareCountWrap.removeClass("hidden");g=h?j.$compareReset:j.$compareReset.detach();i=h?m:m.detach();k.append(g,i);j.$compareTool.find(".modal-subheader").remove();f=true;if(j.innerScroller){j.innerScroller.options.snap=f}}}if(h){j.compareState.snap=f;return j}j.stickyTriggerPoint=j.getCompareStickyTriggerPoint();j.setCompareRowHeights().setCompareDimensions().setStickyHeaderPos();j.innerScroller.refresh();return j},onCompareScroll:function(g,i){var f=this,h=i.y*-1;if(g==="inner"){if(i.x<-3&&!f.$detailLabelsWrap.hasClass("overflowing")){f.$detailLabelsWrap.addClass("overflowing")}else{if(i.x>=-3&&f.$detailLabelsWrap.hasClass("overflowing")){f.$detailLabelsWrap.removeClass("overflowing")}}return}if(h>=g){if(!f.$stickyHeaders.hasClass("open")){f.$compareNav.addClass("sticky-nav-open");f.$takeoverStickyHeader.addClass("open");f.$stickyHeaders.addClass("open")}f.setStickyHeaderPos()}else{if(f.$stickyHeaders.hasClass("open")){f.$compareNav.removeClass("sticky-nav-open");f.$takeoverStickyHeader.removeClass("open");f.$stickyHeaders.removeClass("open")}}},getCompareStickyTriggerPoint:function(){var h=this,i=0,f=0;i=h.$compareItems.not(".hide").offset().top;if(i<0){var g=SONY.Utilities.parseMatrix(h.$compareTool.find(".modal-inner").css("transform"));i=-g.translateY+i}f=parseInt(h.$compareTool.find(".compare-item .product-img").last().css("height"),10);return i+f},getCompareItems:function(g){var f=b();g.each(function(){var j=b(this),h,i=b("<div/>"),k;j.removeClass().addClass("span4 compare-item").removeAttr("style").append('<span class="box-close box-close-small compare-item-remove"><i class="fonticon-10-x"></i></span>').find(".detail-group").removeClass("hidden").end().find(".label, .product-meta, .js-favorite").remove().end().find(".product-name-wrap").css("height","").end().prepend('<div class="span4 compare-sticky-header">').find(".compare-sticky-header").append('<div class="media">');h=j.find(".product-img .color-swatches").detach();j.find(".product-price").after(h);k=j.find(".compare-sticky-header");j.find(".compare-item-remove").clone(true).appendTo(k);j.find(".product-img .js-product-img-main").clone().addClass("media-object").appendTo(k.find(".media")).wrap('<div class="pull-left">');j.find(".product-name-wrap").clone().addClass("media-body").appendTo(k.find(".media"));k.find(".product-name").addClass("p3").removeClass("p2");i.attr({"class":j.attr("class"),"data-filter-set":j.attr("data-filter-set")});i.append(j.children().detach());f=f.add(i)});return f},addCompareNav:function(i){var h=b('<nav class="compare-nav">'),g=b('<button class="nav-paddle nav-prev"><i class="icon-ui2-chevron-18-white-left"></i></button>'),f=b('<button class="nav-paddle nav-next"><i class="icon-ui2-chevron-18-white-right"></i></button>');h.append(g,f);i.append(h);this.$compareNav=h},addCompareNavEvents:function(){var h=this,i=h.innerScroller,g=h.$compareTool.find(".nav-prev"),f=h.$compareTool.find(".nav-next");g.on("click",function(){i.scrollToPage("prev")});f.on("click",function(){i.scrollToPage("next")})},afterCompareScrolled:function(i){var h=this,g=h.$compareTool.find(".nav-prev"),f=h.$compareTool.find(".nav-next");if(i.currPageX===0){g.addClass("hide")}else{g.removeClass("hide")}if(i.currPageX===i.pagesX.length-1){f.addClass("hide")}else{f.removeClass("hide")}},removeCompareNavEvents:function(){this.$compareTool.find(".compare-nav").children().off("click")},setTakeoverStickyHeader:function(g){var f=this;f.$takeoverStickyHeader=f.$compareTool.find(".takeover-sticky-header");f.$takeoverStickyHeader.find(".sticky-nav-title").text(g);f.takeoverHeaderHeight=f.$takeoverStickyHeader.outerHeight()},getY:function(f){return[this.valStart,f,this.valEnd,this.translateZ].join("")},setStickyHeaderPos:function(){var i=this,j=i.$compareItems.not(".hide").first().offset().top*-1,h=j+i.takeoverHeaderHeight,g=i.getY(i.outerScroller.y*-1),f=i.getY(h);i.$stickyHeaders.css(i.prop,f);i.$takeoverStickyHeader.css(i.prop,g);return i},setColumnMode:function(){var f=this;if(f.mode!=="detailed"){f.$grid.addClass("slimgrid5");f.shuffleColumns=function(h){var g;if(c.mq("(min-width: 75em)")){g=SONY.Settings.COLUMN_WIDTH_SLIM*h}else{if(!c.mediaqueries||c.mq("(min-width: 61.25em)")){g=SONY.Settings.COLUMN_WIDTH_SLIM_5*h}else{if(c.mq("(min-width: 35.5em)")){g=SONY.Settings.COLUMN_WIDTH_SLIM*h}else{g=SONY.Settings.COLUMN_WIDTH_320*h}}}return g};f.shuffleGutters=function(h){var i,g=0;if(c.mq("(min-width: 75em)")){i=SONY.Settings.GUTTER_WIDTH_SLIM*h;g=6}else{if(!c.mediaqueries||c.mq("(min-width: 61.25em)")){i=SONY.Settings.GUTTER_WIDTH_SLIM_5*h;g=5}else{if(c.mq("(min-width: 48em)")){g=4;i=SONY.Settings.GUTTER_WIDTH_SLIM*h}else{if(c.mq("(min-width: 35.5em)")){i=SONY.Settings.GUTTER_WIDTH_SLIM*h;g=3}else{i=SONY.Settings.GUTTER_WIDTH_320*h;g=2}}}}f.setColumns(g);return i}}else{f.shuffleColumns=SONY.Utilities.masonryColumns;f.shuffleGutters=SONY.Utilities.masonryGutters}return f},setColumns:function(i){var r=this,n="span1 span2 span3 span4 span6 m-span3",l="shuffle-",f="slimgrid",g=f+5,j=[l+2,l+3,l+4,l+5,l+6,f,g].join(" "),h=".gallery-item",o="span",k="m-"+o,p=".large",q=".promo",m=".normal";if(i===6){if(!r.$grid.hasClass(l+6)){r.$grid.removeClass(j).addClass(l+6+" "+f).parent().removeClass(g);r.$grid.children(h).removeClass(n).filter(p).addClass(o+6).end().filter(q).addClass(o+4).end().filter(m).addClass(o+2)}}else{if(i===5){if(!r.$grid.hasClass(l+5)){r.$grid.removeClass(j).addClass(l+5+" "+g);r.$grid.children(h).removeClass(n).filter(p).addClass(o+3).end().filter(q).addClass(o+2).end().filter(m).addClass(o+1)}}else{if(i===4){if(!r.$grid.hasClass(l+4)){r.$grid.removeClass(j).addClass(l+4+" "+f);r.$grid.children(h).removeClass(n).filter(q).addClass(o+6).end().filter(p+","+m).addClass(o+3)}}else{if(i===3){if(!r.$grid.hasClass(l+3)){r.$grid.removeClass(j).addClass(l+3+" "+f);r.$grid.children(h).removeClass(n).addClass(o+4)}}else{if(i===2){if(!r.$grid.parent().hasClass(l+2)){r.$grid.removeClass(j).addClass(l+2+" "+f);r.$grid.children(h).removeClass(n).addClass(k+3)}}}}}}return r},setCompareDimensions:function(){return this.setCompareHeight().setCompareWidth()},setCompareHeight:function(){var f=this,g=f.isIphone?a.innerHeight:f.$window.height();f.$compareTool.find(".compare-container").height(f.$compareItems.first().height());f.$compareTool.height(g);return f},setCompareWidth:function(){var g=this,f=0;g.$compareItems.not(".hide").each(function(){f+=b(this).outerWidth(true)});g.$compareTool.find(".compare-items-container").width(f);return g},setCompareRowHeights:function(){var f=this,g=f.$compareItems.not(".hide").find(".detail-group").first(),h=0;f.$stickyHeaders.evenHeights();f.$compareProductNameWraps.evenHeights();f.$compareTool.find(".detail-label").each(function(j){var l=b(this),k=f.$compareItems.find(".detail:nth-child("+(j+1)+")");k.add(l).evenHeights()});h=g.position().top;h+=parseFloat(g.css("marginTop"));f.$compareTool.find(".detail-label-group").css("top",h);if(f.outerScroller){f.outerScroller.refresh()}return f}};b.fn.gallery=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=b(this),h=i.data("gallery");if(!h){h=new e(i,g);i.data("gallery",h)}if(typeof g==="string"){h[g].apply(h,f)}})};b.fn.gallery.options={mode:"editorial",shuffleSpeed:SONY.Settings.shuffleSpeed,shuffleEasing:SONY.Settings.shuffleEasing};b.fn.gallery.settings={enabled:true,MIN_PRICE:d,MAX_PRICE:d,price:{},isInitialized:false,hasEnabledCarousels:false,sorted:false,isTouch:SONY.Settings.hasTouchEvents,isiPhone:SONY.Settings.isIPhone,loadingGif:"img/global/loader.gif",prop:c.csstransforms?"transform":"top",valStart:c.csstransforms?"translate(0,":"",valEnd:c.csstransforms?"px)":"px",translateZ:c.csstransforms3d?" translateZ(0)":""};SONY.onGalleryTabShow=function(f){var g=f.prevPane?f.prevPane:f.originalEvent.prevPane?f.originalEvent.prevPane:false;if(g){g.find(".gallery").each(function(){var h=b(this).data("gallery");if(h.hasActiveFilters){h.removeActiveFilters()}h.disable()})}};SONY.onGalleryTabShown=function(g){if(!g.pane){return}g.pane.find(".gallery").gallery("enable");SONY.Utilities.forceWebkitRedrawHack();var f=g.pane.find(".gallery").data("gallery");if(f){f.fixCarousels(false)}}})(jQuery,Modernizr,window);SONY.on("global:ready",function(){if($(".gallery").length>0){$(".gallery").each(function(){var a=$(this);a.gallery(a.data())});$("[data-tab]").on("show",SONY.onGalleryTabShow).on("shown",SONY.onGalleryTabShown);$(".tab-strip").stickyTabs();$(".tab-pane:not(.active)").addClass("off-screen");$(window).trigger("hashchange");setTimeout(function(){$(".tab-pane:not(.active) .gallery").gallery("disable")},500)}});(function(c,d,b,e){if(!c.socModules){c.socModules={}}var a=function(k,q){var p=this,l;c.extend(p,c.fn.sonyOneCarousel.defaults,q,c.fn.sonyOneCarousel.settings);var j=document.createElement("div").style,o=["webkit","Moz","ms","O"],n="",g=0,m;for(l=0;l<o.length;l++){m=o[l];if(!n&&(m+"Transform") in j){n=m}m=m.toLowerCase()}var h=n+(n?"T":"t");p.useCSS3Transitions=d.csstransforms&&d.csstransitions;if(p.useCSS3Transitions){p.use3dTransform=(n+(n?"P":"p")+"erspective") in j}p.$el=c(k);p.$win=c(b);p.$doc=c(document);p.$container=p.$el.find(".soc-container");p.$containerInner=p.$el.find(".soc-container-inner");p.$slides=p.$el.find(".soc-content");p.$gridW=p.$el.find(".soc-grid").eq(0);p.ev=c({});p.resizeRatio=0.4120689655;p.numSlides=p.$slides.length;p.currentId=0;p.animationSpeed=700;p.currentContainerWidth=0;p.sPosition=0;p.accelerationPos=0;p.prefixed=d.prefixed;p.transitionName=p.prefixed("transition");var f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};p.transitionEndName=f[p.transitionName];p.isDesktopMode=true;p.isTabletMode=false;p.isMobileMode=false;p.currentMode="desktop";p.$desktopSlides=c();p.$tabletSlides=c();p.$mobileSlides=c();p.$desktopSlides=p.$slides;p.originalSlideCount=p.$desktopSlides.length;p.$slides.each(function(r){c(this).find(".soc-item").each(function(i){c(this).data("slideGroupId",r)})});if(d.touch){p.hasTouch=true;p.downEvent="touchstart.soc";p.moveEvent="touchmove.soc";p.upEvent="touchend.soc";p.cancelEvent="touchcancel.soc";p.lastItemFriction=0.5}else{p.hasTouch=false;p.lastItemFriction=0.2;p.downEvent="mousedown.soc";p.moveEvent="mousemove.soc";p.upEvent="mouseup.soc";p.clickEvent="click.soc";p.cancelEvent="mouseup.soc"}if(p.useCSS3Transitions){p.yProp=p.xProp=d.prefixed("transform");if(p.use3dTransform){p.tPref1="translate3d(";p.tPref2="px, ";p.tPref3="px, 0px)"}else{p.tPref1="translate(";p.tPref2="px, ";p.tPref3="px)"}p.$container[d.prefixed("transitionProperty")]=d.prefixed("transform")}else{p.xProp="left";p.yProp="top"}b.SONY.on("global:resizeDebounced.soc",function(){p.checkForBreakPoint();p.update();p.updateSlides()});p.tapOrClick=function(){return p.hasTouch?"touchend":"click"};if(p.numSlides>1){p.$containerInner.on(p.downEvent,function(i){p.onDragStart(i)})}p.setupLinkClicks();p.createNavigation();p.setupPaddles();b.SONY.trigger("global:resizeDebounced.soc")};a.prototype={constructor:a,setupLinkClicks:function(){var f=this;f.$container.find(".soc-item").on(f.clickEvent,function(m){var l=c(this),i=l.find(".headline a").attr("href"),j=c(m.target).closest("a").attr("href"),h,g,k;if(f.hasTouch){g=m.originalEvent.touches[0]}else{g=m}if(f.startInteractionTime&&f.startInteractionPointX){k=Math.abs(g.pageX-f.startInteractionPointX);if((new Date().getTime())-f.startInteractionTime<250&&k<25){if(j&&j!==i){h=j}else{h=i}b.location=h}}});f.$container.find("a").on(f.clickEvent,function(g){g.preventDefault()})},onDragStart:function(i){var g=this,f;if(g.hasTouch){var h=i.originalEvent.touches;if(h&&h.length>0){f=h[0]}else{return}}else{f=i;i.preventDefault();if(i.which!==1){return}}g.isDragging=true;g.$doc.on(g.moveEvent,c.proxy(g.dragMove,g)).on(g.upEvent,c.proxy(g.dragRelease,g));g.hasMoved=false;g.pageX=f.pageX;g.pageY=f.pageY;g.startDragX=f.pageX;g.startPagePos=g.accelerationPos=f.pageX;g.horDir=0;g.currRenderPosition=g.sPosition;g.startTime=g.startInteractionTime=new Date().getTime();g.startInteractionPointX=f.pageX;if(g.hasTouch){g.$container.on(g.cancelEvent,function(j){g.dragRelease(j,false)})}},dragRelease:function(A){var t=this,r,z,f,k,j,i,m,h;t.renderMoveEvent=null;t.isDragging=false;t.lockAxis=false;t.renderMoveTime=0;b.cancelAnimationFrame(t.animFrame);t.$doc.off(t.moveEvent).off(t.upEvent);if(t.hasTouch){t.$container.off(t.cancelEvent)}var q=true;if(!t.hasMoved){return}function p(H,E){var F=-t.currentId*t.currentContainerWidth,G=Math.abs(t.sPosition-F);t.currAnimSpeed=G/E;if(H){t.currAnimSpeed+=250}t.currAnimSpeed=SONY.Utilities.constrain(t.currAnimSpeed,100,500);t.moveTo()}var l=t.minSlideOffset,w=t.hasTouch?A.originalEvent.changedTouches[0]:A,n=w.pageX,x=t.startPagePos,o=t.accelerationPos,y=t.currSlideId,D=t.numSlides,u=t.horDir,B=t.loop,s=false,g=0,v,C=(t.isDesktopMode?t.$desktopSlides:t.isTabletMode?t.$tabletSlides:t.$mobileSlides);r=Math.abs(n-x);v=t.startDragX>n?1:0;z=n-o;f=(new Date().getTime())-t.startTime;k=Math.abs(z)/f;if(r>t.hasTouch?Math.abs(t.currentContainerWidth*0.25):Math.abs(t.currentContainerWidth*0.5)){if(v===1){t.currentId++;if(t.currentId>=C.length){t.currentId=C.length-1}}else{t.currentId--;if(t.currentId<0){t.currentId=0}}t.moveTo(false,k)}else{p(true,k)}},dragMove:function(j){var h=this,f;if(h.hasTouch){if(h.lockAxis){return}var i=j.originalEvent.touches;if(i){if(i.length>1){return}else{f=i[0]}}else{return}}else{f=j}if(!h.hasMoved){if(h.useCSS3Transitions){h.$container.css(d.prefixed("transitionDuration"),"0s")}(function g(){if(h.isDragging){h.animFrame=b.requestAnimationFrame(g);if(h.renderMoveEvent){h.renderMovement(h.renderMoveEvent)}}})()}j.preventDefault();h.renderMoveTime=new Date().getTime();h.renderMoveEvent=f},renderMovement:function(o,g){var p=this,k=p.renderMoveTime,l=o.pageX-p.pageX,i=o.pageY-p.pageY,f=p.currRenderPosition+l,q=p.currRenderPosition+i,n=true,m=n?f:q;p.hasMoved=true;p.pageX=o.pageX;p.pageY=o.pageY;var h=p.pageX;p.horDir=l>0?1:-1;var j=n?l:i;if(!p.loop){if(p.currSlideId<=0){if(h-p.startPagePos>0){m=p.currRenderPosition+j*p.lastItemFriction}}if(p.currSlideId>=p.numSlides-1){if(h-p.startPagePos<0){m=p.currRenderPosition+j*p.lastItemFriction}}}p.currRenderPosition=m;if(k-p.startTime>200){p.startTime=k;p.accelerationPos=h}p.setPosition(p.currRenderPosition)},setPosition:function(h){b.iQ.update();var g=this,i=g.sPosition=h;if(g.useCSS3Transitions){var f={};f[d.prefixed("transitionDuration")]=0+"ms";f[g.xProp]=g.tPref1+(i+g.tPref2+0)+g.tPref3;g.$containerInner.css(f)}else{g.$containerInner.css(g.xProp,i)}},moveTo:function(f,i){var n=this,l=-n.currentId*n.currentContainerWidth,j=n.$el.find(".soc-content"),h={},g=Math.abs(n.sPosition-l);function k(o){if(o<100){return 100}else{if(o>500){return 500}}return o}n.currAnimSpeed=k(g/i);if(isNaN(n.currAnimSpeed)){n.currAnimSpeed=n.animationSpeed}if(n.currentId!==0){n.$gridW=n.$el.find(".soc-grid").eq(0);l-=(b.SONY.Settings.GUTTER_WIDTH_SLIM*n.$gridW.width())*n.currentId}if(n.isMobileMode===true){var m=(j.eq(0).width()-n.$el.find(".soc-item").eq(0).width())/2;l+=m-(n.currentId*10)}if(!n.useCSS3Transitions){h[n.xProp]=l+"px";n.$containerInner.animate(h,(f===true?10:n.currAnimSpeed))}else{h[d.prefixed("transitionDuration")]=(f===true?10:n.currAnimSpeed)+"ms";if(n.currAnimSpeed===n.animationSpeed){h[(n.vendorPrefix+n.TTF)]=c.rpCSS3Easing.easeOutBack}else{h[(n.vendorPrefix+n.TTF)]="cubic-bezier(0.33,0.66,0.66,1)"}h[n.xProp]=n.tPref1+((l)+n.tPref2+0)+n.tPref3;n.$containerInner.css(h);n.$containerInner.one(n.transitionEndName,function(){n.ev.trigger("socOnUpdateNav")})}n.sPosition=n.currRenderPosition=l},update:function(){var g=this,f=g.currentContainerWidth=g.$el.find(".soc-grid").eq(0).width(),h=Math.floor(g.resizeRatio*f)+"px",i=(g.isDesktopMode?g.$desktopSlides:g.isTabletMode?g.$tabletSlides:g.$mobileSlides);if(g.isDesktopMode||g.isTabletMode){g.$container.css("height",h);i.css("height",h)}else{h=Math.floor(c(".soc-item").eq(0).height());g.$container.css("height",h+"px")}},shuffleClasses:function(){var h=this,l=h.currentMode.toLowerCase(),k="span4 span6 span8 span12",g=".soc-item",f=".soc-1up",j=".soc-2up",i=".soc-3up";switch(l){case"desktop":h.$desktopSlides.find(g).removeClass(k).filter(f).addClass("span4").end().filter(j).addClass("span6").end().filter(i).addClass("span8");break;case"tablet":h.$tabletSlides.find(g).removeClass(k).filter(f).addClass("span6").end().filter(j).addClass("span6").end().filter(i).addClass("span6");break;case"mobile":h.$mobileSlides.find(g).removeClass(k).addClass("span12");break}},checkForBreakPoint:function(){var h=this,i=h.$win.width(),g=i>769?"desktop":i>481?"tablet":"mobile",f=h.currentMode;switch(g){case"desktop":if(h.isDesktopMode){return}h.isMobileMode=h.isTabletMode=false;h.isDesktopMode=true;h.currentMode=g;h.resizeRatio=0.423345746645;h.createDesktopSlides(f);h.shuffleClasses();break;case"tablet":if(h.isTabletMode){return}h.isMobileMode=h.isDesktopMode=false;h.isTabletMode=true;h.currentMode=g;h.resizeRatio=0.64615384615385;h.createTableSlides(f);h.shuffleClasses();break;case"mobile":if(h.isMobileMode){return}h.isTabletMode=h.isDesktopMode=false;h.isMobileMode=true;h.currentMode=g;h.resizeRatio=1.33574007220217;h.createMobileSlides(f);h.shuffleClasses();break}},createDesktopSlides:function(k){var o=this,h=null;switch(k){case"desktop":h=o.$desktopSlides.eq(o.currentId).find(".soc-item").first();break;case"tablet":h=o.$tabletSlides.eq(o.currentId).find(".soc-item").first();break;case"mobile":h=o.$mobileSlides.eq(o.currentId).find(".soc-item").first();break}o.$galleryItems=o.$el.find(".soc-item").detach();o.$tabletSlides.remove();o.$mobileSlides.remove();var m=0;var f=function(p){var i=c(this);if(i.data("slideGroupId")===j){i.appendTo(g)}};for(var j=0;j<o.originalSlideCount;j++){var l=c('<div class="soc-content" />'),g=c('<div class="soc-grid slimgrid" />'),n=null;o.$galleryItems.each(f);g.appendTo(l);l.appendTo(o.$containerInner)}o.$desktopSlides=o.$container.find(".soc-content");o.numSlides=o.$desktopSlides.length;o.createNavigation();o.currentId=o.getCurrentSlideByItemId(h);b.SONY.trigger("global:resizeDebounced.soc")},createTableSlides:function(h){var j=this,l=null;switch(h){case"desktop":l=j.$desktopSlides.eq(j.currentId).find(".soc-item").first();break;case"tablet":l=j.$tabletSlides.eq(j.currentId).find(".soc-item").first();break;case"mobile":l=j.$mobileSlides.eq(j.currentId).find(".soc-item").first();break}j.$galleryItems=j.$el.find(".soc-item").detach();j.$desktopSlides.remove();j.$mobileSlides.remove();var f=0,m=j.$galleryItems.length;var g=function(o,s){var n=c('<div class="soc-content" />'),p=c('<div class="soc-grid slimgrid" />'),r=j.$galleryItems.eq(o-1),q=j.$galleryItems.eq(o);if(s===true){r=j.$galleryItems.eq(o);q=c()}p.appendTo(n);if(r.length>0){r.appendTo(p)}if(q.length>0){q.appendTo(p)}n.appendTo(j.$containerInner);f++};for(var k=0;k<m;k++){if(k%2){g(k,false)}if(k===m-1&&m>f*2){g(k,true)}}j.$tabletSlides=j.$container.find(".soc-content");j.numSlides=j.$tabletSlides.length;j.createNavigation();j.currentId=j.getCurrentSlideByItemId(l);b.SONY.trigger("global:resizeDebounced.soc")},createMobileSlides:function(f){var j=this,l=null;switch(f){case"desktop":l=j.$desktopSlides.eq(j.currentId).find(".soc-item").first();break;case"tablet":l=j.$tabletSlides.eq(j.currentId).find(".soc-item").first();break;case"mobile":l=j.$mobileSlides.eq(j.currentId).find(".soc-item").first();break}j.$galleryItems=j.$el.find(".soc-item").detach();j.$desktopSlides.remove();j.$tabletSlides.remove();for(var k=0;k<j.$galleryItems.length;k++){var h=c('<div class="soc-content" />'),m=c('<div class="soc-grid slimgrid" />'),g=j.$galleryItems.eq(k);g.appendTo(h);h.appendTo(j.$containerInner)}j.$mobileSlides=j.$container.find(".soc-content");j.numSlides=j.$mobileSlides.length;j.createNavigation();j.currentId=j.getCurrentSlideByItemId(l);b.SONY.trigger("global:resizeDebounced.soc")},createNavigation:function(){var f=this;if(f.$dotnav){f.$dotnav.sonyNavDots("reset",{buttonCount:f.numSlides});return}f.$dotnav=f.$el.find(".soc-dot-nav").sonyNavDots({buttonCount:f.numSlides});f.$dotnav.on("SonyNavDots:clicked",function(h,g){f.currentId=g;f.moveTo()});f.ev.on("socOnUpdateNav",c.debounce(500,function(){f.$dotnav.sonyNavDots("reset",{activeButton:f.currentId})}))},setupPaddles:function(){var f=this,j='<div class="paddle"><i class=fonticon-10-chevron></i></div>',k=f.$el.closest(".container"),g='<div class="soc-nav soc-paddles">';if(f.hasTouch){return}f.paddlesEnabled=true;for(var h=0;h<2;h++){g+=j}g+="</div>";g=c(g);f.$el.append(g);f.$paddles=f.$el.find(".paddle");f.$leftPaddle=f.$paddles.eq(0).addClass("left");f.$rightPaddle=f.$paddles.eq(1).addClass("right");f.$paddles.on(f.tapOrClick(),function(){if(c(this).hasClass("left")){f.currentId--;if(f.currentId<0){f.currentId=0}f.moveTo()}else{f.currentId++;if(f.currentId>=f.$slides.length){f.currentId=f.$slides.length-1}f.moveTo()}});f.onPaddleNavUpdate();f.ev.on("socOnUpdateNav",c.proxy(f.onPaddleNavUpdate,f))},onPaddleNavUpdate:function(){var f=this;if(f.currentId===0){f.$leftPaddle.stop(true,true).fadeOut(100)}else{f.$leftPaddle.stop(true,true).fadeIn(200)}if(f.currentId===f.numSlides-1){f.$rightPaddle.stop(true,true).fadeOut(100)}else{f.$rightPaddle.stop(true,true).fadeIn(200)}},getCurrentSlideByItemId:function(h){var f=this,g=null;g=h.closest(".soc-content");return g.index()},updateSlides:function(){var h=this,g=0,f={},j=10,i=0;if(h.isDesktopMode===true){h.$gridW=h.$el.find(".soc-grid").eq(0);h.$desktopSlides.each(function(k){g=h.$gridW.width();i=b.SONY.Settings.GUTTER_WIDTH_SLIM*g;if(k>0){g+=i}c(this).css({left:Math.floor(k*g)+"px"})})}if(h.isTabletMode===true){h.$gridW=h.$el.find(".soc-grid").eq(0);h.$tabletSlides.each(function(k){g=h.$gridW.width();i=b.SONY.Settings.GUTTER_WIDTH_SLIM*g;if(k>0){g+=i}c(this).css({left:Math.floor(k*g)+"px",height:Math.floor(h.$el.find(".soc-item").eq(0).height())+"px"});c(this).find(".soc-item").css({position:"",top:"",left:""})})}if(h.isMobileMode===true){g=h.currentContainerWidth=h.$el.find(".soc-item").eq(0).width();h.$mobileSlides.each(function(k){c(this).css({left:Math.floor(k*(g+j))+"px",height:317+"px"})})}h.moveTo(true)},m:function(h){var g=this,f={};f[d.prefixed("transitionDuration")]=g.animationSpeed+"ms";f[d.prefixed("transitionTimingFunction")]=c.socCSS3Easing.easeOutBack;g.$containerInner.css(f);f[g.xProp]=g.tPref1+((h)+g.tPref2+0)+g.tPref3;g.$containerInner.css(f)}};c.socCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeOutBack:"cubic-bezier(0.595, -0.160, 0.255, 1.140)"};c.fn.sonyOneCarousel=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var h=c(this),i=h.data("sonyOneCarousel");if(!i){i=new a(h,g);h.data("sonyOneCarousel",i)}if(typeof g==="string"){i[g].apply(i,f)}})};c.fn.sonyOneCarousel.defaults={};c.fn.sonyOneCarousel.settings={throttleTime:250};b.SONY.on("global:ready",function(){c(".sony-one-carousel").sonyOneCarousel({}).data("sonyOneCarousel")})})(jQuery,Modernizr,window,undefined);(function(b,c,a,d){var e=function(h,g){var f=this;b.extend(f,b.fn.spec.options,g,b.fn.spec.settings);f.$container=h;f.$window=SONY.$window||b(a);f._init()};e.prototype={constructor:e,_init:function(){var f=this;f.$specProducts=f.$container.find(".spec-products");f.$specItems=f.$specProducts.find(".spec-item");f.$specItemsWrap=f.$specProducts.find(".spec-items-wrap");f.$specItemsGrid=f.$specProducts.find(".spec-items-grid");f.$tabStrip=f.$container.find(".tab-strip");f.$specTiles=f.$container.find(".spec-tiles");f.$modal=b("#ports-modal");f.$navWrap=f.$container.find(".spec-nav-wrap");f.$navContainer=f.$navWrap.find(".spec-nav-container");f.$navNext=f.$navWrap.find(".spec-nav-next");f.$navPrev=f.$navWrap.find(".spec-nav-prev");f.$stickyHeaders=f.$specProducts.find(".compare-sticky-header");f.$stickyNav=f.$container.find(".spec-sticky-nav");f.$jumpLinks=f.$container.find(".spec-views a");f.$stickyRightBar=f.$stickyHeaders.find(".right-bar");f.$enlargeTriggers=f.$specProducts.find(".js-enlarge");f.$enlargeClosers=f.$container.find(".spec-modal .box-close");f.$detailLabelsWrap=f.$specProducts.find(".detail-labels-wrap");f.stickyHeaderHeight=f.$stickyHeaders.first().height();f.stickyNavHeight=f.$stickyNav.outerHeight();f._onResize();f._initFeatures();f.$window.on("resize",b.debounce(250,b.proxy(f._onResize,f)));f.$window.on("scroll",b.proxy(f._onScroll,f));f.$enlargeTriggers.on("click",b.proxy(f._onEnlarge,f));f.$container.find(".btm-aligned").each(function(){var g=b(this);g.on("imageLoaded",function(){g.prev().css("marginBottom",g.css("height"));g=null})});setTimeout(function(){var g=b.debounce(200,b.proxy(f._setRowHeights,f));f.$specProducts.find(".iq-img").on("imageLoaded",g);f._initStickyNav();f._onScroll();f.$detailLabelsWrap.find(".detail-labels-wrapping").addClass("complete")},250)},_initFeatures:function(){var f=this;f.$specTiles.shuffle({itemSelector:".spec-tile",easing:SONY.Settings.shuffleEasing,speed:SONY.Settings.shuffleSpeed,hideLayoutWithFade:true,sequentialFadeDelay:100,columnWidth:function(h){var g=h;if(!c.mediaqueries||c.mq("(min-width: 30em)")){g=SONY.Settings.COLUMN_WIDTH_SLIM*h}return g},gutterWidth:function(i){var j=0,g=!c.mediaqueries||c.mq("(min-width: 47.9375em)"),h=g?false:c.mq("(min-width: 30em)"),k=g?3:h?2:1;if(g||h){j=SONY.Settings.GUTTER_WIDTH_SLIM*i}if(f.currentFeatureCols!==k&&k!==1){f._swapFeatureClasses(k)}f.currentFeatureCols=k;return j},showInitialTransition:false});f.shuffle=f.$specTiles.data("shuffle");f.$specTiles.find(".iq-img").on("imageLoaded",b.debounce(200,b.proxy(f.shuffle.layout,f.shuffle)));return f},_initScroller:function(){var f=this,g;f.$specItemsWrap.scrollerModule({contentSelector:".spec-items-container",itemElementSelector:".spec-item",mode:"free",nextSelector:f.$navNext,prevSelector:f.$navPrev,centerItems:false,iscrollProps:{snap:true,hScroll:true,vScroll:false,hScrollbar:false,vScrollbar:false,momentum:true,bounce:false,onScrollMove:function(){f._onScroll(this)},onAnimate:function(){f._onScroll(this)},onAnimationEnd:function(){f._onScroll(this);a.iQ.update()}}});g=f.$specItemsWrap.data("scrollerModule");f.scroller=g;f.iscroll=g.scroller;f._onScroll(f.iscroll);f.isScroller=true},_teardownScroller:function(){var f=this;f.$specItemsWrap.scrollerModule("destroy");f.iscroll=null;f.isScroller=false},_initStickyTabs:function(){var h=this,i=h.$specItems.find(".spec-column-header").clone(),g=b(),f=h.$tabStrip.find(".tabs");h.isStickyTabs=true;h.$specItems.slice(1).addClass("tab-pane fade off-screen");h.$specItems.slice(0,1).addClass("tab-pane fade in active");i.each(function(k){var j=b(this),l=b("<button/>",{html:j.contents()});if(k===0){l.addClass("active")}l.attr({"data-target":"spec-tab"+k,"data-toggle":"tab"}).removeClass("spec-column-header hidden-phone").addClass("tab");g=g.add(l)});g.appendTo(f);h.$tabStrip.stickyTabs({mq:h.mobileBreakpoint});h.$tabStrip.find(".tab").on("shown",b.proxy(h._setStickyHeaderContent,h));h._removeHeights()},_teardownStickyTabs:function(){var f=this;f.$tabStrip.stickyTabs("destroy").find(".tabs").off("shown").empty();f.isStickyTabs=false;f.$specItems.removeClass("tab-pane fade in off-screen active")},_swapFeatureClasses:function(i){var f=this,h="span6",g="span4";if(i===3){h="span4";g="span6"}f.$specTiles.children().each(function(){b(this).removeClass(g).addClass(h)})},_initStickyNav:function(){var f=this,g=SONY.$body;f.stickyTriggerOffset=f.stickyOffset.top;g.scrollspy({target:".spec-sticky-nav"});f._initJumpLinks();setTimeout(function(){g.scrollspy("refresh")},100)},_initJumpLinks:function(){var f=this,i=10,h=parseFloat(f.$stickyNav.css("height")),g=i+h;f.$jumpLinks.simplescroll({showHash:true,speed:400,offset:g})},_setRowHeights:function(g){var f=this;if(f.isMobile){return}g=g===true;f.$container.find(".detail-label").each(function(j){var k=b(this),h=f.$specItems.find(".spec-item-cell:nth-child("+(j+3)+")");h.add(k).evenHeights()});if(!g){f.stickyNavHeight=f.$stickyNav.outerHeight();f.stickyOffset=f._getStickyHeaderOffset()}if(f.iscroll){f.iscroll.refresh()}return f},_setItemContainerHeight:function(){var f=this;f.$specItemsWrap.find(".spec-items-container").height(f.$specItems.first().height());return f},_getMobileStickyContent:function(){return this.$tabStrip.find(".tab.active").html()},_setStickyHeaderContent:function(){var f=this,h=f.$stickyNav.find(".js-sticky-nav-content"),g=f.$stickyNav.find(".js-sticky-mobile-content"),i="";if(f.isMobile){if(!h.hasClass("hidden")){h.addClass("hidden")}if(g.hasClass("hidden")){g.removeClass("hidden")}i=f._getMobileStickyContent();g.find(".js-mobile-content").html(i)}else{if(h.hasClass("hidden")){h.removeClass("hidden")}if(!g.hasClass("hidden")){g.addClass("hidden")}}},_removeHeights:function(){var f=this;f.$specItems.find(".spec-item-cell").css("height","");f.$specItemsWrap.find(".spec-items-container").css("height","")},_onResize:function(){var f=this;if(c.mq(f.mobileBreakpoint)){if(f.isScroller){f._teardownScroller()}if(!f.isStickyTabs){f._initStickyTabs()}if(!f.isMobile){f.isMobile=true;f._setStickyHeaderContent()}}else{if(f.isStickyTabs){f._teardownStickyTabs()}if(!f.isScroller){f._initScroller()}if(f.isMobile){f.isMobile=false;f._setStickyHeaderContent()}f.$stickyRightBar.css("left",f.$specItemsGrid.width());f._setRowHeights(true)._setItemContainerHeight()}SONY.$body.scrollspy("refresh").scrollspy("process");setTimeout(function(){f.stickyNavHeight=f.$stickyNav.outerHeight();f.stickyOffset=f._getStickyHeaderOffset()},100)},_onScroll:function(k){var h=this,g=k!==d&&k.y!==d,j=g?k.y*-1:h.$window.scrollTop(),f,i;if(g){f=k.x;i=k.maxScrollX+3;if(f<-3&&!h.$detailLabelsWrap.hasClass("overflowing")){h.$detailLabelsWrap.addClass("overflowing")}else{if(f>=-3&&h.$detailLabelsWrap.hasClass("overflowing")){h.$detailLabelsWrap.removeClass("overflowing")}}if(f>i&&!h.$specItemsGrid.hasClass("overflowing")){h.$specItemsGrid.addClass("overflowing")}else{if(f<=i&&h.$specItemsGrid.hasClass("overflowing")){h.$specItemsGrid.removeClass("overflowing")}}return}if(!h.hasTouchEvents&&!h.isMobile&&j>=h.stickyOffset.top&&j<=h.stickyOffset.bottom){if(!h.$stickyHeaders.hasClass("open")){h.$stickyHeaders.addClass("open");h.$container.addClass("sticky-header-open");h.$navContainer.addClass("container");h.$navWrap.css("top",h.stickyNavHeight)}h._setStickyHeaderPos(j-h.stickyOffset.top+h.stickyNavHeight)}else{if(!h.hasTouchEvents&&h.$stickyHeaders.hasClass("open")){h.$container.removeClass("sticky-header-open");h.$stickyHeaders.removeClass("open");h.$navContainer.removeClass("container");h.$navWrap.css("top","auto")}}if(j>=h.stickyTriggerOffset){if(!h.$stickyNav.hasClass("open")){h.$stickyNav.addClass("open")}}else{if(h.$stickyNav.hasClass("open")){h.$stickyNav.removeClass("open")}}},_onEnlarge:function(f){var g=this,j=b(f.target).closest(".spec-item-cell").find(".spec-modal"),i=j.find(".js-spec-modal-title").text(),h=j.find(".js-spec-modal-body").clone();g.$modal.find("#ports-modal-label").html(i).end().find(".modal-body").html(h).end().modal()},_setStickyHeaderPos:function(i){var f=this,h=c.csstransforms3d?" translateZ(0)":"",j=c.csstransforms?"transform":"top",g=c.csstransforms?"translate(0,"+i+"px)"+h:i+"px";f.$stickyHeaders.css(j,g);return f},_getStickyHeaderOffset:function(){var g=this,h=g.$specProducts.offset().top,f=g.$specProducts.height()+h;f=f-g.stickyHeaderHeight-g.stickyNavHeight;return{top:h,bottom:f}}};b.fn.spec=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=b(this),h=i.data("spec");if(!h){h=new e(i,g);i.data("spec",h)}if(typeof g==="string"){h[g].apply(h,f)}})};b.fn.spec.options={mobileBreakpoint:"(max-width: 35.4375em)"};b.fn.spec.settings={isStickyTabs:false,isScroller:false,isMobile:false,hasTouchEvents:SONY.Settings.hasTouchEvents}})(jQuery,Modernizr,window);SONY.on("global:ready",function(){if($(".spec-multi").length>0){$(".spec-multi").spec()}});(function(b,c,a,d){var e=function(h,g){var f=this;b.extend(f,b.fn.specSingle.options,g,b.fn.specSingle.settings);f.$container=h;f.$window=SONY.$window;f._init()};e.prototype={constructor:e,_init:function(){var f=this;f.$specProduct=f.$container.find(".spec-product");f.$specTiles=f.$container.find(".spec-tiles");f.$stickyNav=f.$container.find(".spec-sticky-nav");f.$carouselWrap=f.$container.find(".spec-carousel-wrap");f.$carousel=f.$carouselWrap.find(".spec-carousel");f.$jumpLinks=f.$container.find(".spec-views a");f.$carouselCols=f.$carouselWrap.closest(".grid").children();f.$alignedBottom=f.$container.find(".align-right-bottom .has-img").closest(".grid").children();f.$alignedBottomImgs=f.$alignedBottom.find(".iq-img");f._initCarousel();f._initFeatures();f._onResize(true);SONY.on("global:resizeDebounced",b.proxy(f._onResize,f));setTimeout(function(){var g=b.debounce(50,b.proxy(f._onResize,f));f.$specProduct.find(".iq-img").on("imageLoaded",g);f._initStickyNav()},100)},_initFeatures:function(){var f=this;f.$specTiles.shuffle({itemSelector:".spec-tile",easing:SONY.Settings.shuffleEasing,speed:SONY.Settings.shuffleSpeed,hideLayoutWithFade:true,sequentialFadeDelay:100,columnWidth:function(h){var g=h;if(!c.mediaqueries||c.mq("(min-width: 30em)")){g=SONY.Settings.COLUMN_WIDTH_SLIM*h}return g},gutterWidth:function(i){var j=0,g=!c.mediaqueries||c.mq("(min-width: 47.9375em)"),h=g?false:c.mq("(min-width: 30em)"),k=g?3:h?2:1;if(g||h){j=SONY.Settings.GUTTER_WIDTH_SLIM*i}if(f.currentFeatureCols!==k&&k!==1){f._swapFeatureClasses(k)}f.currentFeatureCols=k;return j},showInitialTransition:false});f.shuffle=f.$specTiles.data("shuffle");f.$specTiles.find(".iq-img").on("imageLoaded",b.debounce(200,b.proxy(f.shuffle.layout,f.shuffle)));return f},_swapFeatureClasses:function(i){var f=this,h="span6",g="span4";if(i===3){h="span4";g="span6"}f.$specTiles.children().each(function(){b(this).removeClass(g).addClass(h)})},_initStickyNav:function(){var f=this,g=SONY.$body,h=f.$container.find(".spec-views:not(.nav)");f.stickyTriggerOffset=h[0].offsetTop;if(f.stickyTriggerOffset<100){setTimeout(function(){f.stickyTriggerOffset=h[0].offsetTop},50);console.error("sticky trigger top is:",f.stickyTriggerOffset,h)}f.$window.on("scroll",b.proxy(f._onScroll,f));g.scrollspy({target:".spec-sticky-nav"});f._initJumpLinks();setTimeout(function(){g.scrollspy("refresh")},100)},_initCarousel:function(){var f=this,h=f.$carousel.find(":first-child img");function g(){var j={mode:"carousel",contentSelector:".spec-carousel",itemElementSelector:".slide"},i;f.$carouselWrap.scrollerModule(j);i=h.height();f.$carousel.height(i)}h.on("imageLoaded",g)},_initJumpLinks:function(){var f=this,i=10,h=parseFloat(f.$stickyNav.css("height")),g=i+h;f.$jumpLinks.simplescroll({showHash:true,speed:400,offset:g})},_onScroll:function(){var f=this,g=f.$window.scrollTop();if(g>f.stickyTriggerOffset){if(!f.$stickyNav.hasClass("open")){f.$stickyNav.addClass("open")}}else{if(f.$stickyNav.hasClass("open")){f.$stickyNav.removeClass("open")}}f.$alignedBottomImgs.each(function(){var h=b(this);if(this.src===""||h.data("loaded")){return}h.data("loaded",true);h.imagesLoaded(function(){f.$alignedBottom.evenHeights()})})},_onResize:function(g){var h=this,i=h.$carousel.find("img"),f;f=g===true;if(!f){h.$carousel.height(i.height())}if(!c.mq(h.mobileBreakpoint)){h.$alignedBottom.evenHeights();h.$carouselCols.evenHeights()}else{h.$alignedBottom.add(h.$carouselCols).css("height","")}SONY.$body.scrollspy("refresh").scrollspy("process")}};b.fn.specSingle=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=b(this),h=i.data("spec");if(!h){h=new e(i,g);i.data("spec",h)}if(typeof g==="string"){h[g].apply(h,f)}})};b.fn.specSingle.options={mobileBreakpoint:"(max-width: 35.4375em)"};b.fn.specSingle.settings={isStickyTabs:false,isScroller:false,currentFeatureCols:null,isLessThanie9:!!document.attachEvent}}(jQuery,Modernizr,window));SONY.on("global:ready",function(){if($(".spec-single").length>0){$(".spec-single").specSingle()}});(function(c,d,b,e){var a=function(h,g){var f=this;c.extend(f,{},c.fn.tertiaryModule.defaults,g,c.fn.tertiaryModule.settings);f.$win=SONY.$window;f.isTouch=SONY.Settings.hasTouchEvents;f.isLayoutHidden=false;f.isInit=true;f.mode=null;f.prevMode=null;f.$scrollerInstance=null;f.$container=c(h);f.$el=f.$container.find(".tcc-scroller");f.containerId="#"+f.$container.attr("id");f.contentModulesClass=".tcc-content-module";f.contentSelectorClass=".tcc-body";f.$tccHeaderWrapper=f.$container.find(".tcc-header-wrapper");f.$tccHeader=f.$tccHeaderWrapper.find(".tcc-header");f.$tccBodyWrapper=f.$el;f.$tccBody=f.$tccBodyWrapper.find(f.contentSelectorClass);f.$contentModules=f.$el.find(f.contentModulesClass);f.$hideShowEls=f.$tccBodyWrapper.add(f.$tccBody).add(f.$contentModules);f.$loader=f.$container.find(".loader");f.tccNamespace=".tcc";f.debounceBeforeEvent="global:resizeDebouncedAtBegin-200ms"+f.tccNamespace;f.debounceEvent="global:resizeDebounced-200ms"+f.tccNamespace;f.beforeResizeFunc=c.proxy(f.beforeResize,f);f.afterResizeFunc=c.proxy(f.afterResize,f);f.afterResizeSpeed=200;f.setupSpeed=200;f.teardownSpeed=50;f.hideAllSpeed=50;f.showAllSpeed=200;f.animationSpeed=200;f.phoneBreakpoint=479;f.tabletBreakpointMin=f.phoneBreakpoint+1;f.tabletBreakpointMax=768;f.marginPercent=Number(".0334");f.paddingPerContent=20;SONY.on(f.debounceBeforeEvent,f.beforeResizeFunc);SONY.on(f.debounceEvent,f.afterResizeFunc);f.init()};a.prototype={constructor:a,init:function(){var f=this;f.setMode();if(f.mode!=="desktop"){f.setup()}},setup:function(){var f=this,g=new Sequencer();g.add(f,f.setContentModuleSizes,f.setupSpeed);g.add(f,f.setScrollerOptions,f.setupSpeed);g.add(f,f.createScroller,f.setupSpeed);if(f.mode==="tablet"){g.add(f,f.adjustPositionForMargins,f.setupSpeed)}if(f.isLayoutHidden){g.add(f,f.showAll,f.setupSpeed)}g.start()},teardown:function(){var g=this,f=new Sequencer();if((g.mode==="desktop")&&(g.prevMode!="desktop")){f.add(g,g.clearContentWidth,g.teardownSpeed)}f.add(g,g.destroyScroller,g.teardownSpeed);f.start()},hideAll:function(){var f=this;var g=new Sequencer();g.add(f,f.hideElements,f.hideAllSpeed);g.add(f,f.showLoader,f.hideAllSpeed);g.start()},showAll:function(){var f=this;var g=new Sequencer();g.add(f,f.hideLoader,f.showAllSpeed);g.add(f,f.showElements,f.showAllSpeed);g.start()},showLoader:function(){var f=this;f.$loader.show()},hideLoader:function(){var f=this;f.$loader.hide()},hideElements:function(){var f=this,g=f.$hideShowEls;g.css({opacity:0,visibility:"hidden"});f.isLayoutHidden=true},showElements:function(){var f=this,g=f.$hideShowEls;g.stop(true,true).animate({opacity:1},{duration:f.animationSpeed,complete:function(){g.css({visibility:"visible"})}});f.isLayoutHidden=false},createScroller:function(){var f=this;f.$scrollerInstance=f.$el.scrollerModule(f.scrollerOptions)},destroyScroller:function(){var f=this;f.$scrollerInstance.scrollerModule("destroy");f.$scrollerInstance=null},clearContentWidth:function(){var f=this;f.$contentModules.css("width","")},setScrollerOptions:function(){var f=this;f.scrollerOptions=f.options;f.scrollerOptions.fitPerPage=f.mode==="phone"?1:2;f.scrollerOptions.generateNav=!(f.isTouch)},getHorizontalMargins:function(f){var g=this,h=f;return Math.round(Number(h.outerWidth(true)-h.outerWidth()))},setContentModuleSizes:function(){var f=this,j=Math.round(f.$el.outerWidth()),h=f.getHorizontalMargins(f.$tccHeaderWrapper),g=null,i=f.$contentModules;if((f.mode==="tablet")||(f.mode==="phone")){g=j-h;if(f.mode==="tablet"){g=Math.round((g/2)-(h/2))}else{i=f.addDynamicWidthElements(i)}}i.each(function(){c(this).innerWidth(g)})},addDynamicWidthElements:function(g){var f=this;g.each(function(){var i=c(this),h=i.data("tcc-content-type")+":"+i.data("tcc-content-mode");if((h==="flickr:default")||(h==="sonys-voice:instagram")){g=g.add(i.find(".center-content"))}});return g},adjustPositionForMargins:function(){var h=this,j=h.getHorizontalMargins(h.$tccHeaderWrapper),i,k,g,f;h.$contentModules.each(function(l){i=c(h.$contentModules[l]);g=i.position();f=Number(g.left);if((l===0)||(l===2)){k=Math.round(Number(f-(j/2)))}else{k=Math.round(Number(f+(j/2)))}i.offset({left:k})})},beforeResize:function(){var f=this;if(!((f.mode==="desktop")&&(f.prevMode==="desktop"))){f.hideAll()}},afterResize:function(){var f=this,g=new Sequencer();f.setMode();if((f.mode!="desktop")&&(f.prevMode==="desktop")){g.add(f,f.setup,f.afterResizeSpeed)}else{if((f.mode!="desktop")&&(f.prevMode!="desktop")){if(f.$scrollerInstance){g.add(f,f.teardown,f.afterResizeSpeed)}g.add(f,f.setup,f.afterResizeSpeed)}else{if((f.mode==="desktop")&&(f.prevMode!="desktop")){if(f.$scrollerInstance){g.add(f,f.teardown,f.afterResizeSpeed)}}}}g.add(f,f.showAll,f.afterResizeSpeed);g.start()},setMode:function(){var f=this;f.prevMode=f.mode;if(d.mq("(max-width:"+f.phoneBreakpoint+"px)")){f.mode="phone"}else{if(d.mq("(min-width:"+f.tabletBreakpointMin+"px) and (max-width:"+f.tabletBreakpointMax+"px)")){f.mode="tablet"}else{f.mode="desktop"}}if(f.prevMode===null){f.prevMode=f.mode}},reportMode:function(g){var f=this,h=g||null;console.log("======= at",h," ============");console.log(f.prevMode," »»» ",f.mode);console.log("================================")}};c.fn.tertiaryModule=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var h=c(this),i=h.data("tertiaryModule");if(!i){i=new a(h,g);h.data("tertiaryModule",i)}if(typeof g==="string"){i[g].apply(i,f)}})};c.fn.tertiaryModule.defaults={options:{contentSelector:".tcc-body",itemElementSelector:".tcc-content-module",mode:"paginate",generatePagination:true,centerItems:true,iscrollProps:{snap:true,momentum:false,hScrollbar:false,vScrollbar:false}}};SONY.on("global:ready",function(){var f=c("html").hasClass("lt-ie10");if(!f){c(".tcc-wrapper").each(function(){c(this).tertiaryModule({}).data("tertiaryModule")})}})})(jQuery,Modernizr,window,undefined);(function(b){var a=function(c,e){var d=this;b.extend(d,{},b.fn.marketingConvergenceModule.defaults,e);d.$html=b(document.documentElement);d.$el=c;d.$reloadButton=d.$el.find(".btn-reload");d.$dialWrappers=d.$el.find(".uxmc-dial-wrapper");d.$dials=d.$dialWrappers.find(".uxmc-dial");d.$dialLabels=d.$dialWrappers.find(".uxmc-dial-label");d.$partnerCarousel=d.$el.find(".partner-products");d.$partnerCarouselSlides=d.$partnerCarousel.find("li");d.init()};a.prototype={constructor:a,init:function(){var c=this;c.currentPartnerProduct=-1;c.$partnerCarouselSlides.detach();c.gotoNextPartnerProduct();c.resetPartnerCarouselInterval();c.animationLoop();c.setupButtons();c.setupDials()},setupButtons:function(){var c=this;c.$reloadButton.on("click",function(d){d.preventDefault();c.gotoNextPartnerProduct();c.resetPartnerCarouselInterval()})},setupDials:function(){var c=this;c.$dials.simpleKnob({width:28,height:28,thickness:0.15,fontSize:"1em",bgColor:"rgba(255, 255, 255, 0.5)",fgColor:"#fff"}).css("display","block");c.$dialLabels.on("mousedown",function(f){f.preventDefault();var d=c.$dials.index(b(this).parent().find(c.$dials));if(d===c.currentPartnerProduct){c.resetDials()}else{c.gotoPartnerProduct(d)}c.resetPartnerCarouselInterval()}).on("mouseover",function(d){b(this).parent().find(c.$dials).not(c.$activeDial).val(100).trigger("change")}).on("mouseout",function(d){b(this).parent().find(c.$dials).not(c.$activeDial).val(0).trigger("change")})},resetPartnerCarouselInterval:function(){var c=this;if(c.partnerCarouselInterval){clearInterval(c.partnerCarouselInterval)}c.partnerCarouselInterval=setInterval(function(){c.gotoNextPartnerProduct()},c.rotationSpeed)},gotoNextPartnerProduct:function(){var c=this;if(c.currentPartnerProduct===c.$partnerCarouselSlides.length-1){c.gotoPartnerProduct(0)}else{c.gotoPartnerProduct(c.currentPartnerProduct+1)}},gotoPartnerProduct:function(e){var c=this,d=c.$partnerCarousel.children(),f;if(c.isAnimating){return}c.currentPartnerProduct=e;f=c.$partnerCarouselSlides.eq(e).clone().appendTo(c.$partnerCarousel);c.$reloadButton.css("color",f.css("backgroundColor"));if(c.$partnerCarousel.children().length>1){c.isAnimating=true;c.$partnerCarousel.children().animate({top:"-100%"},{duration:c.transitionTime,complete:function(){d.remove();f.css("top","");c.isAnimating=false}})}window.iQ.update();c.resetDials()},resetDials:function(){var c=this;c.$activeDial=c.$dials.eq(c.currentPartnerProduct);c.$activeDialLabel=c.$activeDial.closest(c.$dialWrappers).find(c.$dialLabels);c.$dials.not(c.$activeDial).val(0).trigger("change");c.slideStartTime=new Date();c.$dialLabels.removeClass("active");c.$activeDialLabel.addClass("active")},animationLoop:function(){var d=this,c=(new Date()-d.slideStartTime)/d.rotationSpeed*100;window.requestAnimationFrame(b.proxy(d.animationLoop,d));if(d.$activeDial){d.$activeDial.val(c).trigger("change")}}};b.fn.marketingConvergenceModule=function(d){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=b(this),f=e.data("marketingConvergenceModule");if(!f){f=new a(e,d);e.data("marketingConvergenceModule",f)}if(typeof d==="string"){f[d].apply(f,c)}})};b.fn.marketingConvergenceModule.defaults={rotationSpeed:7500,transitionTime:1000};b(function(){b(".uxmc-container").marketingConvergenceModule()})})(jQuery);