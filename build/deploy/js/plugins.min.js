window.matchMedia=window.matchMedia||(function(e,f){var c,a=e.documentElement,b=a.firstElementChild||a.firstChild,d=e.createElement("body"),g=e.createElement("div");g.id="mq-test-1";g.style.cssText="position:absolute;top:-100em";d.style.background="none";d.appendChild(g);return function(h){g.innerHTML='&shy;<style media="'+h+'"> #mq-test-1 { width: 42px; }</style>';a.insertBefore(d,b);c=g.offsetWidth===42;a.removeChild(d);return{matches:c,media:h}}}(document));window.enquire=(function(d){if($(document.documentElement).hasClass("no-mediaqueries")){return}"use strict";function e(m,k){var j=0,l=m.length,h;for(j;j<l;j++){h=k(m[j],j);if(h===false){break}}}function a(h){return Object.prototype.toString.apply(h)==="[object Array]"}function g(h){return typeof h==="function"}function b(h){this.initialised=false;this.options=h;if(!h.deferSetup){this.setup()}}b.prototype={setup:function(h){if(this.options.setup){this.options.setup(h)}this.initialised=true},on:function(h){if(!this.initialised){this.setup(h)}this.options.match(h)},off:function(h){if(this.options.unmatch){this.options.unmatch(h)}},destroy:function(){if(this.options.destroy){this.options.destroy()}else{this.off()}},equals:function(h){return this.options===h||this.options.match===h}};function c(i,h){this.query=i;this.isUnconditional=h;this.handlers=[];this.matched=false}c.prototype={matchMedia:function(){return d(this.query).matches},addHandler:function(i,j){var h=new b(i);this.handlers.push(h);j&&this.matched&&h.on()},removeHandler:function(i){var h=this.handlers;e(h,function(k,j){if(k.equals(i)){k.destroy();return !h.splice(j,1)}})},assess:function(h){if(this.matchMedia()||this.isUnconditional){this.match(h)}else{this.unmatch(h)}},match:function(h){if(this.matched){return}e(this.handlers,function(i){i.on(h)});this.matched=true},unmatch:function(h){if(!this.matched){return}e(this.handlers,function(i){i.off(h)});this.matched=false}};function f(){if(!d){throw new Error("matchMedia is required")}var h=new c("only all");this.queries={};this.listening=false;this.browserIsIncapable=!h.matchMedia()}f.prototype={register:function(m,j,l){var i=this.queries,h=l&&this.browserIsIncapable,k=this.listening;if(!i.hasOwnProperty(m)){i[m]=new c(m,h);this.listening&&i[m].assess()}if(g(j)){j={match:j}}if(!a(j)){j=[j]}e(j,function(n){i[m].addHandler(n,k)});return this},unregister:function(j,i){var h=this.queries;if(!h.hasOwnProperty(j)){return this}if(!i){e(this.queries[j].handlers,function(k){k.destroy()});delete h[j]}else{h[j].removeHandler(i)}return this},fire:function(i){var h=this.queries,j;for(j in h){if(h.hasOwnProperty(j)){h[j].assess(i)}}return this},listen:function(j){var i=this;j=j||500;function h(k){var l;window.addEventListener(k,function(m){l&&clearTimeout(l);l=setTimeout(function(){i.fire(m)},j)},false)}if(this.listening){return this}if(window.addEventListener){h("resize");h("orientationChange")}i.fire();this.listening=true;return this}};return new f()}(window.matchMedia));
/*!
 * jQuery imagesLoaded plugin v2.1.1
 * http://github.com/desandro/imagesloaded
 *
 * MIT License. by Paul Irish et al.
 */
(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(l){var i=this,n=a.isFunction(a.Deferred)?a.Deferred():0,m=a.isFunction(n.notify),f=i.find("img").add(i.filter("img")),g=[],k=[],h=[];if(a.isPlainObject(l)){a.each(l,function(o,p){if(o==="callback"){l=p}else{if(n){n[o](p)}}})}function j(){var o=a(k),p=a(h);if(n){if(h.length){n.reject(f,o,p)}else{n.resolve(f)}}if(a.isFunction(l)){l.call(i,f,o,p)}}function e(o){d(o.target,o.type==="error")}function d(o,p){if(o.src===c||a.inArray(o,g)!==-1){return}g.push(o);if(p){h.push(o)}else{k.push(o)}a.data(o,"imagesLoaded",{isBroken:p,src:o.src});if(m){n.notifyWith(a(o),[p,f,a(k),a(h)])}if(f.length===g.length){setTimeout(j);f.unbind(".imagesLoaded",e)}}if(!f.length){j()}else{f.bind("load.imagesLoaded error.imagesLoaded",e).each(function(o,q){var r=q.src;var p=a.data(q,"imagesLoaded");if(p&&p.src===r){d(q,p.isBroken);return}if(q.complete&&q.naturalWidth!==b){d(q,q.naturalWidth===0||q.naturalHeight===0);return}if(q.readyState||q.complete){q.src=c;q.src=r}})}return n?n.promise(i):i}})(jQuery);(function(p,j,l){j.infinitescroll=function y(C,E,D){this.element=j(D);if(!this._create(C,E)){this.failed=true}};j.infinitescroll.defaults={loading:{finished:l,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,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",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:l},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,currPage:1},debug:false,behavior:l,binder:j(p),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:l,dataType:"html",appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:l,path:l,prefill:false};j.infinitescroll.prototype={_binding:function g(E){var C=this,D=C.options;D.v="2.0b2.111027";if(!!D.behavior&&this["_binding_"+D.behavior]!==l){this["_binding_"+D.behavior].call(this);return}if(E!=="bind"&&E!=="unbind"){this._debug("Binding value  "+E+" not valid");return false}if(E==="unbind"){(this.options.binder).unbind("scroll.infscr."+C.options.infid)}else{(this.options.binder)[E]("scroll.infscr."+C.options.infid,j.throttle(100,function(){C.scroll()}))}this._debug("Binding",E)},_create:function t(E,I){var F=j.extend(true,{},j.infinitescroll.defaults,E);this.options=F;var H=j(p);var C=this;if(!C._validate(E)){return false}var G=j(F.nextSelector).attr("href");if(!G){this._debug("Navigation selector not found");return false}F.path=F.path||this._determinepath(G);F.contentSelector=F.contentSelector||this.element;F.loading.selector=F.loading.selector||F.contentSelector;F.loading.msg=F.loading.msg||j('<div id="infscr-loading"><img alt="Loading..." src="'+F.loading.img+'" /><div>'+F.loading.msgText+"</div></div>");(new Image()).src=F.loading.img;if(F.pixelsFromNavToBottom===l){F.pixelsFromNavToBottom=j(document).height()-j(F.navSelector).offset().top}var D=this;F.loading.start=F.loading.start||function(){j(F.navSelector).hide();F.loading.msg.appendTo(F.loading.selector).show(F.loading.speed,j.proxy(function(){this.beginAjax(F)},D))};F.loading.finished=F.loading.finished||function(){F.loading.msg.fadeOut(F.loading.speed)};F.callback=function(J,K){if(!!F.behavior&&J["_callback_"+F.behavior]!==l){J["_callback_"+F.behavior].call(j(F.contentSelector)[0],K)}if(I){I.call(j(F.contentSelector)[0],K,F)}if(F.prefill){H.bind("resize.infinite-scroll",J._prefill)}};if(E.debug){if(Function.prototype.bind&&(typeof console==="object"||typeof console==="function")&&typeof console.log==="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(J){console[J]=this.call(console[J],console)},Function.prototype.bind)}}this._setup();if(F.prefill){this._prefill()}return true},_prefill:function o(){var C=this;var F=j(document);var E=j(p);function D(){return(F.height()<=E.height())}this._prefill=function(){if(D()){C.scroll()}E.bind("resize.infinite-scroll",function(){if(D()){E.unbind("resize.infinite-scroll");C.scroll()}})};this._prefill()},_debug:function r(){if(true!==this.options.debug){return}if(typeof console!=="undefined"&&typeof console.log==="function"){if((Array.prototype.slice.call(arguments)).length===1&&typeof Array.prototype.slice.call(arguments)[0]==="string"){console.log((Array.prototype.slice.call(arguments)).toString())}else{console.log(Array.prototype.slice.call(arguments))}}else{if(!Function.prototype.bind&&typeof console!=="undefined"&&typeof console.log==="object"){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}}},_determinepath:function z(D){var C=this.options;if(!!C.behavior&&this["_determinepath_"+C.behavior]!==l){return this["_determinepath_"+C.behavior].call(this,D)}if(!!C.pathParse){this._debug("pathParse manual");return C.pathParse(D,this.options.state.currPage+1)}else{if(D.match(/^(.*?)\b2\b(.*?$)/)){D=D.match(/^(.*?)\b2\b(.*?$)/).slice(1)}else{if(D.match(/^(.*?)2(.*?$)/)){if(D.match(/^(.*?page=)2(\/.*|$)/)){D=D.match(/^(.*?page=)2(\/.*|$)/).slice(1);return D}D=D.match(/^(.*?)2(.*?$)/).slice(1)}else{if(D.match(/^(.*?page=)1(\/.*|$)/)){D=D.match(/^(.*?page=)1(\/.*|$)/).slice(1);return D}else{this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");C.state.isInvalidPage=true}}}}this._debug("determinePath",D);return D},_error:function v(D){var C=this.options;if(!!C.behavior&&this["_error_"+C.behavior]!==l){this["_error_"+C.behavior].call(this,D);return}if(D!=="destroy"&&D!=="end"){D="unknown"}this._debug("Error",D);if(D==="end"){this._showdonemsg()}C.state.isDone=true;C.state.currPage=1;C.state.isPaused=false;this._binding("unbind")},_loadcallback:function c(G,H){var F=this.options,J=this.options.callback,C=(F.state.isDone)?"done":(!F.appendCallback)?"no-append":"append",I;if(!!F.behavior&&this["_loadcallback_"+F.behavior]!==l){this["_loadcallback_"+F.behavior].call(this,G,H);return}switch(C){case"done":this._showdonemsg();return false;case"no-append":if(F.dataType==="html"){H="<div>"+H+"</div>";H=j(H).find(F.itemSelector)}break;case"append":var E=G.children();if(E.length===0){return this._error("end")}I=document.createDocumentFragment();while(G[0].firstChild){I.appendChild(G[0].firstChild)}this._debug("contentSelector",j(F.contentSelector)[0]);j(F.contentSelector)[0].appendChild(I);H=E.get();break}F.loading.finished.call(j(F.contentSelector)[0],F);if(F.animate){var D=j(p).scrollTop()+j("#infscr-loading").height()+F.extraScrollPx+"px";j("html,body").animate({scrollTop:D},800,function(){F.state.isDuringAjax=false})}if(!F.animate){F.state.isDuringAjax=false}J(this,H);if(F.prefill){this._prefill()}},_nearbottom:function u(){var D=this.options,C=0+j(document).height()-(D.binder.scrollTop())-j(p).height();if(!!D.behavior&&this["_nearbottom_"+D.behavior]!==l){return this["_nearbottom_"+D.behavior].call(this)}this._debug("math:",C,C-D.bufferPx,D.pixelsFromNavToBottom);this._debug("nearbottom?",(C-D.bufferPx<D.pixelsFromNavToBottom));return(C-D.bufferPx<D.pixelsFromNavToBottom)},_pausing:function m(D){var C=this.options;if(!!C.behavior&&this["_pausing_"+C.behavior]!==l){this["_pausing_"+C.behavior].call(this,D);return}if(D!=="pause"&&D!=="resume"&&D!==null){this._debug("Invalid argument. Toggling pause value instead")}D=(D&&(D==="pause"||D==="resume"))?D:"toggle";switch(D){case"pause":C.state.isPaused=true;break;case"resume":C.state.isPaused=false;break;case"toggle":C.state.isPaused=!C.state.isPaused;break}this._debug("Paused",C.state.isPaused);return false},_setup:function s(){var C=this.options;if(!!C.behavior&&this["_setup_"+C.behavior]!==l){this["_setup_"+C.behavior].call(this);return}this._binding("bind");return false},_showdonemsg:function a(){var C=this.options;if(!!C.behavior&&this["_showdonemsg_"+C.behavior]!==l){this["_showdonemsg_"+C.behavior].call(this);return}C.loading.msg.find("img").hide().parent().find("div").html(C.loading.finishedMsg).animate({opacity:1},2000,function(){j(this).parent().fadeOut(C.loading.speed)});C.errorCallback.call(j(C.contentSelector)[0],"done")},_validate:function w(D){for(var C in D){if(C.indexOf&&C.indexOf("Selector")>-1&&j(D[C]).length===0){this._debug("Your "+C+" found no elements.");return false}}return true},bind:function q(){this._binding("bind")},destroy:function B(){this.options.state.isDestroyed=true;return this._error("destroy")},pause:function e(){this._pausing("pause")},resume:function i(){this._pausing("resume")},updateNavLocation:function h(){var C=this.options;C.pixelsFromNavToBottom=j(document).height()-j(C.navSelector).offset().top},beginAjax:function A(F){var D=this,H=F.path,E,C,J,I;F.state.currPage++;E=j(F.contentSelector).is("table")?j("<tbody/>"):j("<div/>");C=(typeof H==="function")?H(F.state.currPage):H.join(F.state.currPage);D._debug("heading into ajax",C);J=(F.dataType==="html"||F.dataType==="json")?F.dataType:"html+callback";if(F.appendCallback&&F.dataType==="html"){J+="+callback"}switch(J){case"html+callback":D._debug("Using HTML via .load() method");E.load(C+" "+F.itemSelector,l,function G(K){D._loadcallback(E,K)});break;case"html":D._debug("Using "+(J.toUpperCase())+" via $.ajax() method");j.ajax({url:C,dataType:F.dataType,complete:function G(K,L){I=(typeof(K.isResolved)!=="undefined")?(K.isResolved()):(L==="success"||L==="notmodified");if(I){D._loadcallback(E,K.responseText)}else{D._error("end")}}});break;case"json":D._debug("Using "+(J.toUpperCase())+" via $.ajax() method");j.ajax({dataType:"json",type:"GET",url:C,success:function(M,N,L){I=(typeof(L.isResolved)!=="undefined")?(L.isResolved()):(N==="success"||N==="notmodified");if(F.appendCallback){if(F.template!==l){var K=F.template(M);E.append(K);if(I){D._loadcallback(E,K)}else{D._error("end")}}else{D._debug("template must be defined.");D._error("end")}}else{if(I){D._loadcallback(E,M)}else{D._error("end")}}},error:function(){D._debug("JSON ajax request failed.");D._error("end")}});break}},retrieve:function b(E){E=E||null;var C=this,D=C.options;if(!!D.behavior&&this["retrieve_"+D.behavior]!==l){this["retrieve_"+D.behavior].call(this,E);return}if(D.state.isDestroyed){this._debug("Instance is destroyed");return false}D.state.isDuringAjax=true;D.loading.start.call(j(D.contentSelector)[0],D)},scroll:function f(){var C=this.options,D=C.state;if(!!C.behavior&&this["scroll_"+C.behavior]!==l){this["scroll_"+C.behavior].call(this);return}if(D.isDuringAjax||D.isInvalidPage||D.isDone||D.isDestroyed||D.isPaused){return}if(!this._nearbottom()){return}this.retrieve()},toggle:function x(){this._pausing()},unbind:function n(){this._binding("unbind")},update:function k(C){if(j.isPlainObject(C)){this.options=j.extend(true,this.options,C)}}};j.fn.infinitescroll=function d(E,F){var D=typeof E;switch(D){case"string":var C=Array.prototype.slice.call(arguments,1);this.each(function(){var G=j.data(this,"infinitescroll");if(!G){return false}if(!j.isFunction(G[E])||E.charAt(0)==="_"){return false}G[E].apply(G,C)});break;case"object":this.each(function(){var G=j.data(this,"infinitescroll");if(G){G.update(E)}else{G=new j.infinitescroll(E,F,this);if(!G.failed){j.data(this,"infinitescroll",G)}}});break}return this}})(window,jQuery);(function(d,g){var f=d.jQuery||d.Cowboy||(d.Cowboy={}),e;f.throttle=e=function(m,l,a,b){var c,n=0;if(typeof l!=="boolean"){b=a;a=l;l=g}function k(){var p=this,h=+new Date()-n,q=arguments;function i(){n=+new Date();a.apply(p,q)}function j(){c=g}if(b&&!c){i()}c&&clearTimeout(c);if(b===g&&h>m){i()}else{if(l!==true){c=setTimeout(b?j:i,b===g?m-h:m)}}}if(f.guid){k.guid=a.guid=a.guid||f.guid++}return k};f.debounce=function(c,b,a){return a===g?e(c,b,false):e(c,a,b!==false)}})(this);
/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 * Modified: 01/07/2013 by Glen Cheney (added onAnimate + more cleanup in destroy())
 */
(function(l,I){function y(m){if(D===""){return m}m=m.charAt(0).toUpperCase()+m.substr(1);return D+m}var z=Math,q=I.createElement("div").style,D=(function(){var L="t,webkitT,MozT,msT,OT".split(","),K,J=0,m=L.length;for(;J<m;J++){K=L[J]+"ransform";if(K in q){return L[J].substr(0,L[J].length-1)}}return false})(),H=D?"-"+D.toLowerCase()+"-":"",p=y("transform"),B=y("transitionProperty"),o=y("transitionDuration"),r=y("transformOrigin"),F=y("transitionTimingFunction"),h=y("transitionDelay"),E=(/android/gi).test(navigator.appVersion),k=(/iphone|ipad|ipod/gi).test(navigator.appVersion),w=(/hp-tablet/gi).test(navigator.appVersion),n=y("perspective") in q,C="ontouchstart" in l&&!w,g=D!==false,i=y("transition") in q,b="addEventListener" in I,u=b?"":"on",s=b?"addEventListener":"attachEvent",c=b?"removeEventListener":"detachEvent",j="onorientationchange" in l?"orientationchange":"resize",d=C?"touchstart":"mousedown",x=C?"touchmove":"mousemove",f=C?"touchend":"mouseup",A=C?"touchcancel":"mouseup",a=(function(){if(D===false){return false}var m={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return m[D]})(),v=(function(){return l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(m){return setTimeout(m,1)}})(),t=(function(){return l.cancelRequestAnimationFrame||l.webkitCancelAnimationFrame||l.webkitCancelRequestAnimationFrame||l.mozCancelRequestAnimationFrame||l.oCancelRequestAnimationFrame||l.msCancelRequestAnimationFrame||clearTimeout})(),G=n?" translateZ(0)":"",e=function(K,m){var L=this,J;L.wrapper=typeof K==="object"?K:I.getElementById(K);L.wrapper.style.overflow="hidden";L.scroller=L.wrapper.children[0];L.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:E,hideScrollbar:k,fadeScrollbar:k&&n,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(M){M.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(J in m){L.options[J]=m[J]}L.x=L.options.x;L.y=L.options.y;L.options.useTransform=g&&L.options.useTransform;L.options.hScrollbar=L.options.hScroll&&L.options.hScrollbar;L.options.vScrollbar=L.options.vScroll&&L.options.vScrollbar;L.options.zoom=L.options.useTransform&&L.options.zoom;L.options.useTransition=i&&L.options.useTransition;if(L.options.zoom&&E){G=""}L.scroller.style[B]=L.options.useTransform?H+"transform":"top left";L.scroller.style[o]="0";L.scroller.style[r]="0 0";if(L.options.useTransition){L.scroller.style[F]="cubic-bezier(0.33,0.66,0.66,1)"}if(L.options.useTransform){L.scroller.style[p]="translate("+L.x+"px,"+L.y+"px)"+G}else{L.scroller.style.cssText+=";position:absolute;top:"+L.y+"px;left:"+L.x+"px"}if(L.options.useTransition){L.options.fixedScrollbar=true}L.refresh();L._bind(j,l);L._bind(d);if(!C){if(L.options.wheelAction!=="none"){L._bind("DOMMouseScroll");L._bind("mousewheel")}}if(L.options.checkDOMChanges){L.checkDOMTime=setInterval(function(){L._checkDOMChanges()},500)}};e.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(J){var m=this;switch(J.type){case d:if(!C&&J.button!==0){return}m._start(J);break;case x:m._move(J);break;case f:case A:m._end(J);break;case j:m._resize();break;case"DOMMouseScroll":case"mousewheel":m._wheel(J);break;case a:m._transitionEnd(J);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW===this.scroller.offsetWidth*this.scale&&this.scrollerH===this.scroller.offsetHeight*this.scale)){return}this.refresh()},_scrollbar:function(m){var K=this,J;if(!K[m+"Scrollbar"]){if(K[m+"ScrollbarWrapper"]){if(g){K[m+"ScrollbarIndicator"].style[p]=""}K[m+"ScrollbarWrapper"].parentNode.removeChild(K[m+"ScrollbarWrapper"]);K[m+"ScrollbarWrapper"]=null;K[m+"ScrollbarIndicator"]=null}return}if(!K[m+"ScrollbarWrapper"]){J=I.createElement("div");if(K.options.scrollbarClass){J.className=K.options.scrollbarClass+m.toUpperCase()}else{J.style.cssText="position:absolute;z-index:100;"+(m==="h"?"height:7px;bottom:1px;left:2px;right:"+(K.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(K.hScrollbar?"7":"2")+"px;top:2px;right:1px")}J.style.cssText+=";pointer-events:none;"+H+"transition-property:opacity;"+H+"transition-duration:"+(K.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(K.options.hideScrollbar?"0":"1");K.wrapper.appendChild(J);K[m+"ScrollbarWrapper"]=J;J=I.createElement("div");if(!K.options.scrollbarClass){J.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+H+"background-clip:padding-box;"+H+"box-sizing:border-box;"+(m==="h"?"height:100%":"width:100%")+";"+H+"border-radius:3px;border-radius:3px"}J.style.cssText+=";pointer-events:none;"+H+"transition-property:"+H+"transform;"+H+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+H+"transition-duration:0;"+H+"transform: translate(0,0)"+G;if(K.options.useTransition){J.style.cssText+=";"+H+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"}K[m+"ScrollbarWrapper"].appendChild(J);K[m+"ScrollbarIndicator"]=J}if(m==="h"){K.hScrollbarSize=K.hScrollbarWrapper.clientWidth;K.hScrollbarIndicatorSize=z.max(z.round(K.hScrollbarSize*K.hScrollbarSize/K.scrollerW),8);K.hScrollbarIndicator.style.width=K.hScrollbarIndicatorSize+"px";K.hScrollbarMaxScroll=K.hScrollbarSize-K.hScrollbarIndicatorSize;K.hScrollbarProp=K.hScrollbarMaxScroll/K.maxScrollX}else{K.vScrollbarSize=K.vScrollbarWrapper.clientHeight;K.vScrollbarIndicatorSize=z.max(z.round(K.vScrollbarSize*K.vScrollbarSize/K.scrollerH),8);K.vScrollbarIndicator.style.height=K.vScrollbarIndicatorSize+"px";K.vScrollbarMaxScroll=K.vScrollbarSize-K.vScrollbarIndicatorSize;K.vScrollbarProp=K.vScrollbarMaxScroll/K.maxScrollY}K._scrollbarPos(m,true)},_resize:function(){var m=this;m.resizeTimer=setTimeout(function(){m.refresh()},E?400:250)},_pos:function(m,J){if(this.zoomed){return}m=this.hScroll?m:0;J=this.vScroll?J:0;if(this.options.useTransform){this.scroller.style[p]="translate("+m+"px,"+J+"px) scale("+this.scale+")"+G}else{m=z.round(m);J=z.round(J);this.scroller.style.left=m+"px";this.scroller.style.top=J+"px"}this.x=m;this.y=J;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(m,L){var K=this,M=m==="h"?K.x:K.y,J;if(!K[m+"Scrollbar"]){return}M=K[m+"ScrollbarProp"]*M;if(M<0){if(!K.options.fixedScrollbar){J=K[m+"ScrollbarIndicatorSize"]+z.round(M*3);if(J<8){J=8}K[m+"ScrollbarIndicator"].style[m==="h"?"width":"height"]=J+"px"}M=0}else{if(M>K[m+"ScrollbarMaxScroll"]){if(!K.options.fixedScrollbar){J=K[m+"ScrollbarIndicatorSize"]-z.round((M-K[m+"ScrollbarMaxScroll"])*3);if(J<8){J=8}K[m+"ScrollbarIndicator"].style[m==="h"?"width":"height"]=J+"px";M=K[m+"ScrollbarMaxScroll"]+(K[m+"ScrollbarIndicatorSize"]-J)}else{M=K[m+"ScrollbarMaxScroll"]}}}K[m+"ScrollbarWrapper"].style[h]="0";K[m+"ScrollbarWrapper"].style.opacity=L&&K.options.hideScrollbar?"0":"1";K[m+"ScrollbarIndicator"].style[p]="translate("+(m==="h"?M+"px,0)":"0,"+M+"px)")+G},_start:function(O){var N=this,J=C?O.touches[0]:O,K,m,P,M,L;if(!N.enabled){return}if(N.options.onBeforeScrollStart){N.options.onBeforeScrollStart.call(N,O)}if(N.options.useTransition||N.options.zoom){N._transitionTime(0)}N.moved=false;N.animating=false;N.zoomed=false;N.distX=0;N.distY=0;N.absDistX=0;N.absDistY=0;N.dirX=0;N.dirY=0;if(N.options.zoom&&C&&O.touches.length>1){M=z.abs(O.touches[0].pageX-O.touches[1].pageX);L=z.abs(O.touches[0].pageY-O.touches[1].pageY);N.touchesDistStart=z.sqrt(M*M+L*L);N.originX=z.abs(O.touches[0].pageX+O.touches[1].pageX-N.wrapperOffsetLeft*2)/2-N.x;N.originY=z.abs(O.touches[0].pageY+O.touches[1].pageY-N.wrapperOffsetTop*2)/2-N.y;if(N.options.onZoomStart){N.options.onZoomStart.call(N,O)}}if(N.options.momentum){if(N.options.useTransform){K=getComputedStyle(N.scroller,null)[p].replace(/[^0-9\-.,]/g,"").split(",");m=+(K[12]||K[4]);P=+(K[13]||K[5])}else{m=+getComputedStyle(N.scroller,null).left.replace(/[^0-9\-]/g,"");P=+getComputedStyle(N.scroller,null).top.replace(/[^0-9\-]/g,"")}if(m!==N.x||P!==N.y){if(N.options.useTransition){N._unbind(a)}else{t(N.aniTime)}N.steps=[];N._pos(m,P);if(N.options.onScrollEnd){N.options.onScrollEnd.call(N)}}}N.absStartX=N.x;N.absStartY=N.y;N.startX=N.x;N.startY=N.y;N.pointX=J.pageX;N.pointY=J.pageY;N.startTime=O.timeStamp||Date.now();if(N.options.onScrollStart){N.options.onScrollStart.call(N,O)}N._bind(x,l);N._bind(f,l);N._bind(A,l)},_move:function(Q){var O=this,R=C?Q.touches[0]:Q,M=R.pageX-O.pointX,K=R.pageY-O.pointY,m=O.x+M,S=O.y+K,N,L,J,P=Q.timeStamp||Date.now();if(O.options.onBeforeScrollMove){O.options.onBeforeScrollMove.call(O,Q)}if(O.options.zoom&&C&&Q.touches.length>1){N=z.abs(Q.touches[0].pageX-Q.touches[1].pageX);L=z.abs(Q.touches[0].pageY-Q.touches[1].pageY);O.touchesDist=z.sqrt(N*N+L*L);O.zoomed=true;J=1/O.touchesDistStart*O.touchesDist*this.scale;if(J<O.options.zoomMin){J=0.5*O.options.zoomMin*Math.pow(2,J/O.options.zoomMin)}else{if(J>O.options.zoomMax){J=2*O.options.zoomMax*Math.pow(0.5,O.options.zoomMax/J)}}O.lastScale=J/this.scale;m=this.originX-this.originX*O.lastScale+this.x,S=this.originY-this.originY*O.lastScale+this.y;this.scroller.style[p]="translate("+m+"px,"+S+"px) scale("+J+")"+G;if(O.options.onZoom){O.options.onZoom.call(O,Q)}return}O.pointX=R.pageX;O.pointY=R.pageY;if(m>0||m<O.maxScrollX){m=O.options.bounce?O.x+(M/2):m>=0||O.maxScrollX>=0?0:O.maxScrollX}if(S>O.minScrollY||S<O.maxScrollY){S=O.options.bounce?O.y+(K/2):S>=O.minScrollY||O.maxScrollY>=0?O.minScrollY:O.maxScrollY}O.distX+=M;O.distY+=K;O.absDistX=z.abs(O.distX);O.absDistY=z.abs(O.distY);if(O.absDistX<6&&O.absDistY<6){return}if(O.options.lockDirection){if(O.absDistX>O.absDistY+5){S=O.y;K=0}else{if(O.absDistY>O.absDistX+5){m=O.x;M=0}}}O.moved=true;O._pos(m,S);O.dirX=M>0?-1:M<0?1:0;O.dirY=K>0?-1:K<0?1:0;if(P-O.startTime>300){O.startTime=P;O.startX=O.x;O.startY=O.y}if(O.options.onScrollMove){O.options.onScrollMove.call(O,Q)}},_end:function(Q){if(C&&Q.touches.length!==0){return}var O=this,W=C?Q.changedTouches[0]:Q,R,V,K={dist:0,time:0},m={dist:0,time:0},N=(Q.timeStamp||Date.now())-O.startTime,S=O.x,P=O.y,U,T,J,M,L;O._unbind(x,l);O._unbind(f,l);O._unbind(A,l);if(O.options.onBeforeScrollEnd){O.options.onBeforeScrollEnd.call(O,Q)}if(O.zoomed){L=O.scale*O.lastScale;L=Math.max(O.options.zoomMin,L);L=Math.min(O.options.zoomMax,L);O.lastScale=L/O.scale;O.scale=L;O.x=O.originX-O.originX*O.lastScale+O.x;O.y=O.originY-O.originY*O.lastScale+O.y;O.scroller.style[o]="200ms";O.scroller.style[p]="translate("+O.x+"px,"+O.y+"px) scale("+O.scale+")"+G;O.zoomed=false;O.refresh();if(O.options.onZoomEnd){O.options.onZoomEnd.call(O,Q)}return}if(!O.moved){if(C){if(O.doubleTapTimer&&O.options.zoom){clearTimeout(O.doubleTapTimer);O.doubleTapTimer=null;if(O.options.onZoomStart){O.options.onZoomStart.call(O,Q)}O.zoom(O.pointX,O.pointY,O.scale===1?O.options.doubleTapZoom:1);if(O.options.onZoomEnd){setTimeout(function(){O.options.onZoomEnd.call(O,Q)},200)}}else{if(this.options.handleClick){O.doubleTapTimer=setTimeout(function(){O.doubleTapTimer=null;R=W.target;while(R.nodeType!==1){R=R.parentNode}if(R.tagName!=="SELECT"&&R.tagName!=="INPUT"&&R.tagName!=="TEXTAREA"){V=I.createEvent("MouseEvents");V.initMouseEvent("click",true,true,Q.view,1,W.screenX,W.screenY,W.clientX,W.clientY,Q.ctrlKey,Q.altKey,Q.shiftKey,Q.metaKey,0,null);V._fake=true;R.dispatchEvent(V)}},O.options.zoom?250:0)}}}O._resetPos(400);if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}return}if(N<300&&O.options.momentum){K=S?O._momentum(S-O.startX,N,-O.x,O.scrollerW-O.wrapperW+O.x,O.options.bounce?O.wrapperW:0):K;m=P?O._momentum(P-O.startY,N,-O.y,(O.maxScrollY<0?O.scrollerH-O.wrapperH+O.y-O.minScrollY:0),O.options.bounce?O.wrapperH:0):m;S=O.x+K.dist;P=O.y+m.dist;if((O.x>0&&S>0)||(O.x<O.maxScrollX&&S<O.maxScrollX)){K={dist:0,time:0}}if((O.y>O.minScrollY&&P>O.minScrollY)||(O.y<O.maxScrollY&&P<O.maxScrollY)){m={dist:0,time:0}}}if(K.dist||m.dist){J=z.max(z.max(K.time,m.time),10);if(O.options.snap){U=S-O.absStartX;T=P-O.absStartY;if(z.abs(U)<O.options.snapThreshold&&z.abs(T)<O.options.snapThreshold){O.scrollTo(O.absStartX,O.absStartY,200)}else{M=O._snap(S,P);S=M.x;P=M.y;J=z.max(M.time,J)}}O.scrollTo(z.round(S),z.round(P),J);if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}return}if(O.options.snap){U=S-O.absStartX;T=P-O.absStartY;if(z.abs(U)<O.options.snapThreshold&&z.abs(T)<O.options.snapThreshold){O.scrollTo(O.absStartX,O.absStartY,200)}else{M=O._snap(O.x,O.y);if(M.x!==O.x||M.y!==O.y){O.scrollTo(M.x,M.y,M.time)}}if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}return}O._resetPos(200);if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}},_resetPos:function(K){var m=this,L=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,J=m.y>=m.minScrollY||m.maxScrollY>0?m.minScrollY:m.y<m.maxScrollY?m.maxScrollY:m.y;if(L===m.x&&J===m.y){if(m.moved){m.moved=false;if(m.options.onScrollEnd){m.options.onScrollEnd.call(m)}}if(m.hScrollbar&&m.options.hideScrollbar){if(D==="webkit"){m.hScrollbarWrapper.style[h]="300ms"}m.hScrollbarWrapper.style.opacity="0"}if(m.vScrollbar&&m.options.hideScrollbar){if(D==="webkit"){m.vScrollbarWrapper.style[h]="300ms"}m.vScrollbarWrapper.style.opacity="0"}return}m.scrollTo(L,J,K||0)},_wheel:function(N){var L=this,M,K,J,m,O;if("wheelDeltaX" in N){M=N.wheelDeltaX/12;K=N.wheelDeltaY/12}else{if("wheelDelta" in N){M=K=N.wheelDelta/12}else{if("detail" in N){M=K=-N.detail*3}else{return}}}if(L.options.wheelAction==="zoom"){O=L.scale*Math.pow(2,1/3*(K?K/Math.abs(K):0));if(O<L.options.zoomMin){O=L.options.zoomMin}if(O>L.options.zoomMax){O=L.options.zoomMax}if(O!==L.scale){if(!L.wheelZoomCount&&L.options.onZoomStart){L.options.onZoomStart.call(L,N)}L.wheelZoomCount++;L.zoom(N.pageX,N.pageY,O,400);setTimeout(function(){L.wheelZoomCount--;if(!L.wheelZoomCount&&L.options.onZoomEnd){L.options.onZoomEnd.call(L,N)}},400)}return}J=L.x+M;m=L.y+K;if(J>0){J=0}else{if(J<L.maxScrollX){J=L.maxScrollX}}if(m>L.minScrollY){m=L.minScrollY}else{if(m<L.maxScrollY){m=L.maxScrollY}}if(L.maxScrollY<0){L.scrollTo(J,m,0)}},_transitionEnd:function(J){var m=this;if(J.target!==m.scroller){return}m._unbind(a);m._startAni()},_startAni:function(){var O=this,J=O.x,m=O.y,M=Date.now(),N,L,K;if(O.animating){return}if(!O.steps.length){O._resetPos(400);return}N=O.steps.shift();if(N.x===J&&N.y===m){N.time=0}O.animating=true;O.moved=true;if(O.options.useTransition){O._transitionTime(N.time);O._pos(N.x,N.y);O.animating=false;if(N.time){O._bind(a)}else{O._resetPos(0)}return}K=function(){var P=Date.now(),R,Q;if(P>=M+N.time){O._pos(N.x,N.y);O.animating=false;if(O.options.onAnimationEnd){O.options.onAnimationEnd.call(O)}O._startAni();return}P=(P-M)/N.time-1;L=z.sqrt(1-P*P);R=(N.x-J)*L+J;Q=(N.y-m)*L+m;O._pos(R,Q);if(O.options.onAnimate){O.options.onAnimate.call(O)}if(O.animating){O.aniTime=v(K)}};K()},_transitionTime:function(m){m+="ms";this.scroller.style[o]=m;if(this.hScrollbar){this.hScrollbarIndicator.style[o]=m}if(this.vScrollbar){this.vScrollbarIndicator.style[o]=m}},_momentum:function(P,J,N,m,R){var O=0.0006,K=z.abs(P)/J,L=(K*K)/(2*O),Q=0,M=0;if(P>0&&L>N){M=R/(6/(L/K*O));N=N+M;K=K*N/L;L=N}else{if(P<0&&L>m){M=R/(6/(L/K*O));m=m+M;K=K*m/L;L=m}}L=L*(P<0?-1:1);Q=K/O;return{dist:L,time:z.round(Q)}},_offset:function(m){var K=-m.offsetLeft,J=-m.offsetTop;while(m=m.offsetParent){K-=m.offsetLeft;J-=m.offsetTop}if(m!==this.wrapper){K*=this.scale;J*=this.scale}return{left:K,top:J}},_snap:function(Q,P){var N=this,M,L,O,K,J,m;O=N.pagesX.length-1;for(M=0,L=N.pagesX.length;M<L;M++){if(Q>=N.pagesX[M]){O=M;break}}if(O===N.currPageX&&O>0&&N.dirX<0){O--}Q=N.pagesX[O];J=z.abs(Q-N.pagesX[N.currPageX]);J=J?z.abs(N.x-Q)/J*500:0;N.currPageX=O;O=N.pagesY.length-1;for(M=0;M<O;M++){if(P>=N.pagesY[M]){O=M;break}}if(O===N.currPageY&&O>0&&N.dirY<0){O--}P=N.pagesY[O];m=z.abs(P-N.pagesY[N.currPageY]);m=m?z.abs(N.y-P)/m*500:0;N.currPageY=O;K=z.round(z.max(J,m))||200;return{x:Q,y:P,time:K}},_bind:function(K,J,m){J=J||this.scroller;J[s](u+K,this,!!m)},_unbind:function(K,J,m){J=J||this.scroller;J[c](u+K,this,!!m)},destroy:function(){var m=this;m.scroller.style[p]="";m.scroller.style[B]="";m.scroller.style[o]="";m.scroller.style[r]="";m.wrapper.style.overflow="";m.hScrollbar=false;m.vScrollbar=false;m._scrollbar("h");m._scrollbar("v");m._unbind(j,l);m._unbind(d);m._unbind(x,l);m._unbind(f,l);m._unbind(A,l);if(!m.options.hasTouch){m._unbind("DOMMouseScroll");m._unbind("mousewheel")}if(m.resizeTimer){clearTimeout(m.resizeTimer)}if(m.options.useTransition){m._unbind(a)}if(m.options.checkDOMChanges){clearInterval(m.checkDOMTime)}if(m.options.onDestroy){m.options.onDestroy.call(m)}},refresh:function(){var L=this,N,K,m,J,O=0,M=0;if(L.scale<L.options.zoomMin){L.scale=L.options.zoomMin}L.wrapperW=L.wrapper.clientWidth||1;L.wrapperH=L.wrapper.clientHeight||1;L.minScrollY=-L.options.topOffset||0;L.scrollerW=z.round(L.scroller.offsetWidth*L.scale);L.scrollerH=z.round((L.scroller.offsetHeight+L.minScrollY)*L.scale);L.maxScrollX=L.wrapperW-L.scrollerW;L.maxScrollY=L.wrapperH-L.scrollerH+L.minScrollY;L.dirX=0;L.dirY=0;if(L.options.onRefresh){L.options.onRefresh.call(L)}L.hScroll=L.options.hScroll&&L.maxScrollX<0;L.vScroll=L.options.vScroll&&(!L.options.bounceLock&&!L.hScroll||L.scrollerH>L.wrapperH);L.hScrollbar=L.hScroll&&L.options.hScrollbar;L.vScrollbar=L.vScroll&&L.options.vScrollbar&&L.scrollerH>L.wrapperH;N=L._offset(L.wrapper);L.wrapperOffsetLeft=-N.left;L.wrapperOffsetTop=-N.top;if(typeof L.options.snap==="string"){L.pagesX=[];L.pagesY=[];J=L.scroller.querySelectorAll(L.options.snap);for(K=0,m=J.length;K<m;K++){O=L._offset(J[K]);O.left+=L.wrapperOffsetLeft;O.top+=L.wrapperOffsetTop;L.pagesX[K]=O.left<L.maxScrollX?L.maxScrollX:O.left*L.scale;L.pagesY[K]=O.top<L.maxScrollY?L.maxScrollY:O.top*L.scale}}else{if(L.options.snap){L.pagesX=[];while(O>=L.maxScrollX){L.pagesX[M]=O;O=O-L.wrapperW;M++}if(L.maxScrollX%L.wrapperW){L.pagesX[L.pagesX.length]=L.maxScrollX-L.pagesX[L.pagesX.length-1]+L.pagesX[L.pagesX.length-1]}O=0;M=0;L.pagesY=[];while(O>=L.maxScrollY){L.pagesY[M]=O;O=O-L.wrapperH;M++}if(L.maxScrollY%L.wrapperH){L.pagesY[L.pagesY.length]=L.maxScrollY-L.pagesY[L.pagesY.length-1]+L.pagesY[L.pagesY.length-1]}}}L._scrollbar("h");L._scrollbar("v");if(!L.zoomed){L.scroller.style[o]="0";L._resetPos(400)}},scrollTo:function(m,P,O,N){var M=this,L=m,K,J;M.stop();if(!L.length){L=[{x:m,y:P,time:O,relative:N}]}for(K=0,J=L.length;K<J;K++){if(L[K].relative){L[K].x=M.x-L[K].x;L[K].y=M.y-L[K].y}M.steps.push({x:L[K].x,y:L[K].y,time:L[K].time||0})}M._startAni()},scrollToElement:function(m,K){var J=this,L;m=m.nodeType?m:J.scroller.querySelector(m);if(!m){return}L=J._offset(m);L.left+=J.wrapperOffsetLeft;L.top+=J.wrapperOffsetTop;L.left=L.left>0?0:L.left<J.maxScrollX?J.maxScrollX:L.left;L.top=L.top>J.minScrollY?J.minScrollY:L.top<J.maxScrollY?J.maxScrollY:L.top;K=K===undefined?z.max(z.abs(L.left)*2,z.abs(L.top)*2):K;J.scrollTo(L.left,L.top,K)},scrollToPage:function(K,J,M){var L=this,m,N;M=M===undefined?400:M;if(L.options.onScrollStart){L.options.onScrollStart.call(L)}if(L.options.snap){K=K==="next"?L.currPageX+1:K==="prev"?L.currPageX-1:K;J=J==="next"?L.currPageY+1:J==="prev"?L.currPageY-1:J;K=K<0?0:K>L.pagesX.length-1?L.pagesX.length-1:K;J=J<0?0:J>L.pagesY.length-1?L.pagesY.length-1:J;L.currPageX=K;L.currPageY=J;m=L.pagesX[K];N=L.pagesY[J]}else{m=-L.wrapperW*K;N=-L.wrapperH*J;if(m<L.maxScrollX){m=L.maxScrollX}if(N<L.maxScrollY){N=L.maxScrollY}}L.scrollTo(m,N,M)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(x,l);this._unbind(f,l);this._unbind(A,l)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind(a)}else{t(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},zoom:function(m,N,M,L){var J=this,K=M/J.scale;if(!J.options.useTransform){return}J.zoomed=true;L=L===undefined?200:L;m=m-J.wrapperOffsetLeft-J.x;N=N-J.wrapperOffsetTop-J.y;J.x=m-m*K+J.x;J.y=N-N*K+J.y;J.scale=M;J.refresh();J.x=J.x>0?0:J.x<J.maxScrollX?J.maxScrollX:J.x;J.y=J.y>J.minScrollY?J.minScrollY:J.y<J.maxScrollY?J.maxScrollY:J.y;J.scroller.style[o]=L+"ms";J.scroller.style[p]="translate("+J.x+"px,"+J.y+"px) scale("+M+")"+G;J.zoomed=false},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating}};q=null;if(typeof exports!=="undefined"){exports.IScroll=e}else{l.IScroll=e}})(window,document);