$(document).ready(function(){$(document).on("keydown",function(a){if(a.which===191&&a.shiftKey){$("body").toggleClass("debug");(function(j,d){var h=j,g=false,c=0;if(!d.getElementById("tm-window-resizer")){var f=d.createElement("div");f.style.position="fixed";f.style.zIndex="9999";f.style.bottom="0";f.style.right="0";f.style.backgroundColor="rgba(126,255,0,0.8)";f.style.height="20px";f.style.width="126px";f.style.display="block";f.id="tm-window-resizer";var k=d.createElement("p");k.style.color="#000";k.style.fontSize="11px";k.style.fontFamily="Helvetica,Arial,sans-serif";k.style.display="block";k.style.margin="4px 3px 0 7px";k.id="tm-resizer-text";f.appendChild(k);d.body.appendChild(f);var b=function(i){clearTimeout(c);c=setTimeout(function(){h.console.log(h.innerWidth);k.innerHTML="Window Width: "+h.innerWidth+"px"},100)};k.innerHTML="Window Width: "+h.innerWidth+"px";h.addEventListener("resize",b)}else{if(d.getElementById("tm-window-resizer").style.display==="none"){d.getElementById("tm-window-resizer").style.display="block"}else{d.getElementById("tm-window-resizer").style.display="none"}}})(window,document)}})});if(!window.Exports){window.Exports={}}Exports.shuffleEasing="ease-out";Exports.shuffleSpeed=250;Exports.fiveColumns=5;Exports.sixColumns=6;Exports.twelveColumns=12;Exports.col5Width=188;Exports.gut5Width=20;Exports.fullSlimWidth=(Exports.fiveColumns*Exports.col5Width)+(Exports.gut5Width*(Exports.fiveColumns-1));Exports.COLUMN_WIDTH_SLIM_5=Exports.col5Width/Exports.fullSlimWidth;Exports.GUTTER_WIDTH_SLIM_5=Exports.gut5Width/Exports.fullSlimWidth;Exports.slimColWidth=54;Exports.slimGutWidth=18;Exports.slimWidth=(Exports.twelveColumns*Exports.slimColWidth)+(Exports.slimGutWidth*(Exports.twelveColumns-1));Exports.COLUMN_WIDTH_SLIM=Exports.slimColWidth/Exports.slimWidth;Exports.GUTTER_WIDTH_SLIM=Exports.slimGutWidth/Exports.slimWidth;Exports.colWidth320=36;Exports.gutWidth320=12;Exports.fullWidth320=(Exports.sixColumns*Exports.colWidth320)+(Exports.gutWidth320*(Exports.sixColumns-1));Exports.COLUMN_WIDTH_320=Exports.colWidth320/Exports.fullWidth320;Exports.GUTTER_WIDTH_320=Exports.gutWidth320/Exports.fullWidth320;Exports.masonryColumns=function(b){var a=b;if(!Modernizr.mediaqueries||Modernizr.mq("(min-width: 35.5em)")){a=Exports.COLUMN_WIDTH_SLIM*b}return a};Exports.masonryGutters=function(a){var b=0;if(!Modernizr.mediaqueries||Modernizr.mq("(min-width: 35.5em)")){b=Exports.GUTTER_WIDTH_SLIM*a}return b};Exports.constrain=function(c,b,a){c=parseFloat(c);return c<b?b:c>a?a:c};var sony=sony||{};window.iQ={options:{speedTestExpireMinutes:30,asyncDistance:500,throttleSpeed:300,updateOnResize:true}};window.enquire.listen(100);(function(){var e,d=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],c=b.length,a=(window.console=window.console||{});while(c--){e=b[c];if(!a[e]){a[e]=d}}}());(function(c,d,a,e){var b=function(g){var f=this;f.searchMenu={};f.$container=g;f.$activeNavBtns=f.$container.find(".nav-dropdown-toggle");f.$currentOpenNavBtn=false;f.$pageWrapOuter=c("#page-wrap-outer");f.mobileNavIScroll=false,f.mobileNavVisible=false;f.mobileNavThreshold=767;f.mobileFooterThreshold=567;f.mouseLeaveDelay=1000;f.mouseleaveTimer=false;f.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};f.tapOrClick=f.hasTouch?"touchstart":"click";f.transformName=d.prefixed("transform");f.transitionName=d.prefixed("transition");f.transitionProperty=d.prefixed("transitionProperty");f.transitionDuration=d.prefixed("transitionDuration");f.transitionEasing=d.prefixed("transitionTimingFunction");f.transitionEnd=f.transEndEventNames[f.transitionName];f.init()};b.prototype={constructor:b,init:function(){var f=this;f.isInitialized=true;a.enquire.register("(min-width: "+(f.mobileNavThreshold+1)+"px)",{match:function(){f.initDesktopNav();f.resetMobileNav();c("html").removeClass("bp-nav-mobile").addClass("bp-nav-desktop")}});a.enquire.register("(min-width: "+(f.mobileFooterThreshold+1)+"px)",{match:function(){f.resetMobileFooter()}});a.enquire.register("(max-width: "+f.mobileNavThreshold+"px)",{match:function(){f.initMobileNav();f.resetDesktopNav();c("html").removeClass("bp-nav-desktop").addClass("bp-nav-mobile")}});a.enquire.register("(max-width: "+f.mobileFooterThreshold+"px)",{match:function(){f.initMobileFooter()}})},initDesktopNav:function(){var f=this;f.$activeNavBtns.each(function(){var h=c(this),j=c("."+h.data("target")),g=h.add(j);h.on("click",function(k){k.preventDefault()});f.resetActiveNavBtn(h);if(c("body").hasClass("touch")){h.on("touchstart",function(){if(h.parent().hasClass("nav-li-selected")){f.resetActiveNavBtn(f.$currentOpenNavBtn);f.$currentOpenNavBtn=false}else{var l=f.$currentOpenNavBtn!==false?true:false;if(!l){f.setActiveNavBtn(h)}else{f.resetActiveNavBtn(f.$currentOpenNavBtn);var k=c("."+f.$currentOpenNavBtn.data("target"));if(k.hasClass("navtray-w")){setTimeout(function(){f.setActiveNavBtn(h)},350)}else{setTimeout(function(){f.setActiveNavBtn(h)},150)}}}})}else{var i="mouseenter focus";if(h.parent().hasClass("nav-li-search")){i="click keypress"}h.on(i,function(){c(this).data("hovering",true);f.resetMouseleaveTimer();if(!h.parent().hasClass("nav-li-selected")){var l=f.$currentOpenNavBtn!==false?true:false;if(!l){f.setActiveNavBtn(h)}else{f.resetActiveNavBtn(f.$currentOpenNavBtn);var k=c("."+f.$currentOpenNavBtn.data("target"));if(k.hasClass("navtray-w")){setTimeout(function(){f.setActiveNavBtn(h)},350)}else{setTimeout(function(){f.setActiveNavBtn(h)},150)}}}});h.on("mouseleave",function(){c(this).data("hovering",false);setTimeout(function(){if(!j.data("hovering")){f.startMouseleaveTimer(h)}else{f.resetMouseleaveTimer()}},25)});j.on("mouseenter focus",function(){c(this).data("hovering",true);f.resetMouseleaveTimer()});j.find("a").on("focus",function(){var k=c(this).parents(".navtray-w,.navmenu-w").attr("id");c(this).parents(".navtray-w").data("hovering",true);c("a[data-target="+k+"]").trigger("mouseenter")});j.on("mouseleave",function(){c(this).data("hovering",false);setTimeout(function(){if(!h.data("hovering")){f.startMouseleaveTimer(h)}else{f.resetMouseleaveTimer()}},25)})}})},resetDesktopNav:function(){var f=this;f.$activeNavBtns.each(function(){var h=c(this),i=c("."+h.data("target"));h.removeClass("active").parent().removeClass("nav-li-selected");if(h.data("target").length){var g=c("."+h.data("target"));if(g.hasClass("navtray-w")){f.setNavTrayContentNaturalFlow(g,false)}else{c(".navmenu-w-visible").removeClass("navmenu-w-visible").one(f.transitionEnd,function(){c(this).css({left:"",right:""}).find(".reveal-transition-container").css("height","")})}}h.off("touchstart mouseenter mouseleave click");i.off("touchstart mouseenter mouseleave click")})},startMouseleaveTimer:function(g){var f=this;if(c("mouseleaveTimerActive").length){f.resetMouseleaveTimer()}g.addClass("mouseleaveTimerActive");f.mouseleaveTimer=setTimeout(function(){f.resetActiveNavBtn(g);f.resetMouseleaveTimer()},f.mouseLeaveDelay)},resetMouseleaveTimer:function(){var f=this;clearTimeout(f.mouseleaveTimer);c(".mouseleaveTimerActive").removeClass("mouseleaveTimerActive")},setActiveNavBtn:function(g){var f=this;f.activateNavBtn(g);f.$currentOpenNavBtn=g},resetActiveNavBtn:function(h){var g=this;!!h&&h.removeClass("active").parent().removeClass("nav-li-selected");if(!!h.data("target")){var f=c("."+h.data("target"));if(f.hasClass("navtray-w")){g.slideNavTray(f,false)}else{c(".navmenu-w-visible").removeClass("navmenu-w-visible").one(g.transitionEnd,function(){c(this).css({left:"",right:""}).find(".reveal-transition-container").css("height","")})}}},slideNavTray:function(h,g){var j=this,f,l,k=h.outerHeight();h.data("expandedHeight",k);if(g){f="1px";l=k}else{f=k;l="1px"}h.data("expandedHeight",f).css("height",f).find(".navtray").addClass("navtray-absolute").css("height",k);setTimeout(function(){h.removeClass("no-transition");setTimeout(function(){h.css("height",l).one(j.transitionEnd,i);if(g){h.addClass("navtray-w-visible")}else{h.removeClass("navtray-w-visible")}},10)},10);function i(){j.setNavTrayContentNaturalFlow(h)}},resetNavTray:function(f){var g=this;f.removeClass("navtray-w-visible").css("height","").find(".navtray").removeClass("navtray-absolute").css("height","")},setNavTrayContentNaturalFlow:function(f){f.css("height","").addClass("no-transition").find(".navtray").removeClass("navtray-absolute").css("height","")},activateNavBtn:function(k){var i=this;k.addClass("active").parent().addClass("nav-li-selected");if(k.data("target").length){var f=c("."+k.data("target"));if(f.hasClass("navtray-w")){if(c("body").hasClass("lt-ie10")){i.slideNavTray(f,true)}else{i.slideNavTray(f,true)}}else{var g=f.find(".reveal-transition-container");var h=g.height();console.log("expHeight: "+h);g.css("height","0px");setTimeout(function(){g.addClass("transition-height");setTimeout(function(){f.addClass("navmenu-w-visible");g.height(h);g.one(i.transitionEnd,function(){g.removeClass("transition-height");setTimeout(function(){g.css("height","")},1)})},1)},1);if(f.hasClass("navmenu-w-search")){var l=k.parent().position().left+parseInt(k.css("marginLeft"),10)+k.innerWidth();var j=l-f.innerWidth();f.css({right:"auto",left:j+"px"})}}}},initMobileNav:function(){var g=this;c("#btn-mobile-nav").on(g.tapOrClick,function(){if(!g.mobileNavVisible){g.showMobileNav()}else{g.hideMobileNav()}});var f=c("#nav-search-input");f.on("focus",function(){if(c("html").hasClass("bp-nav-mobile")){g.initMobileNavIScroll()}c(".page-wrap-inner").addClass("show-mobile-search-results")}).on("blur",function(){if(!c("html").hasClass("bp-nav-mobile")){c(".page-wrap-inner").removeClass("show-mobile-search-results")}}).closest(".input-group").find(".input-clear-btn").on(g.tapOrClick,function(){if(c("html").hasClass("bp-nav-mobile")){g.initMobileNavIScroll();c(".page-wrap-inner").removeClass("show-mobile-search-results");setTimeout(function(){f.trigger("blur")},2)}})},resetMobileNav:function(){var f=this;f.hideMobileNav();c("#btn-mobile-nav").off(f.tapOrClick);c(".mobile-screen-overlay").remove()},showMobileNav:function(){var g=this;g.showMobileBackdrop();var h=parseInt(c(a).height(),10)+"px";g.$pageWrapOuter.height(h);if(!g.mobileNavIScroll){var f=c("#nav-outer-container"),j=f.find(".nav-mobile-scroller"),i=j.height();f.height(h);j.height(i);setTimeout(function(){g.initMobileNavIScroll()},1)}c("#page-wrap-inner").addClass("show-mobile-menu");g.mobileNavVisible=true},hideMobileNav:function(){var f=this;f.hideMobileBackdrop();c("#page-wrap-inner").one(f.transitionEnd,function(){f.destroyMobileNavIScroll()});c("#page-wrap-inner").removeClass("show-mobile-menu");f.mobileNavVisible=false},initMobileNavIScroll:function(){console.log("initMobileNavIScroll");var f=this;if(!!f.mobileNavIScroll){c(".nav-mobile-scroller").css("height","100%")}else{f.mobileNavIScroll=new a.IScroll("nav-outer-container",{vScroll:true,hScroll:false,hScrollbar:false,snap:false,momentum:true,bounce:false});f.mobileNavIScroll.options.onBeforeScrollStart=function(h){var g=h.target;while(g.nodeType!=1){g=g.parentNode}if(g.tagName!="SELECT"&&g.tagName!="INPUT"&&g.tagName!="TEXTAREA"){h.preventDefault()}}}},destroyMobileNavIScroll:function(){console.log("destroyMobileNavIScroll");var f=this;!!f.mobileNavIScroll&&f.mobileNavIScroll.destroy();f.mobileNavIScroll=false;f.$pageWrapOuter.css("height","")},showMobileBackdrop:function(){var f=this;f.$mobileScreenOverlay=c('<div class="modal-backdrop mobile-screen-overlay opacity0" />').appendTo(c("#page-wrap-inner"));setTimeout(function(){f.$mobileScreenOverlay.removeClass("opacity0").addClass("opacity1")},1)},hideMobileBackdrop:function(){var f=this;!!f.$mobileScreenOverlay&&f.$mobileScreenOverlay.one(f.transitionEnd,function(){f.$mobileScreenOverlay.remove()});!!f.$mobileScreenOverlay&&f.$mobileScreenOverlay.removeClass("opacity1").addClass("opacity0")},initMobileFooter:function(){var f=this;f.footerNavCollapseHeight=49;c("#footer-wrapper .footer-mobile-section h5").each(function(){var g=c(this).parent();f.collapseMobileFooterSec(g,true);c(this).on(f.tapOrClick,function(){if(g.hasClass("collapsed")){f.expandMobileFooterSec(g)}else{f.collapseMobileFooterSec(g)}})})},resetMobileFooter:function(){var f=this;c("#footer-wrapper .footer-mobile-section h5").each(function(){var g=c(this).parent();g.css("height","").removeClass("collapsed transition-height");c(this).off(f.tapOrClick)})},collapseMobileFooterSec:function(i,h){var g=this;h=typeof h!=="undefined"?h:false;var f=i.height();i.data("expHeight",f);if(h){i.height(g.footerNavCollapseHeight).addClass("collapsed");setTimeout(function(){i.addClass("transition-height")},1)}else{i.height(f);setTimeout(function(){i.addClass("transition-height");setTimeout(function(){i.height(g.footerNavCollapseHeight).addClass("collapsed")},1)},1)}},expandMobileFooterSec:function(g){var f=this;g.height(g.data("expHeight")).removeClass("collapsed").one(f.transitionEnd,function(){g.removeClass("transition-height");setTimeout(function(){g.css("height","")},1)})}};c.fn.globalNav=function(g){var f=Array.prototype.slice.apply(arguments);return this.each(function(){var h=c(this),i=h.data("globalNav");if(!i){i=new b(h);h.data("globalNav",i)}if(typeof g==="string"){i[g].apply(i,f.slice(1))}})};c.fn.globalNav.options={sampleOption:0};c.fn.globalNav.settings={isTouch:!!("ontouchstart" in a),isInitialized:false}})(jQuery,Modernizr,window);$(function(){$(document).ready(function(){$(".nav-wrapper").globalNav()})});(function(a,c){var b=function(d,f){var e=this;e.$el=d;e.init()};b.prototype={constructor:b,init:function(){var d=this;d.clickEvent()},clickEvent:function(){var d=this;d.$el.on("click.tracking",function(j){console.log("click");var i=a(j.target).parents("*[data-module-id]"),f=i.data("trackingLog")||[],g=f;i.type=j.type;i.elemID=d.$el.data("moduleId");i.elemName=d.$el.data("moduleName");i.$actionInitElem=j.target;var h=[i.type,i.$actionInitElem,i.elemID,i.elemName];f.push(h);i.data("trackingLog",g)})}};jQuery.fn.globalTracking=function(e){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=a(this),g=f.data("globalTracking");if(!g){g=new b(f,e);f.data("globalTracking",g)}if(typeof e==="string"){g[e].apply(g,d)}})}})(jQuery);(function(L,al,N){L.images=[];L.resizeFlaggedImages=[];L.options=L.options||{};function ai(aH,aI){var aF,aC,aD,aJ,aE=0;function aG(){aE=new Date();aJ=null;aH.apply(aD,aF)}return function(){var aK=new Date(),aL=aI-(aK-aE);aF=arguments;aD=this;if(aL<=0){aE=aK;aC=aH.apply(aD,aF)}else{if(!aJ){aJ=Z(aG,aL)}}return aC}}function aB(aH,aI,aE){var aG,aC,aD,aJ;function aF(){aJ=null;if(!aE){aH.apply(aD,aG)}}return function(){var aK=aE&&!aJ;aG=arguments;aD=this;clearTimeout(aJ);aJ=Z(aF,aI);if(aK){aC=aH.apply(aD,aG)}return aC}}var v="iqjs",X="high",u="low",R="length",j="scroll",U="resize",at="complete",ah="",af="on",Q="load",n=af+at,O="orientation",k="EventListener",d="add"+k,aw=O+"change",ay=L.options,V=ay.jquerySelector||".iq-img",o=ay.minDevicePixelRatio||2,az=ay.highResPathSuffix||"@2x",I=ay.asyncDistance||0,aa=ay.throttleSpeed||250,s=ay.base||"",Y=ay.pathTemplate||"{fileName}-{breakpoint}{highRes}.{ext}",W=/\?/,aj=/\{breakpoint\}/gi,p=/\{highRes\}/gi,au=/\{fileName\}/gi,c=/\{ext\}/gi,an,A,aq=ay.breakpoints||[{name:"phone",maxWidth:480},{name:"tablet",minWidth:481,maxWidth:768},{name:"desktop",minWidth:769,defaultBreakpoint:true}],av=u,ap,ag,ax,q=ay.minKbps||300,K=ay.speedTestUri||"http://foresightjs.appspot.com/speed-test/50K",l=ay.speedTestKB||50,e=ay.speedTestExpireMinutes||30,ao=ay.updateOnResize||false,ac=ay.resizeFlag||"update-always",r=ay.noFadeFlag||"no-fade",ar=ay.fade||"true",T=window,t=T.document,aA=t.documentElement,Z=T.setTimeout,F=d in t,C=F?ah:af,h=F?d:"attachEvent",D=F?"remove"+k:"detachEvent",f=O in T&&af+aw in T,P,w=T.screen.width,g=T.devicePixelRatio||1,z,x=ai(function(){ad(false)},aa),E=aB(function(){ad(true)},aa),a=aB(function(){if(T[O]!==z){z=T[O];ad(true)}},aa),H=function(){P=P||ab();an=B(aq,P);A=an.name;ad(false)},am=function(aC){ad(false,aC===true)},b=function(aC){if(ar&&aC.data("fadeonce")!==true&&!aC.hasClass(r)){aC.data("fadeonce",true);aC.css({opacity:1,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(opacity=100)"',filter:"alpha(opacity=100)"});Z(function(){aC.attr("style","")},900);aC.trigger("imageLoaded")}aC.trigger("imageReLoaded")},ad=function(aC,aF){var aE,aD;if(!L.images[R]||aF===true||(ao===true&&aC)){ae();L.images=[];al(V).each(function(aG,aH){L.images.push(aH);if(aH.tagName=="IMG"){if(ar&&al(aH).data("fadeonce")!==true&&!al(aH).hasClass(r)){al(aH).css({opacity:0,"-ms-filter":'"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"',filter:"alpha(opacity=0)",zoom:1,"-webkit-transition":"opacity 0.4s ease-out","-moz-transition":"opacity 0.4s ease-out","-o-transition":"opacity 0.4s ease-out",transition:"opacity 0.4s ease-out"})}}})}if(L.images[R]){aD=0;while(aE=L.images[aD]){if(aE&&i(aE,I)){M(aE,aD);L.images.splice(aD,1);aD--}aD++}}if(L.resizeFlaggedImages[R]){aD=0;while(aE=L.resizeFlaggedImages[aD]){if(aE&&i(aE,I)){M(aE,aD)}aD++}}!L.images[R]&&!L.resizeFlaggedImages[length]&&S();!L.images[R]&&n in L.options&&L.options[n]();aE=null},M=function(aC){P=ab();an=B(aq,P);A=an.name;var aE=ak(aC,A),aD=al(aC);if(aD.data("current")!==aE){aD.data("current",aE);if(aD.is("img")){aD.attr("src",aE).imagesLoaded(b)}else{if(aD.is("div")){aD.css("background-image","url("+aE+")")}}}},ae=function(){G(T,j,x);G(T,U,E);if(f){z=T[O];G(T,aw,a)}},S=function(){J(T,j,x);!ao&&J(T,U,E);f&&J(T,aw,a)},y=function(){if(ag){return}if(ay.forceBandwidth){av=ay.forceBandwidth;ap="force";ag=at;return}if(g===1){ap="skip";ag=at;return}var aE=navigator.connection||{type:"unknown"};var aH=aE.type===3||aE.type===4||/^[23]g$/.test(aE.type);if(aH){ap="connTypeSlow";ag=at;return}try{var aC=JSON.parse(localStorage.getItem(v));if(aC!==null){if((new Date()).getTime()<aC.exp){av=aC.bw;ax=aC.kbps;ap="localStorage";ag=at;return}}}catch(aJ){}var aG=document.createElement("img"),aD,aI,aF;aG.onload=function(){aD=(new Date()).getTime();var aK=(aD-aI)/1000;aK=(aK>1?aK:1);ax=((l*1024*8)/aK)/1024;av=(ax>=q?X:u);m("networkSuccess")};aG.onerror=function(){m("networkError",5)};aG.onabort=function(){m("networkAbort",5)};aI=(new Date()).getTime();ag="loading";if(document.location.protocol==="https:"){K=K.replace("http:","https:")}aG.src=K+"?r="+Math.random();aF=(((l*8)/q)*1000)+350;Z(function(){m("networkSlow")},aF)},m=function(aF,aD){if(ag===at){return}ag=at;aF=aF;try{if(!aD){aD=e}var aC={kbps:ax,bw:av,exp:(new Date()).getTime()+(aD*60000)};localStorage.setItem(v,JSON.stringify(aC))}catch(aE){}},B=function(aF,aC){var aG=aC,aE=0,aH={},aK,aD,aI,aJ;while(aK=aF[aE]){aD=aK.minWidth;aI=aK.maxWidth;aJ=aK.defaultBreakpoint?aK:aJ;if(aC>0){if(aD&&aI&&aC>=aD&&aC<=aI||aD&&!aI&&aC>=aD||aI&&!aD&&aC<=aI){aH=aK}}else{if(aG<=0||aD<aG||aI<aG){aG=aD||aI||aG;aH=aK}}aE++}return N.mediaqueries?aH:aJ},ab=function(){var aF=[aA.clientWidth,aA.offsetWidth,t.body.clientWidth],aC=aF[R],aD=0,aE;for(;aD<aC;aD++){if(isNaN(aF[aD])){aF.splice(aD,1);aD--}}if(aF[R]){aE=Math.max.apply(Math,aF);if(!isNaN(w)){aE=Math.min(w,aE)}}return aE||w||0},ak=function(aC,aD,aE){var aF=(al(aC).data("base")||s)+Y,aG=(al(aC).data("src")||ah).split(".");aF=aF.replace(aj,aD);aF=aF.replace(au,aG[0]);aF=aF.replace(c,aG[1]);aF=aF.replace(p,(av===X&&g>=o)?az:ah);return aF},i=function(aI,aO){var aH=al(window);var aE=aH[0]===window,aN=(aE?{top:0,left:0}:aH.offset()),aF=aN.top+(aE?aH.scrollTop():0),aG=aN.left+(aE?aH.scrollLeft():0),aD=aG+aH.width(),aJ=aF+aH.height(),aM=al(aI).offset(),aL=al(aI).width(),aC=al(aI).height();var aK=(aF-aO)<=(aM.top+aC)&&(aJ+aO)>=aM.top&&(aG-aO)<=(aM.left+aL)&&(aD+aO)>=aM.left;return aK};function G(aE,aD,aC){aE[h](C+aD,aC,false)}function J(aE,aD,aC){aE[D](C+aD,aC,false)}L.ready=function(){if(!document.body){return window.setTimeout(L.ready,1)}H()};if(document.readyState===at){Z(L.ready,1)}else{G(T,Q,L.ready)}if(ay.forcePixelRatio){g=ay.forcePixelRatio}L.update=am;y()}(this.iQ=this.iQ||{},jQuery,Modernizr));
/*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 * Modified: 01/07/2013 by Glen Cheney (added onAnimate + more cleanup in destroy())
 */
(function(l,I){function y(m){if(D===""){return m}m=m.charAt(0).toUpperCase()+m.substr(1);return D+m}var z=Math,q=I.createElement("div").style,D=(function(){var L="t,webkitT,MozT,msT,OT".split(","),K,J=0,m=L.length;for(;J<m;J++){K=L[J]+"ransform";if(K in q){return L[J].substr(0,L[J].length-1)}}return false})(),H=D?"-"+D.toLowerCase()+"-":"",p=y("transform"),B=y("transitionProperty"),o=y("transitionDuration"),r=y("transformOrigin"),F=y("transitionTimingFunction"),h=y("transitionDelay"),E=(/android/gi).test(navigator.appVersion),k=(/iphone|ipad|ipod/gi).test(navigator.appVersion),w=(/hp-tablet/gi).test(navigator.appVersion),n=y("perspective") in q,C="ontouchstart" in l&&!w,g=D!==false,i=y("transition") in q,b="addEventListener" in I,u=b?"":"on",s=b?"addEventListener":"attachEvent",c=b?"removeEventListener":"detachEvent",j="onorientationchange" in l?"orientationchange":"resize",d=C?"touchstart":"mousedown",x=C?"touchmove":"mousemove",f=C?"touchend":"mouseup",A=C?"touchcancel":"mouseup",a=(function(){if(D===false){return false}var m={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return m[D]})(),v=(function(){return l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||l.msRequestAnimationFrame||function(m){return setTimeout(m,1)}})(),t=(function(){return l.cancelRequestAnimationFrame||l.webkitCancelAnimationFrame||l.webkitCancelRequestAnimationFrame||l.mozCancelRequestAnimationFrame||l.oCancelRequestAnimationFrame||l.msCancelRequestAnimationFrame||clearTimeout})(),G=n?" translateZ(0)":"",e=function(K,m){var L=this,J;L.wrapper=typeof K==="object"?K:I.getElementById(K);L.wrapper.style.overflow="hidden";L.scroller=L.wrapper.children[0];L.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:E,hideScrollbar:k,fadeScrollbar:k&&n,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(M){M.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(J in m){L.options[J]=m[J]}L.x=L.options.x;L.y=L.options.y;L.options.useTransform=g&&L.options.useTransform;L.options.hScrollbar=L.options.hScroll&&L.options.hScrollbar;L.options.vScrollbar=L.options.vScroll&&L.options.vScrollbar;L.options.zoom=L.options.useTransform&&L.options.zoom;L.options.useTransition=i&&L.options.useTransition;if(L.options.zoom&&E){G=""}L.scroller.style[B]=L.options.useTransform?H+"transform":"top left";L.scroller.style[o]="0";L.scroller.style[r]="0 0";if(L.options.useTransition){L.scroller.style[F]="cubic-bezier(0.33,0.66,0.66,1)"}if(L.options.useTransform){L.scroller.style[p]="translate("+L.x+"px,"+L.y+"px)"+G}else{L.scroller.style.cssText+=";position:absolute;top:"+L.y+"px;left:"+L.x+"px"}if(L.options.useTransition){L.options.fixedScrollbar=true}L.refresh();L._bind(j,l);L._bind(d);if(!C){if(L.options.wheelAction!=="none"){L._bind("DOMMouseScroll");L._bind("mousewheel")}}if(L.options.checkDOMChanges){L.checkDOMTime=setInterval(function(){L._checkDOMChanges()},500)}};e.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(J){var m=this;switch(J.type){case d:if(!C&&J.button!==0){return}m._start(J);break;case x:m._move(J);break;case f:case A:m._end(J);break;case j:m._resize();break;case"DOMMouseScroll":case"mousewheel":m._wheel(J);break;case a:m._transitionEnd(J);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||(this.scrollerW===this.scroller.offsetWidth*this.scale&&this.scrollerH===this.scroller.offsetHeight*this.scale)){return}this.refresh()},_scrollbar:function(m){var K=this,J;if(!K[m+"Scrollbar"]){if(K[m+"ScrollbarWrapper"]){if(g){K[m+"ScrollbarIndicator"].style[p]=""}K[m+"ScrollbarWrapper"].parentNode.removeChild(K[m+"ScrollbarWrapper"]);K[m+"ScrollbarWrapper"]=null;K[m+"ScrollbarIndicator"]=null}return}if(!K[m+"ScrollbarWrapper"]){J=I.createElement("div");if(K.options.scrollbarClass){J.className=K.options.scrollbarClass+m.toUpperCase()}else{J.style.cssText="position:absolute;z-index:100;"+(m==="h"?"height:7px;bottom:1px;left:2px;right:"+(K.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(K.hScrollbar?"7":"2")+"px;top:2px;right:1px")}J.style.cssText+=";pointer-events:none;"+H+"transition-property:opacity;"+H+"transition-duration:"+(K.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(K.options.hideScrollbar?"0":"1");K.wrapper.appendChild(J);K[m+"ScrollbarWrapper"]=J;J=I.createElement("div");if(!K.options.scrollbarClass){J.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+H+"background-clip:padding-box;"+H+"box-sizing:border-box;"+(m==="h"?"height:100%":"width:100%")+";"+H+"border-radius:3px;border-radius:3px"}J.style.cssText+=";pointer-events:none;"+H+"transition-property:"+H+"transform;"+H+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+H+"transition-duration:0;"+H+"transform: translate(0,0)"+G;if(K.options.useTransition){J.style.cssText+=";"+H+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"}K[m+"ScrollbarWrapper"].appendChild(J);K[m+"ScrollbarIndicator"]=J}if(m==="h"){K.hScrollbarSize=K.hScrollbarWrapper.clientWidth;K.hScrollbarIndicatorSize=z.max(z.round(K.hScrollbarSize*K.hScrollbarSize/K.scrollerW),8);K.hScrollbarIndicator.style.width=K.hScrollbarIndicatorSize+"px";K.hScrollbarMaxScroll=K.hScrollbarSize-K.hScrollbarIndicatorSize;K.hScrollbarProp=K.hScrollbarMaxScroll/K.maxScrollX}else{K.vScrollbarSize=K.vScrollbarWrapper.clientHeight;K.vScrollbarIndicatorSize=z.max(z.round(K.vScrollbarSize*K.vScrollbarSize/K.scrollerH),8);K.vScrollbarIndicator.style.height=K.vScrollbarIndicatorSize+"px";K.vScrollbarMaxScroll=K.vScrollbarSize-K.vScrollbarIndicatorSize;K.vScrollbarProp=K.vScrollbarMaxScroll/K.maxScrollY}K._scrollbarPos(m,true)},_resize:function(){var m=this;m.resizeTimer=setTimeout(function(){m.refresh()},E?400:250)},_pos:function(m,J){if(this.zoomed){return}m=this.hScroll?m:0;J=this.vScroll?J:0;if(this.options.useTransform){this.scroller.style[p]="translate("+m+"px,"+J+"px) scale("+this.scale+")"+G}else{m=z.round(m);J=z.round(J);this.scroller.style.left=m+"px";this.scroller.style.top=J+"px"}this.x=m;this.y=J;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(m,L){var K=this,M=m==="h"?K.x:K.y,J;if(!K[m+"Scrollbar"]){return}M=K[m+"ScrollbarProp"]*M;if(M<0){if(!K.options.fixedScrollbar){J=K[m+"ScrollbarIndicatorSize"]+z.round(M*3);if(J<8){J=8}K[m+"ScrollbarIndicator"].style[m==="h"?"width":"height"]=J+"px"}M=0}else{if(M>K[m+"ScrollbarMaxScroll"]){if(!K.options.fixedScrollbar){J=K[m+"ScrollbarIndicatorSize"]-z.round((M-K[m+"ScrollbarMaxScroll"])*3);if(J<8){J=8}K[m+"ScrollbarIndicator"].style[m==="h"?"width":"height"]=J+"px";M=K[m+"ScrollbarMaxScroll"]+(K[m+"ScrollbarIndicatorSize"]-J)}else{M=K[m+"ScrollbarMaxScroll"]}}}K[m+"ScrollbarWrapper"].style[h]="0";K[m+"ScrollbarWrapper"].style.opacity=L&&K.options.hideScrollbar?"0":"1";K[m+"ScrollbarIndicator"].style[p]="translate("+(m==="h"?M+"px,0)":"0,"+M+"px)")+G},_start:function(O){var N=this,J=C?O.touches[0]:O,K,m,P,M,L;if(!N.enabled){return}if(N.options.onBeforeScrollStart){N.options.onBeforeScrollStart.call(N,O)}if(N.options.useTransition||N.options.zoom){N._transitionTime(0)}N.moved=false;N.animating=false;N.zoomed=false;N.distX=0;N.distY=0;N.absDistX=0;N.absDistY=0;N.dirX=0;N.dirY=0;if(N.options.zoom&&C&&O.touches.length>1){M=z.abs(O.touches[0].pageX-O.touches[1].pageX);L=z.abs(O.touches[0].pageY-O.touches[1].pageY);N.touchesDistStart=z.sqrt(M*M+L*L);N.originX=z.abs(O.touches[0].pageX+O.touches[1].pageX-N.wrapperOffsetLeft*2)/2-N.x;N.originY=z.abs(O.touches[0].pageY+O.touches[1].pageY-N.wrapperOffsetTop*2)/2-N.y;if(N.options.onZoomStart){N.options.onZoomStart.call(N,O)}}if(N.options.momentum){if(N.options.useTransform){K=getComputedStyle(N.scroller,null)[p].replace(/[^0-9\-.,]/g,"").split(",");m=+(K[12]||K[4]);P=+(K[13]||K[5])}else{m=+getComputedStyle(N.scroller,null).left.replace(/[^0-9\-]/g,"");P=+getComputedStyle(N.scroller,null).top.replace(/[^0-9\-]/g,"")}if(m!==N.x||P!==N.y){if(N.options.useTransition){N._unbind(a)}else{t(N.aniTime)}N.steps=[];N._pos(m,P);if(N.options.onScrollEnd){N.options.onScrollEnd.call(N)}}}N.absStartX=N.x;N.absStartY=N.y;N.startX=N.x;N.startY=N.y;N.pointX=J.pageX;N.pointY=J.pageY;N.startTime=O.timeStamp||Date.now();if(N.options.onScrollStart){N.options.onScrollStart.call(N,O)}N._bind(x,l);N._bind(f,l);N._bind(A,l)},_move:function(Q){var O=this,R=C?Q.touches[0]:Q,M=R.pageX-O.pointX,K=R.pageY-O.pointY,m=O.x+M,S=O.y+K,N,L,J,P=Q.timeStamp||Date.now();if(O.options.onBeforeScrollMove){O.options.onBeforeScrollMove.call(O,Q)}if(O.options.zoom&&C&&Q.touches.length>1){N=z.abs(Q.touches[0].pageX-Q.touches[1].pageX);L=z.abs(Q.touches[0].pageY-Q.touches[1].pageY);O.touchesDist=z.sqrt(N*N+L*L);O.zoomed=true;J=1/O.touchesDistStart*O.touchesDist*this.scale;if(J<O.options.zoomMin){J=0.5*O.options.zoomMin*Math.pow(2,J/O.options.zoomMin)}else{if(J>O.options.zoomMax){J=2*O.options.zoomMax*Math.pow(0.5,O.options.zoomMax/J)}}O.lastScale=J/this.scale;m=this.originX-this.originX*O.lastScale+this.x,S=this.originY-this.originY*O.lastScale+this.y;this.scroller.style[p]="translate("+m+"px,"+S+"px) scale("+J+")"+G;if(O.options.onZoom){O.options.onZoom.call(O,Q)}return}O.pointX=R.pageX;O.pointY=R.pageY;if(m>0||m<O.maxScrollX){m=O.options.bounce?O.x+(M/2):m>=0||O.maxScrollX>=0?0:O.maxScrollX}if(S>O.minScrollY||S<O.maxScrollY){S=O.options.bounce?O.y+(K/2):S>=O.minScrollY||O.maxScrollY>=0?O.minScrollY:O.maxScrollY}O.distX+=M;O.distY+=K;O.absDistX=z.abs(O.distX);O.absDistY=z.abs(O.distY);if(O.absDistX<6&&O.absDistY<6){return}if(O.options.lockDirection){if(O.absDistX>O.absDistY+5){S=O.y;K=0}else{if(O.absDistY>O.absDistX+5){m=O.x;M=0}}}O.moved=true;O._pos(m,S);O.dirX=M>0?-1:M<0?1:0;O.dirY=K>0?-1:K<0?1:0;if(P-O.startTime>300){O.startTime=P;O.startX=O.x;O.startY=O.y}if(O.options.onScrollMove){O.options.onScrollMove.call(O,Q)}},_end:function(Q){if(C&&Q.touches.length!==0){return}var O=this,W=C?Q.changedTouches[0]:Q,R,V,K={dist:0,time:0},m={dist:0,time:0},N=(Q.timeStamp||Date.now())-O.startTime,S=O.x,P=O.y,U,T,J,M,L;O._unbind(x,l);O._unbind(f,l);O._unbind(A,l);if(O.options.onBeforeScrollEnd){O.options.onBeforeScrollEnd.call(O,Q)}if(O.zoomed){L=O.scale*O.lastScale;L=Math.max(O.options.zoomMin,L);L=Math.min(O.options.zoomMax,L);O.lastScale=L/O.scale;O.scale=L;O.x=O.originX-O.originX*O.lastScale+O.x;O.y=O.originY-O.originY*O.lastScale+O.y;O.scroller.style[o]="200ms";O.scroller.style[p]="translate("+O.x+"px,"+O.y+"px) scale("+O.scale+")"+G;O.zoomed=false;O.refresh();if(O.options.onZoomEnd){O.options.onZoomEnd.call(O,Q)}return}if(!O.moved){if(C){if(O.doubleTapTimer&&O.options.zoom){clearTimeout(O.doubleTapTimer);O.doubleTapTimer=null;if(O.options.onZoomStart){O.options.onZoomStart.call(O,Q)}O.zoom(O.pointX,O.pointY,O.scale===1?O.options.doubleTapZoom:1);if(O.options.onZoomEnd){setTimeout(function(){O.options.onZoomEnd.call(O,Q)},200)}}else{if(this.options.handleClick){O.doubleTapTimer=setTimeout(function(){O.doubleTapTimer=null;R=W.target;while(R.nodeType!==1){R=R.parentNode}if(R.tagName!=="SELECT"&&R.tagName!=="INPUT"&&R.tagName!=="TEXTAREA"){V=I.createEvent("MouseEvents");V.initMouseEvent("click",true,true,Q.view,1,W.screenX,W.screenY,W.clientX,W.clientY,Q.ctrlKey,Q.altKey,Q.shiftKey,Q.metaKey,0,null);V._fake=true;R.dispatchEvent(V)}},O.options.zoom?250:0)}}}O._resetPos(400);if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}return}if(N<300&&O.options.momentum){K=S?O._momentum(S-O.startX,N,-O.x,O.scrollerW-O.wrapperW+O.x,O.options.bounce?O.wrapperW:0):K;m=P?O._momentum(P-O.startY,N,-O.y,(O.maxScrollY<0?O.scrollerH-O.wrapperH+O.y-O.minScrollY:0),O.options.bounce?O.wrapperH:0):m;S=O.x+K.dist;P=O.y+m.dist;if((O.x>0&&S>0)||(O.x<O.maxScrollX&&S<O.maxScrollX)){K={dist:0,time:0}}if((O.y>O.minScrollY&&P>O.minScrollY)||(O.y<O.maxScrollY&&P<O.maxScrollY)){m={dist:0,time:0}}}if(K.dist||m.dist){J=z.max(z.max(K.time,m.time),10);if(O.options.snap){U=S-O.absStartX;T=P-O.absStartY;if(z.abs(U)<O.options.snapThreshold&&z.abs(T)<O.options.snapThreshold){O.scrollTo(O.absStartX,O.absStartY,200)}else{M=O._snap(S,P);S=M.x;P=M.y;J=z.max(M.time,J)}}O.scrollTo(z.round(S),z.round(P),J);if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}return}if(O.options.snap){U=S-O.absStartX;T=P-O.absStartY;if(z.abs(U)<O.options.snapThreshold&&z.abs(T)<O.options.snapThreshold){O.scrollTo(O.absStartX,O.absStartY,200)}else{M=O._snap(O.x,O.y);if(M.x!==O.x||M.y!==O.y){O.scrollTo(M.x,M.y,M.time)}}if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}return}O._resetPos(200);if(O.options.onTouchEnd){O.options.onTouchEnd.call(O,Q)}},_resetPos:function(K){var m=this,L=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,J=m.y>=m.minScrollY||m.maxScrollY>0?m.minScrollY:m.y<m.maxScrollY?m.maxScrollY:m.y;if(L===m.x&&J===m.y){if(m.moved){m.moved=false;if(m.options.onScrollEnd){m.options.onScrollEnd.call(m)}}if(m.hScrollbar&&m.options.hideScrollbar){if(D==="webkit"){m.hScrollbarWrapper.style[h]="300ms"}m.hScrollbarWrapper.style.opacity="0"}if(m.vScrollbar&&m.options.hideScrollbar){if(D==="webkit"){m.vScrollbarWrapper.style[h]="300ms"}m.vScrollbarWrapper.style.opacity="0"}return}m.scrollTo(L,J,K||0)},_wheel:function(N){var L=this,M,K,J,m,O;if("wheelDeltaX" in N){M=N.wheelDeltaX/12;K=N.wheelDeltaY/12}else{if("wheelDelta" in N){M=K=N.wheelDelta/12}else{if("detail" in N){M=K=-N.detail*3}else{return}}}if(L.options.wheelAction==="zoom"){O=L.scale*Math.pow(2,1/3*(K?K/Math.abs(K):0));if(O<L.options.zoomMin){O=L.options.zoomMin}if(O>L.options.zoomMax){O=L.options.zoomMax}if(O!==L.scale){if(!L.wheelZoomCount&&L.options.onZoomStart){L.options.onZoomStart.call(L,N)}L.wheelZoomCount++;L.zoom(N.pageX,N.pageY,O,400);setTimeout(function(){L.wheelZoomCount--;if(!L.wheelZoomCount&&L.options.onZoomEnd){L.options.onZoomEnd.call(L,N)}},400)}return}J=L.x+M;m=L.y+K;if(J>0){J=0}else{if(J<L.maxScrollX){J=L.maxScrollX}}if(m>L.minScrollY){m=L.minScrollY}else{if(m<L.maxScrollY){m=L.maxScrollY}}if(L.maxScrollY<0){L.scrollTo(J,m,0)}},_transitionEnd:function(J){var m=this;if(J.target!==m.scroller){return}m._unbind(a);m._startAni()},_startAni:function(){var O=this,J=O.x,m=O.y,M=Date.now(),N,L,K;if(O.animating){return}if(!O.steps.length){O._resetPos(400);return}N=O.steps.shift();if(N.x===J&&N.y===m){N.time=0}O.animating=true;O.moved=true;if(O.options.useTransition){O._transitionTime(N.time);O._pos(N.x,N.y);O.animating=false;if(N.time){O._bind(a)}else{O._resetPos(0)}return}K=function(){var P=Date.now(),R,Q;if(P>=M+N.time){O._pos(N.x,N.y);O.animating=false;if(O.options.onAnimationEnd){O.options.onAnimationEnd.call(O)}O._startAni();return}P=(P-M)/N.time-1;L=z.sqrt(1-P*P);R=(N.x-J)*L+J;Q=(N.y-m)*L+m;O._pos(R,Q);if(O.options.onAnimate){O.options.onAnimate.call(O)}if(O.animating){O.aniTime=v(K)}};K()},_transitionTime:function(m){m+="ms";this.scroller.style[o]=m;if(this.hScrollbar){this.hScrollbarIndicator.style[o]=m}if(this.vScrollbar){this.vScrollbarIndicator.style[o]=m}},_momentum:function(P,J,N,m,R){var O=0.0006,K=z.abs(P)/J,L=(K*K)/(2*O),Q=0,M=0;if(P>0&&L>N){M=R/(6/(L/K*O));N=N+M;K=K*N/L;L=N}else{if(P<0&&L>m){M=R/(6/(L/K*O));m=m+M;K=K*m/L;L=m}}L=L*(P<0?-1:1);Q=K/O;return{dist:L,time:z.round(Q)}},_offset:function(m){var K=-m.offsetLeft,J=-m.offsetTop;while(m=m.offsetParent){K-=m.offsetLeft;J-=m.offsetTop}if(m!==this.wrapper){K*=this.scale;J*=this.scale}return{left:K,top:J}},_snap:function(Q,P){var N=this,M,L,O,K,J,m;O=N.pagesX.length-1;for(M=0,L=N.pagesX.length;M<L;M++){if(Q>=N.pagesX[M]){O=M;break}}if(O===N.currPageX&&O>0&&N.dirX<0){O--}Q=N.pagesX[O];J=z.abs(Q-N.pagesX[N.currPageX]);J=J?z.abs(N.x-Q)/J*500:0;N.currPageX=O;O=N.pagesY.length-1;for(M=0;M<O;M++){if(P>=N.pagesY[M]){O=M;break}}if(O===N.currPageY&&O>0&&N.dirY<0){O--}P=N.pagesY[O];m=z.abs(P-N.pagesY[N.currPageY]);m=m?z.abs(N.y-P)/m*500:0;N.currPageY=O;K=z.round(z.max(J,m))||200;return{x:Q,y:P,time:K}},_bind:function(K,J,m){J=J||this.scroller;J[s](u+K,this,!!m)},_unbind:function(K,J,m){J=J||this.scroller;J[c](u+K,this,!!m)},destroy:function(){var m=this;m.scroller.style[p]="";m.scroller.style[B]="";m.scroller.style[o]="";m.scroller.style[r]="";m.wrapper.style.overflow="";m.hScrollbar=false;m.vScrollbar=false;m._scrollbar("h");m._scrollbar("v");m._unbind(j,l);m._unbind(d);m._unbind(x,l);m._unbind(f,l);m._unbind(A,l);if(!m.options.hasTouch){m._unbind("DOMMouseScroll");m._unbind("mousewheel")}if(m.resizeTimer){clearTimeout(m.resizeTimer)}if(m.options.useTransition){m._unbind(a)}if(m.options.checkDOMChanges){clearInterval(m.checkDOMTime)}if(m.options.onDestroy){m.options.onDestroy.call(m)}},refresh:function(){var L=this,N,K,m,J,O=0,M=0;if(L.scale<L.options.zoomMin){L.scale=L.options.zoomMin}L.wrapperW=L.wrapper.clientWidth||1;L.wrapperH=L.wrapper.clientHeight||1;L.minScrollY=-L.options.topOffset||0;L.scrollerW=z.round(L.scroller.offsetWidth*L.scale);L.scrollerH=z.round((L.scroller.offsetHeight+L.minScrollY)*L.scale);L.maxScrollX=L.wrapperW-L.scrollerW;L.maxScrollY=L.wrapperH-L.scrollerH+L.minScrollY;L.dirX=0;L.dirY=0;if(L.options.onRefresh){L.options.onRefresh.call(L)}L.hScroll=L.options.hScroll&&L.maxScrollX<0;L.vScroll=L.options.vScroll&&(!L.options.bounceLock&&!L.hScroll||L.scrollerH>L.wrapperH);L.hScrollbar=L.hScroll&&L.options.hScrollbar;L.vScrollbar=L.vScroll&&L.options.vScrollbar&&L.scrollerH>L.wrapperH;N=L._offset(L.wrapper);L.wrapperOffsetLeft=-N.left;L.wrapperOffsetTop=-N.top;if(typeof L.options.snap==="string"){L.pagesX=[];L.pagesY=[];J=L.scroller.querySelectorAll(L.options.snap);for(K=0,m=J.length;K<m;K++){O=L._offset(J[K]);O.left+=L.wrapperOffsetLeft;O.top+=L.wrapperOffsetTop;L.pagesX[K]=O.left<L.maxScrollX?L.maxScrollX:O.left*L.scale;L.pagesY[K]=O.top<L.maxScrollY?L.maxScrollY:O.top*L.scale}}else{if(L.options.snap){L.pagesX=[];while(O>=L.maxScrollX){L.pagesX[M]=O;O=O-L.wrapperW;M++}if(L.maxScrollX%L.wrapperW){L.pagesX[L.pagesX.length]=L.maxScrollX-L.pagesX[L.pagesX.length-1]+L.pagesX[L.pagesX.length-1]}O=0;M=0;L.pagesY=[];while(O>=L.maxScrollY){L.pagesY[M]=O;O=O-L.wrapperH;M++}if(L.maxScrollY%L.wrapperH){L.pagesY[L.pagesY.length]=L.maxScrollY-L.pagesY[L.pagesY.length-1]+L.pagesY[L.pagesY.length-1]}}}L._scrollbar("h");L._scrollbar("v");if(!L.zoomed){L.scroller.style[o]="0";L._resetPos(400)}},scrollTo:function(m,P,O,N){var M=this,L=m,K,J;M.stop();if(!L.length){L=[{x:m,y:P,time:O,relative:N}]}for(K=0,J=L.length;K<J;K++){if(L[K].relative){L[K].x=M.x-L[K].x;L[K].y=M.y-L[K].y}M.steps.push({x:L[K].x,y:L[K].y,time:L[K].time||0})}M._startAni()},scrollToElement:function(m,K){var J=this,L;m=m.nodeType?m:J.scroller.querySelector(m);if(!m){return}L=J._offset(m);L.left+=J.wrapperOffsetLeft;L.top+=J.wrapperOffsetTop;L.left=L.left>0?0:L.left<J.maxScrollX?J.maxScrollX:L.left;L.top=L.top>J.minScrollY?J.minScrollY:L.top<J.maxScrollY?J.maxScrollY:L.top;K=K===undefined?z.max(z.abs(L.left)*2,z.abs(L.top)*2):K;J.scrollTo(L.left,L.top,K)},scrollToPage:function(K,J,M){var L=this,m,N;M=M===undefined?400:M;if(L.options.onScrollStart){L.options.onScrollStart.call(L)}if(L.options.snap){K=K==="next"?L.currPageX+1:K==="prev"?L.currPageX-1:K;J=J==="next"?L.currPageY+1:J==="prev"?L.currPageY-1:J;K=K<0?0:K>L.pagesX.length-1?L.pagesX.length-1:K;J=J<0?0:J>L.pagesY.length-1?L.pagesY.length-1:J;L.currPageX=K;L.currPageY=J;m=L.pagesX[K];N=L.pagesY[J]}else{m=-L.wrapperW*K;N=-L.wrapperH*J;if(m<L.maxScrollX){m=L.maxScrollX}if(N<L.maxScrollY){N=L.maxScrollY}}L.scrollTo(m,N,M)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(x,l);this._unbind(f,l);this._unbind(A,l)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition){this._unbind(a)}else{t(this.aniTime)}this.steps=[];this.moved=false;this.animating=false},zoom:function(m,N,M,L){var J=this,K=M/J.scale;if(!J.options.useTransform){return}J.zoomed=true;L=L===undefined?200:L;m=m-J.wrapperOffsetLeft-J.x;N=N-J.wrapperOffsetTop-J.y;J.x=m-m*K+J.x;J.y=N-N*K+J.y;J.scale=M;J.refresh();J.x=J.x>0?0:J.x<J.maxScrollX?J.maxScrollX:J.x;J.y=J.y>J.minScrollY?J.minScrollY:J.y<J.maxScrollY?J.maxScrollY:J.y;J.scroller.style[o]=L+"ms";J.scroller.style[p]="translate("+J.x+"px,"+J.y+"px) scale("+M+")"+G;J.zoomed=false},isReady:function(){return !this.moved&&!this.zoomed&&!this.animating}};q=null;if(typeof exports!=="undefined"){exports.IScroll=e}else{l.IScroll=e}})(window,document);