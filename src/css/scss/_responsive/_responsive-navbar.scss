//
// Responsive: Navbar
// --------------------------------------------------



// -----------------------------------------
// DEFAULT: 980px - 1199px;
// -----------------------------------------
//  .d8888b.   .d8888b.   .d8888b.                         d888    d888   .d8888b.   .d8888b.                    
// d88P  Y88b d88P  Y88b d88P  Y88b                       d8888   d8888  d88P  Y88b d88P  Y88b                   
// 888    888 Y88b. d88P 888    888                         888     888  888    888 888    888                   
// Y88b. d888  "Y88888"  888    888 88888b.  888  888       888     888  Y88b. d888 Y88b. d888 88888b.  888  888 
//  "Y888P888 .d8P""Y8b. 888    888 888 "88b `Y8bd8P'       888     888   "Y888P888  "Y888P888 888 "88b `Y8bd8P' 
//        888 888    888 888    888 888  888   X88K  888888 888     888         888        888 888  888   X88K   
// Y88b  d88P Y88b  d88P Y88b  d88P 888 d88P .d8""8b.       888     888  Y88b  d88P Y88b  d88P 888 d88P .d8""8b. 
//  "Y8888P"   "Y8888P"   "Y8888P"  88888P"  888  888     8888888 8888888 "Y8888P"   "Y8888P"  88888P"  888  888 
//                                  888                                                        888               
//                                  888                                                        888               
//                                  888                              
// -----------------------------------------

.nav{

  &.nav-primary{
    margin-left:3%;
  }
  &.nav-utility{
    .nav-li{
    }
    .nav-li-link{
      line-height:$navbarLineHeight;
      margin: 11px 3px 12px 7px;
      font-size:$font_13_16;
    }
    .nav-li-link.nav-dropdown-toggle-text .icon-ui-arrowhead-down-gray{
      margin-left: 6px;
      margin-top: 9px;
    }
  } // .nav-utility

  .btn-mobile-cart{
    display:none;
  }
  .nav-li-link.btn-nav-block{
    width: auto;
    margin: 13px 0px 0px 7px;
    line-height: 37px;
    font-size: $font_13_16;
  }

  .nav-li-link.btn-nav-iconed{
    height: 25px;
    padding: 4px;
    margin: 19px 0px 0 6px;
    line-height: 1.5;
  }

  .global-nav-indicator-bar{
    margin-left:11px;
  }


  .nav-li-link{
    line-height:$navbarLineHeight;
    padding: 0 6px;
    margin: 10px 9px 14px 9px;
    font-size:$font_15_16;
  }
  .nav-li-link.nav-dropdown-toggle-text{
    padding-right: 3px;
    margin-right: 3px;
  }
  .nav-li-link.nav-dropdown-toggle-text .icon-ui-arrowhead-down-gray{
    margin-left: 8px;
    margin-top: 11px;
  }

  

  .nav-li-favorites .nav-li-link {
    margin-left:7px;
  }
  .nav-li-cart .nav-li-link {
    font-size: $font_12_16;
    > i.icon-ui-cart {
      margin-right: 2px;
      margin-top: 1px;
    }
  }
  .nav-li-search .nav-li-link {
    margin-left: 15px;
    padding: 0px 16px 0px 12px;
    > span.navtray-label{
      display:inline-block;
    }
    > i.icon-ui-search {
      float: left;
      margin: 12px 6px 0 0;
    }
  }
  .nav-li-universal .nav-li-link {
    margin-right:-8px;
    padding: 0px 8px;
    > i.icon-ui-plus-tiny {
      margin: 4px 0 0 10px;
    }
  }
} // .nav

.navtray-w-tall:after{ // background gray under the right side -- just needs to cover up the right margin
  //left:$navTrayDividerPosition;
}

.navtray{
  width:100%;

  .btn-nav-view-all{
    margin-left: 5.7%;
  }
} // end .navtray

.navtray-section-main{ // section left
  padding-top:56px;
  width: $navTrayDividerPosition;

  .navtray-list-main{
    margin: 0 1.6% 2.1% 4.1%;
    overflow:hidden;

    &:after { // HR
      width:97%;
      height:14px;
      margin-left: 1.7%;
    }

    .navtray-li {
      width:23.1%;
      margin:2% 1.9% 2% 0;
    }
    .navtray-li-link {
      .nav-img-w {
        img {
          width:83%;
        } 
      }
    }
  }
} // end .navtray-section-main
.navtray-section-featured{ // section right
  padding-top:47px;
  &.navtray-section-featured-short{
    padding-top:0;
  }
  width: (100-$navTrayDividerPosition); 
  padding-left: 2.8%;
  .navtray-secondary-promo{
    width: 192px;
    margin-top: 36px;
  } // .navtray-secondary-promo
} // .navtray-section-featured


// Required to make the collapsing navbar work on regular desktops
.nav-collapse.collapse {
  height: auto !important;
  overflow: visible !important;
}


.navmenu-w-search{
  @include hideshow-navmenu-hide(right);

  .sprite-mini-global-nav-indicator{
    right:31px;
  }
}

.navmenu-w-account{
  width: 215px;
  padding: 10px 0 22px;

  @include hideshow-navmenu-hide(right);

  .navmenu-list-prefixed{
    border-bottom:solid 1px $grayLightish;
    padding-bottom:6px;
    display:none;
  }
}

// .navbar-mobile{
//   display:none;
// }


// END 980px-1199px Default









// ------------------------------------------------
// LARGE DESKTOP
// ------------------------------------------------
//  d888    .d8888b.   .d8888b.   .d8888b.                            
// d8888   d88P  Y88b d88P  Y88b d88P  Y88b                           
//   888          888 888    888 888    888                           
//   888        .d88P 888    888 888    888 88888b.  888  888   888   
//   888    .od888P"  888    888 888    888 888 "88b `Y8bd8P' 8888888 
//   888   d88P"      888    888 888    888 888  888   X88K     888   
//   888   888"       Y88b  d88P Y88b  d88P 888 d88P .d8""8b.         
// 8888888 888888888   "Y8888P"   "Y8888P"  88888P"  888  888         
//                                          888                       
//                                          888                       
//                                          888 
// ------------------------------------------------

@media (min-width: 1200px) {
.nav {
  &.nav-primary{
  }
}
.navtray.navtray-absolute{
  position: absolute;
  bottom: 0;
  width:$navtrayMaxWidth;
  margin-left:- ($navtrayMaxWidth / 2);
  left:50%;
}

.navtray-section-featured{ // section right
  width: 100 - ($navTrayDividerPosition + 2);
  padding-left: 3.7%;
  padding-top: 53px;

  .navtray-secondary-promo{
    width: 208px;
    margin-top: 43px;

  } // .navtray-secondary-promo
  .navtray-section-featured-short{
    padding-top:0;
    
    .navtray-secondary-promo{
      margin-top: 36px;
    }
  } //.navtray-section-featured-short
} //.navtray-section-featured

.navtray-section-main{ // section left
  width: ($navTrayDividerPosition + 2);
  padding-top: 39px;

  .navtray-list-main{
    margin-right:4.7%;
    margin-top:0px;

    .navtray-li {
      width: 24%;
      margin: 5.5% 0.7% 2% 0;
    }
  }
}

.navtray-w-fullwidth-3-4:after{ // background gray under the right side -- just needs to cover up the right margin
  content: "";
  display: block;
  width: (110-$navTrayDividerPosition); // make sure it's a little wider than really necessary so there's no little edge showing.
  height: 100%;
  position:absolute;
  top:0;
  left:$navTrayDividerPosition * 1.1; // just needs to cover up the right margin, so make sure it's farther right than neccessary
  z-index:1;
  background: $navTrayBackgroundAlt;
}
} // END min-width: 1200px





// ------------------------------------------------
// EXTRA LARGE DESKTOP
// ------------------------------------------------
//  d888      d8888   .d8888b.   .d8888b.                            
// d8888     d8P888  d88P  Y88b d88P  Y88b                           
//   888    d8P 888  888    888 888    888                           
//   888   d8P  888  888    888 888    888 88888b.  888  888   888   
//   888  d88   888  888    888 888    888 888 "88b `Y8bd8P' 8888888 
//   888  8888888888 888    888 888    888 888  888   X88K     888   
//   888        888  Y88b  d88P Y88b  d88P 888 d88P .d8""8b.         
// 8888888      888   "Y8888P"   "Y8888P"  88888P"  888  888         
//                                         888                       
//                                         888  
// ------------------------------------------------                     
                            
@media (min-width: 1400px) {
  
} // END min-width: 1400px





// ------------------------------------------------
// PORTRAIT TABLET TO LANDSCAPE AND SMALL DESKTOP
// ------------------------------------------------
//  d888    .d8888b.   .d8888b.   .d8888b.         .d8888b.                                  888                  
// d8888   d88P  Y88b d88P  Y88b d88P  Y88b       d88P  "88b                                 888                  
//   888   888    888        888      .d88P       Y88b. d88P                                 888                  
//   888   888    888      .d88P     8888"         "Y8888P"           888  888 88888b.   .d88888  .d88b.  888d888 
//   888   888    888  .od888P"       "Y8b.       .d88P88K.d88P       888  888 888 "88b d88" 888 d8P  Y8b 888P"   
//   888   888    888 d88P"      888    888       888"  Y888P"        888  888 888  888 888  888 88888888 888     
//   888   Y88b  d88P 888"       Y88b  d88P       Y88b .d8888b        Y88b 888 888  888 Y88b 888 Y8b.     888     
// 8888888  "Y8888P"  888888888   "Y8888P"         "Y8888P" Y88b       "Y88888 888  888  "Y88888  "Y8888  888
// ------------------------------------------------
@media (max-width: 1023px) {
.nav {
  .nav-li-search .nav-li-link {// change the button to simple square no-text.
    padding: 0px 12px 0px 12px;
    margin-left: 10px;
    margin-top: 12px;
    
    > span.navtray-label{
      display:none;
    }
    > i.icon-ui-search {  
      float:none;
      margin:2px 0px 0 0;
    }
  }
}


.nav-li-universal .nav-li-link {
  margin-left: 7px;
  margin-right: -10px;
  // padding: 0px 8px;
  > i.icon-ui-plus-tiny {
    margin-left: 8px;
  }
}

.navmenu-w-search{
  margin-left: 25px;
}

.navmenu-w-account .navmenu-list-prefixed{
  display:block;
}
.nav-li-favorites,
.nav-li-cart{
  display:none;
}

} // END max-width: 1023px





// ------------------------------------------------
// PORTRAIT TABLET TO LANDSCAPE AND SMALL DESKTOP
// ------------------------------------------------
// 8888888888  .d8888b.   .d8888b.                           .d8888b.  8888888888  .d8888b.                    
//       d88P d88P  Y88b d88P  Y88b                         d88P  Y88b       d88P d88P  Y88b                   
//      d88P  888        Y88b. d88P                         888    888      d88P  888    888                   
//     d88P   888d888b.   "Y88888"  88888b.  888  888       Y88b. d888     d88P   Y88b. d888 88888b.  888  888 
//  88888888  888P "Y88b .d8P""Y8b. 888 "88b `Y8bd8P'        "Y888P888  88888888   "Y888P888 888 "88b `Y8bd8P' 
//   d88P     888    888 888    888 888  888   X88K  888888        888   d88P            888 888  888   X88K   
//  d88P      Y88b  d88P Y88b  d88P 888 d88P .d8""8b.       Y88b  d88P  d88P      Y88b  d88P 888 d88P .d8""8b. 
// d88P        "Y8888P"   "Y8888P"  88888P"  888  888        "Y8888P"  d88P        "Y8888P"  88888P"  888  888 
//                                  888                                                      888               
//                                  888                                                      888               
//                                  888                                                      888   
// ------------------------------------------------
@media (min-width: 768px) and (max-width: 979px) {

.navbar{
  // override the default logo sprite with the smaller one.
  @include sprite-reg(nav-sony-logo, -90px,   79px,   28px);
  .sprite-reg-nav-sony-logo{
    margin-top:18px;
  }
}

.nav .nav-li {
  .global-nav-indicator-bar{
    margin-left:3px;
  }
}

.nav.nav-primary{
  margin-left: 2.6%;
  .nav-li-link{
    line-height: $navbarLineHeight;
    margin:11px 1px 13px 1px;
    font-size: $font_13_16;
    padding: 0 7px;
    &.nav-dropdown-toggle-text{
      // padding-right:3px;
      // margin-right:6px;
      .icon-ui-arrowhead-down-gray{
        margin-top: 9px;
        margin-left: 6px;
      }
    }
  }
} // .nav.nav-primary

.navtray {
  width:auto;
}


.nav.nav-utility{
  .nav-li-link{
    font-size:$font_11_16;
    margin-top:12px;

    &.nav-dropdown-toggle-text{
      .icon-ui-arrowhead-down-gray{
        margin-top: 8px;
      }
    }
    &.btn-nav-block{
      font-size: $font_11_16;
    }
  }
} // .nav-utility


.navtray-section-main{ // section left - contents
  padding-top: 38px;
  width: ($navTrayDividerPosition - 4);

  .navtray-w-short &{
    padding-bottom: 27px;    
  }

  .navtray-list-main {
    margin-left:8.2%;
    margin-right:0;

    .navtray-li {
      width:31%;
      margin:1% 1.9% 1.1% 0;
    }

    &:after{ // HR
      width: 94%;
      height: 10px;
      margin-left: 1.9%;
    }

    .nav-li{
      width:31.9%;
      margin:2% 0.2% 2% 0;
    }
    .nav-li-link {
      padding-bottom:13px;

      > img {
        width:83%;
        // height:83%;
        margin:0 auto;
      }
      > .nav-label{
        margin-top:6px;
      }
    }
  }
  .btn-nav-view-all{
    margin-left: 10%;
  }
} // .navtray-section-main

.navtray-section-featured{ // section right
  padding-top: 47px;
  padding-left:2.3%;
  width: 100 - ($navTrayDividerPosition - 4);

  &.navtray-section-featured-short{
    padding-top: 10px;
  }
} //.navtray-section-featured

} // min-width: 768px and max-width: 979px
























// ------------------------------------------------
// MOBILE-LARGE (mostly the same as mobile, but a little bigger.)
// ------------------------------------------------
//  8888888888  .d8888b.  8888888888                         .d8888b.                                  888                    
//        d88P d88P  Y88b       d88P                        d88P  "88b                                 888                 
//       d88P  888             d88P                         Y88b. d88P                                 888                 
//      d88P   888d888b.      d88P  88888b.  888  888        "Y8888P"           888  888 88888b.   .d88888  .d88b.  888d888
//   88888888  888P "Y88b  88888888 888 "88b `Y8bd8P'       .d88P88K.d88P       888  888 888 "88b d88" 888 d8P  Y8b 888P"  
//    d88P     888    888   d88P    888  888   X88K         888"  Y888P"        888  888 888  888 888  888 88888888 888    
//   d88P      Y88b  d88P  d88P     888 d88P .d8""8b.       Y88b .d8888b        Y88b 888 888  888 Y88b 888 Y8b.     888    
//  d88P        "Y8888P"  d88P      88888P"  888  888        "Y8888P" Y88b       "Y88888 888  888  "Y88888  "Y8888  888    
//                                  888               
//                                  888               
//                                  888       
// ------------------------------------------------    

@media (max-width: 767px) {

.page-wrap-inner.show-mobile-menu{
  left:$navMobileWidthLarge;
}
.nav-outer-container{
  width:$navMobileWidthLarge;
}
.nav-wrapper{
  height:auto;
}

.navtray-section-featured{
  display:none;
}
.navbar{
  .nav-primary,
  .nav-li-account .nav-li-link,
  .nav-li-search,
  .nav-li-favorites,
  .nav-li-search,
  .sprite-reg-nav-sony-logo{
    display:none;
  }
} // .navbar

.navmenu-w{
  @include border-radius(0);
}
.navmenu-w-mobile-top{
  padding-top:16px;
  padding-bottom:28px;
}

.navmenu-w-search{
  width:100%;
  background:$grayLighter;
  padding:9px;

  .navmenu-search-section-input{
    padding:7px 12px 10px 8px;

    input[type=text]{
      font-size:$font_15_16;
      @include fontRegular;
      line-height:1;
      width:100%;
    }
  }

  @include sprite-mini(nav-search-input,  -60px,  16px,   16px);
  .sprite-mini-nav-search-input{
    top: 23px;
    left: 18px;
  }
}
.navmenu-w-account{
  width:100%;
}

.navmenu-list{
  .navmenu-line{
    margin-left:14px;
    a.tl{
      font-size:$font_14_15;
      padding:5px 0 5px 4px;
      i{
        padding-right:7px;
      }
    }
  }
}
.nav .nav-li{
  width:100%;
}

.navmenu-list.navmenu-list-prefixed,
.sprite-mini-global-nav-indicator,
.navmenu-search-section-results{
  display:none;
}

.navbar-mobile{
  display:block;

  .btn-mobile-nav,
  .btn-mobile-cart{
    border:none;
    margin:0;
    display:block;
    background:$navbarBackground;
  }
  .btn-mobile-nav{
    box-sizing: content-box;
    margin-top:0;
    float:left;
    width:22px;
    height:19px;
    padding:20px 19px 25px;
    border-right:solid 1px $grayDark;
    i {
      margin:auto;
    }
    // override the default icon with the bigger one.
    @include icon-ui(mobile-menu-btn, -1020px,   22px,   19px);
  }
  .btn-mobile-cart{
    float:right; 
    padding:20px 0 23px 5px;
    width:64px;
    height:64px;
    border-left:solid 1px $grayDark;
    font-size:$font_15_16;
    color:$white;

    // override the default icon with the bigger one.
    @include icon-ui(cart, -1050px,   19px,   17px,  false);
    i {
      margin-top:1px;
      margin-right:4px;
    }
  }
  .sprite-reg-nav-sony-logo{
    // this is the normal (larger) size logo. Switch to small under 480px.
    width:90px;
    margin-left:-45px;
    margin-top:15px;
  }
}

.navmenu-w,
.navtray-w,
.nav.nav-primary,
.nav.nav-utility{
  @include hideshow-navmenu-reset;
}

.navtray,
.navtray-section-main{
  background:$navTrayBackgroundAlt;
}
.navtray-section-main{
  padding-top:0;
  width:100%;

  h4{
    font-size:$font_13_16;
    @include fontBold;
    padding:18px 0 2.5% 5.2%;
    text-transform:uppercase;
  }
  .navtray-list-main{
    margin: 0 0 0 5.2%;
    overflow:hidden;

    &:after { // HR
      border:0;
      width:97%;
      height:14px;
      margin-left: 1.7%;
    }

    .navtray-li {
      width:45%;
      margin:2% 4.3% 0 0;
    }
    .navtray-li-link {
      .nav-img-w{
        display:block;
        overflow:hidden;
        background:$white;
        padding:7% 0 14%;
        img {
          width:73%;
        } 
      }
      .nav-label{
        font-size:$font_16_16;
      }
    }
  }
  .btn-nav-view-all,
  .btn-nav-view-all:hover,
  .btn-nav-view-all:active{
    background:$white;
    border:$white;
    color:$linkColor;
  }
}


  
} // max-width: 767px















.DISABLED{
  .navbar-fixed-top,
  .navbar-fixed-bottom,
  .navbar-static-top {
    margin-left: -20px;
    margin-right: -20px;
  }

  // Account for brand name
  .navbar .brand {
    padding-left: 10px;
    padding-right: 10px;
    margin: 0 0 0 -5px;
  }

  // COLLAPSIBLE NAVBAR
  // ------------------
  // Nav collapse clears brand
  .nav-collapse {
    clear: both;
  }
  // Block-level the nav
  .nav-collapse .nav {
    float: none;
    margin-bottom:28px;
  }
  .nav-collapse .nav > li {
    float: none;
    line-height: 0.35;
  }
  .nav-collapse .nav > li > a {
    margin-bottom: 2px;
  }
  .nav-collapse .nav > .divider-vertical {
    display: none;
  }
  .nav-collapse .nav .nav-header {
    color: $navbarText;
    text-shadow: none;
  }
  // Nav and dropdown links in navbar
  .nav-collapse .nav > li > a,
  .nav-collapse .dropdown-menu a {
    padding: 9px 15px;
    font-weight: bold;
    color: $navbarLinkColor;
    @include border-radius(3px);
  }
  // Buttons
  .nav-collapse .btn {
    padding: 4px 10px 4px;
    font-weight: normal;
    @include border-radius(4px);
  }
  .nav-collapse .dropdown-menu li + li a {
    margin-bottom: 2px;
  }
  .nav-collapse .nav > li > a:hover,
  .nav-collapse .dropdown-menu a:hover {
    background-color: $navbarBackground;
  }
  .navbar-inverse .nav-collapse .nav > li > a:hover,
  .navbar-inverse .nav-collapse .dropdown-menu a:hover {
    background-color: $navbarInverseBackground;
  }
  // Buttons in the navbar
  .nav-collapse.in .btn-group {
    margin-top: 5px;
    padding: 0;
  }
  // Dropdowns in the navbar
  .nav-collapse .dropdown-menu {
    position: static;
    top: auto;
    left: auto;
    float: none;
    display: block;
    max-width: none;
    margin: 0 15px;
    padding: 0;
    background-color: transparent;
    border: none;
    @include border-radius(0);
    @include box-shadow(none);
  }
  .nav-collapse .dropdown-menu:before,
  .nav-collapse .dropdown-menu:after {
    display: none;
  }
  .nav-collapse .dropdown-menu .divider {
    display: none;
  }
  .nav-collapse .nav > li > .dropdown-menu {
    &:before,
    &:after {
      display: none;
    }
  }
  // Forms in navbar
  .nav-collapse .navbar-form,
  .nav-collapse .navbar-search {
    float: none;
    padding: ($baseLineHeight / 2) 15px;
    margin: ($baseLineHeight / 2) 0;
    border-top: 1px solid $navbarBackground;
    border-bottom: 1px solid $navbarBackground;
    @include box-shadow(inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.1));
  }
  .navbar-inverse .nav-collapse .navbar-form,
  .navbar-inverse .nav-collapse .navbar-search {
    border-top-color: $navbarInverseBackground;
    border-bottom-color: $navbarInverseBackground;
  }
  // Pull right (secondary) nav content
  .navbar .nav-collapse .nav.pull-right {
    float: none;
    margin-left: 0;
  }
  // Hide everything in the navbar save .brand and toggle button */
  .nav-collapse,
  .nav-collapse.collapse {
    overflow: hidden;
    height: 0;
  }


  // STATIC NAVBAR
  // -------------
  .navbar-static .navbar-inner {
    padding-left:  10px;
    padding-right: 10px;
  }
} // END DISABLED











// ------------------------------------------------
// LANDSCAPE PHONE AND BELOW
// ------------------------------------------------
//     d8888  8888888888  .d8888b.                           .d8888b.                                  888                  
//    d8P888        d88P d88P  Y88b                         d88P  "88b                                 888                  
//   d8P 888       d88P  888    888                         Y88b. d88P                                 888                  
//  d8P  888      d88P   Y88b. d888 88888b.  888  888        "Y8888P"           888  888 88888b.   .d88888  .d88b.  888d888 
// d88   888   88888888   "Y888P888 888 "88b `Y8bd8P'       .d88P88K.d88P       888  888 888 "88b d88" 888 d8P  Y8b 888P"   
// 8888888888   d88P            888 888  888   X88K         888"  Y888P"        888  888 888  888 888  888 88888888 888     
//       888   d88P      Y88b  d88P 888 d88P .d8""8b.       Y88b .d8888b        Y88b 888 888  888 Y88b 888 Y8b.     888     
//       888  d88P        "Y8888P"  88888P"  888  888        "Y8888P" Y88b       "Y88888 888  888  "Y88888  "Y8888  888     
//                                  888                                                                                     
//                                  888                                                                                     
//                                  888    
// ------------------------------------------------

@media (max-width: 479px) {

.page-wrap-inner.show-mobile-menu{
  left:$navMobileWidth;
}
.nav-outer-container{
  width:$navMobileWidth;
}
.navbar-mobile{
  height:48px; // -16
  // override the default logo sprite with the smaller one.
  @include sprite-reg(nav-sony-logo, -90px,   79px,   28px);
  .sprite-reg-nav-sony-logo{
    margin-top:10px;
    width:80px;
    margin-left:-40px;
  }
  .btn-mobile-nav{
    width:22px;
    height:18px;
    padding:14px 14px 16px;

    // back to the regular icon size.
    @include icon-ui(mobile-menu-btn, -990px,   19px,   16px);
  }
  .btn-mobile-cart{
    padding:13px 0 0px 4px;
    width:54px;
    height:48px;
  }
}

.navtray-section-main{
  .navtray-list-main{
    .navtray-li-link {
      .nav-label {
        font-size:$font_15_16;
      }
    }
  }
}

} // max-width: 479px




