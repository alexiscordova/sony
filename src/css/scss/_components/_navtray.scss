// .nav-wrapper extends the full width of the browser, 
// even when the navbar is at a set width for a particular breakpoint.

.nav-wrapper{ // encompasses the entire nav, including the navbar and navtrays, to 100% width of the page.

  .navtray-wrapper{ // 100% width for trays to reach edges of browser
    z-index:190;
    position: absolute;
    overflow:hidden;
    top: $navbarTotalHeight;
    left: -9999px;
    width:100%;
    background: $navTrayBackground;
    border-bottom:solid 1px $grayLighter;
    @include box-shadow(0px 3px 3px 0px rgba(0, 0, 0, .3));

    @include transition(height $transitionSlow ease-in 0s, left 0s linear $transitionSlow);

    &.navtray-wrapper-visible{
      left:0;
      opacity:1;

      @include transition(height $transitionSuperslow $easeOutNav 0s, left 0s linear 0s);   
    }


    .navtray{ // container the same width as the nav, contains left & right sections
      z-index: 10;
      overflow:hidden;
      margin: 0 auto;
      list-style: none;

      background: $navTrayBackgroundAlt; // right side background color
      // display: none;
      
      .navtray-section-main{ // section left
        float: left;
        padding-bottom: 17px;
        background: $navTrayBackground; // left side background color
      }
      .navtray-section-featured{ // section right
        float: left;
        z-index: 20;
        position: relative;

        ul.navtray-list-secondary{
          margin-left: 0;
          padding-top:2px;

          > li {
            line-height:1.4;
            
            > a {
              font-size: $font_13_16;
            }
          }
        }
        .navtray-secondary-promo{
          background:$grayDark;
          a{
            display:block;
            padding-bottom:40px;
            img{
              padding-bottom:13px;
              width:100%;
              height:auto;
            }
            .p2,
            .p3{
              display:block;
              font-size:$font_13_15;
              padding:3px 19px 0;
            }
            .p2{
              color:$white;
            }
            .p3{
              color:$grayLightness;
            }
          }
          &.navtray-secondary-promo-short{
            a{
              padding-bottom:27px;           
            }
          }
        } // .navtray-secondary-promo
      } // .navtray-section-featured

      .navtray-section-main{ // section left - contents
        .navtray-list-main{ 
          overflow:hidden;

          > li{
            line-height: 3.25;
            display:block;
            float:left;
          }
          > li > a {
            display:block;
            text-align:center;
            padding-bottom:13px;

            > img {
              margin:0 auto;
            }
            > .nav-label{
              display:block;
              margin-top:2px;
            }
          }
        }
      }

      .navtray-section-main-w-all-btn{
        padding-bottom: 50px;

        .navtray-list-main{
          > li{
            line-height: inherit;
          }
          &:after{ // HR
            content: '';
            display:block;
            clear:both;
            border-bottom: solid 1px $grayLighter;
          }
          .btn-nav-view-all{
            width:140px;
          }
        }
      }
      .navtray-section-featured{
        .l2{
          font-size: 0.625em;
        }
      }
    } // .navtray

    .navtray.navtray-absolute{
      position: absolute;
      bottom: 0;
    }

    &.no-transition{
      @include transition(none); 
    }
  } // .navtray-wrapper
} // .nav-wrapper
