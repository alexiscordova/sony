//
// Tertiary Content Container (TCC) 
// --------------------------------------------------

@import "../_base/variables";
@import "../_base/mixins";

@function createSelectorFromData($class1,$class2){
	@return '[data-tcc-content-type="'+ $class1 + '"][data-tcc-content-mode="' + $class2 + '"]';
}

//$tcc-content-module-height-3up:350px;
$tcc-content-module-height-3up:400px;

$tcc-header-padding-bottom-desktop:20px;
$users-voice-padding-bottom-desktop:28px;
$users-voice-padding-left-right-desktop:px-em(40px);

$tenPercentInstaFlickr: percentage(10px/316px);
$fivePercentInstaFlickr: percentage(5px/316px);

// -----------------------------------------
// 3-UP - // DEFAULT: 980px - 1199px;
// -----------------------------------------
//  .d8888b.                                   .d88  .d8888b.   .d8888b.   .d8888b.        88b.   
// d88P  Y88b                                 d88P" d88P  Y88b d88P  Y88b d88P  Y88b       "Y88b  
//      .d88P                                d88P   888    888 Y88b. d88P 888    888         Y88b 
//     8888"         888  888 88888b.        888    Y88b. d888  "Y88888"  888    888   888    888 
//      "Y8b.        888  888 888 "88b       888     "Y888P888 .d8P""Y8b. 888    888 8888888  888 
// 888    888 888888 888  888 888  888       Y88b          888 888    888 888    888   888   d88P 
// Y88b  d88P        Y88b 888 888 d88P        Y88b. Y88b  d88P Y88b  d88P Y88b  d88P       .d88P  
//  "Y8888P"          "Y88888 88888P"          "Y88  "Y8888P"   "Y8888P"   "Y8888P"        88P"   
//                            888                                                                 
//                            888                                                                 
//                            888                                                                 

.tcc-wrapper{
	height:580px;
	position: relative;
  overflow-y:hidden;
  overflow-x:auto;
  text-align: center;
  background-color:$gray80;
  margin:0; // for the module since it can be placed anywhere on the page. 
  padding:60px 0 98px 0;

  .light-text-dark-box a{
	  &:hover, &:active, &:focus, &.active{
    	color: $gray40;    
	  }
	}

	.tcc-body-wrapper{
		display: block;
		overflow: hidden;
		position: relative;
		text-align: center;
		z-index: 1;	
		padding:30px 0 0 0;
	} // end .tcc-body-wrapper
	
	.tcc-copy{
	   padding:0 px-em(20px) px-em(20px) px-em(20px); 
	} // end .tcc-copy
	
	
 	.social-btn{
    margin:0 auto;
  } // end socialBtn

	.tcc-header{
		border-bottom: 3px solid $gray70;
		position: relative;
		padding-bottom: $tcc-header-padding-bottom-desktop;

    .tcc-header-title{
      float:left;
      margin:0; // overwrite .l1 default   
    } // end .tcc-header-title

    .tcc-header-link{
      position: absolute;
      bottom:$tcc-header-padding-bottom-desktop; // offset .tcc-header padding
      right:0;
      margin:0; // overwrite .lt2 default
    } // end .tcc-header-link

    .lt-ie10 & {
			.tcc-header-title{
	      float:left;
	      margin:0; // overwrite .l1 default   
	    } // end .tcc-header-title
    	
	    .tcc-header-link{
	    	position: absolute;
        right:0;
      	margin:0; // overwrite .lt2 default
	      bottom:0; // offset .tcc-header padding
	    } // end .tcc-header-link

    } // lt-ie10


	} // end .tcc-header

	.tcc-body{
		display:inline-block;	
		height:$tcc-content-module-height-3up;
		//border:1px solid red;
	} // end .tcc-body

	.tcc-content-module{
		//border:1px solid blue;
		height:$tcc-content-module-height-3up;
		position: relative;
		text-align: center;
		overflow: hidden;
		
		.tcc-inner-container{
			position: relative;
			width:100%;
			height:$tcc-content-module-height-3up;
		}

		// // IE9 and BELOW
		// .lt-ie10 & {
		//   	height:350px; 
		//   } // END IE9 and BELOW

		// IE8 and BELOW
		.lt-ie9 & {
    	max-width:370px; 
    } // END IE8 and BELOW

		&:hover{
			cursor: pointer;
		} // end .tcc-content-module:hover;

	} // end .tcc-content-module

	// HOVERS
	#{createSelectorFromData("article","default")},
	#{createSelectorFromData("article","news")},
	#{createSelectorFromData("article","event")},
	#{createSelectorFromData("sonys-voice","facebook")},
	#{createSelectorFromData("sonys-voice","instagram")},
	#{createSelectorFromData("flickr","default")}{
		@include fadeoutOnHover(img);
	} // end div


	#{createSelectorFromData("article","featured")}{
		    @include transition(opacity $transitionFast ease-in);
		    position: relative;
		    display: block;
		    height: 100%;
		    cursor: pointer;
		    opacity: 0;
				@include fadeoutOnHover('.featured-image');

		    &.on {
		      opacity: 1;
		    }

		    .featured-image {
		      position: absolute;
		      left: 0;
		      top: 0;
		      width: 100%;
		      height: 100%;
		      background-size: cover;
		      background-position: center center;
		      background-repeat: no-repeat;
			  } // end featured-image

	} // end div


	// TYPE: ARTICLE
	.article{	
		position: relative;
		display: block;
		background-size: cover;
		background-position: center center;
		background-repeat: no-repeat;

    // DEFAULTS
    .img-container{
			position: relative;		
			margin-bottom:px-em(20px); 
    } // end .img-container

    .img-wrap{
		  img{
	      width:100%;
	      min-height: 100px;
    	} // end img

    } // end img-wrap

    .tcc-copy{
    	//max-height: 94px;
    	overflow: hidden;
    }

    // body copy
		.p4{
			color:$gray40;
		} // end p4

		// title
		.p2{
			max-height: 58px;
			overflow: hidden;
			color:$titleBlack;			
		} // end t6


		&.event{
	
	   // overlay box
	    .attendance-count{
	    	-webkit-backface-visibility:hidden; // prevents flickering on transition
				background-color: $secondaryOlive;
				opacity:0.95;
				color:$white;
				position: absolute;
				z-index: 5;
				top: -10px;
				left: 0;
				bottom:0;
				right:0;
				margin:10% auto;
				padding:3%;
				height:64%;//80%;
				width:35%;

				// IE9 and BELOW
				.lt-ie10 & {
		    	margin:5% auto 10% auto;
		    } // END IE9 and BELOW

	    } // end . attendance-count

			.t3,
			.l3-light{
				color:$white;
				margin:0;
				padding:0;
			}

		} // end .article.events

		&.news{
    	.news-date{
    		-webkit-backface-visibility:hidden;
	    	position:absolute;
	    	top:0;
	    	right:0;
	    	z-index: 2;
	    	background-color:rgba($gray10, 0.95);
	    	color:$white;
	    	margin:0;
	    	padding:px-em(10px);
	    	//font-size: px-em(11px); ; // because we're using ghost center need to re-set size
	    } // end .news-date
	    
		} // end .article.news

		&.featured{
			height: 100%;
      
      .lt3{
        margin-top:14px;
      }

			.feature-copy{

	    	background-color:$gray10;
        text-align: left;
        opacity:1;
        position: absolute;
        bottom:0;
        left: 0;
        margin:0;
        min-height:30%;
        width:100%;
        padding: px-em(30px);
				max-height: 140px;
				-webkit-backface-visibility: hidden; // the flicking bug with transition

				// IE9 and BELOW
				.lt-ie10 & {
		    	height:145px;
		    	max-height: 145px;
          min-height:145px;
   				position: absolute;
          bottom:0;
          left: 0;
          margin:0;
          padding:30px;
          width:100%;
		    }	// END IE9 and BELOW

        p{
          margin:0; // overwrite default p
        } // end p         

	    	.t5-light{
          height:57px;
					max-height: 57px;
          overflow:hidden;
	    	
	    	} // end .t5-light

	    	.lt3{
	    	  margin-top: 10px;
	    	} // end .lt3
	    	

   	  } // end .feature-copy
			
		} // end .article.featured 

	} // end .article 

	// TYPE: USERS VOICE
	.users-voice{
		text-align: left;


		&.user-quote,
		&.expert-quote{
		  padding: px-em(30px) px-em(40px) px-em($users-voice-padding-bottom-desktop) $users-voice-padding-left-right-desktop;

		  .credits{
		    position:absolute;
		    bottom:$users-voice-padding-bottom-desktop;
		    left:$users-voice-padding-left-right-desktop;

		    .avatar{
		      margin-bottom:15px;
		    } // .avatar
		    
		    .author{	      
		      &.p4{
		        margin:0;
		      } // end .p4

		    } // end author

		    .author,
		    .handle{
		      display: inline;
		    } // end .handle & .author

		  } // end .credits

		} //end .user-quote and .expert-quote

		&.expert-quote{
			background-color:rgba($gray10,0.95);
			
			.author{
				display: inline;
				margin:0;
				text-transform: capitalize;
			} // end .author

			.bq3{
				
				p{
					color:$white;	
				} // end p
			
			} // end bq3

			.title{
			  color:$gray50;
			} // end .title

			.name{
				color:$linkBlue;	
			} // end .name

		} // end .expert-quote
		

		&.user-quote,
		&.question{
			.bq3{
				p{
			  	color:$secondarySlateDark;
				} // end p
			} // end .bq3
		} // end quote color

		&.user-quote{
			background-color:$white;
			
			.title{
			  color:$gray40;
			} // end .title
			
			.credits{
				.handle,
				.author{
				  display: inline;
				} // end .handle & .author

				.author{
					padding-left: 10px;
				}

			} // end .credits

		} // end expert-quote & user-quote
		
		&.question{
			padding:0;

      .bq3,
      .lt3,
      .answer-btn{
        text-align: center;
      }

			.credits{
				background-color: $white;
				@include clearfix();
        position: relative;
        width: 100%;
        white-space: nowrap;
        
        .avatar{
          float:left;
        } // end .avatar

        .author{
          position: absolute;
          top:50%;
          left:73px;
          margin:-11px 0 0 0;
        } // end .author

			} // end .credits

	     .bq3{
        //max-height:172px;
        padding:40px px-em(30px) 0px px-em(30px);
      } // .bq3

      .answer-btn{
        position: absolute;
        bottom: 10px;
        left: 50%;
        margin-left: -71px;
      } // end .answer-btn		

		} // end .question

	} // end .users-voice

	// TYPE: SONYS VOICE
	.sonys-voice{
		padding:0px;// px-em(20px) 11px px-em(20px);

		.top{
			.icon-container{
				position: relative;
				padding: px-em(15px);
			}

	    [class*="fonticon-10-dot"]{
	      display:inline-block;
	      font-size:px-em(56px); 

				&.white-bg{
					position: absolute;
					top: 0;
					left: 50%;
					margin-left:-28px;
	        width:55px;
	        height:55px;
					z-index: -1;
					overflow:hidden;
					color:$white;
				} // end .white-bg

	    } // end fonticon divs

	    .fonticon-15-facebook,
	    .fonticon-15-twitter,
	    .fonticon-15-instagram {

	      font-size: px-em(26px);
	    } // end .fonticons

			.fonticon-15-twitter{
				color:$twitterColor;
			} // end .fonticon-15-twitter

			.fonticon-15-facebook{
				color:$facebookColor;
			} // end .fonticon-15-facebook

			.meta{
				margin-top:8px;
			  .user{
			  	color:$gray20;
			  } // end .user

			  .timestamp{
			  	color:$gray40;
			  } // end .timestamp

			  .p4{
			  	margin:0;
			  } // end p4

			} // end .meta

		} // end top

		// .center{
		// 	// border:1px solid green;
		// } // end center

		.bottom{
			//border:1px solid blue;
			.social-btn{
				//border:1px solid red;
				// position: absolute;
				// bottom: 0;
				// left: 50%;
				// margin-left: -78px;

				.btn{
					-webkit-backface-visibility: hidden; // prevents flickering on transition
				}

			} // end .social-btn
		} // end bottom


		&.facebook{
			.bq5{
				margin-top:22px;
				p{
					color:$secondarySlateDark;
				}
			} // end .bq5

		} // end .twitter


		&.twitter{
			.bq4{
				p{
					color:$secondarySlateDark;
				}
			} // end .bq4

		} // end .twitter

		&.instagram{

			.center{
				position:relative;

				.image-container{
					background-color:$white;
					position: relative;
					width:100%; //318px;
					height:217px;
					margin:0 auto;

					.right,
					.left{
						position: absolute;
						top: 10px;

						div{
							background-size: cover;
							background-position: center center;
							background-repeat: no-repeat;
							display:block;
						}
					}

					.right{
						padding-left: px-em(5px);
						right:10px;
						width:percentage( 197 / 318 ); 
						height:percentage( 197 / 217 ); 

						div{
							width:100%; 
							height:100%; 

						}
					} // end right

					.left{
						left:10px;
						width:percentage( 96 / 318 ); 
						height:percentage( 192 / 217 );

						div{
							width:100%; 
							height:50%;
						}
						
						.last{
							margin-top: px-em(5px);
						}						

					} // end left

				} //.image-container
				
			} // end center

			.bottom{
			  position: relative;
			  display: block;
				text-align: center;
			  clear: both;
			  text-align:center;
			} // end .bottom
				

		} // end &.instagram
	
	} // end sonys-voice

	// TYPE: FLICKR
	.flickr{
		.top{
			.icon-container{
				position: relative;
				width: auto; 
				height: 44px;

				.white-bg{
					position: absolute;
					top: 0;
					left: 0;
					bottom: 0;
					right: 0;
					width:100%;
					height:100%;
					z-index: -1;
					overflow:hidden;
					color:$white;
					font-size:2.8em;
				} // end .white-bg


				.left,
				.right{
					width: auto;
					height: auto;
					padding: 15px 0 0 0;
					font-size: 0.84em;
					z-index: 2;
				} // end .left, .right
				
				.left{
					color:$flickrBlueColor;
				} // end .left

				.right{
					color:$flickrPinkColor;
				} // end .right
			} // end .fonticon-flickr

			// user and title
			.meta{
				margin-top:8px;
				&.p4{
					margin-bottom:0;
				} // end .p4

				.user{
			  	color:$gray20;
			  } // end .user
			} // end meta

		} // end top

	  .center{
	    position:relative;
	    //border:2px solid green;  
	    
			.image-container{
		    //border:2px solid purple; 
	      background-color:$white;
	      padding:10px;
	      display:inline-block;
	      
			}

      .top-row,
			.bottom-row{  
				div{
					width:32%;
					display:inline-block; 
				}  
			}    
      
      // first two in each row (1,2,4,5)
      .top-row div:nth-child(3n+2),
			.bottom-row div:nth-child(3n+2){
        //padding-right:5px;
        margin:0 px-em(5px); ;
      }  
      
			.top-row{
				margin-bottom:5px;
			}
	  } // end center

	} // end .flickr


	// UI ELEMENTS
	.UI_ELEMENTS{}
	  .pagination-bullets{
	    display:block;
	    position:relative;
	    bottom:0;
	    left:0;
	  } // end .pagination-bullets    

	  .nav-paddles{
	  	position: absolute;
			left: 0;
			top: 50%;
			padding:20px;
			z-index: 99;
			width:100%;
			margin-top: -20px;

			.nav-paddle{
				position: absolute;
				top:0;
			}  // end .nav-paddle

			.nav-paddle-prev{
				left: 7px;
			} // end .nav-paddle-prev

			.nav-paddle-next{
				right:7px;
			} // end .nav-paddle-next

	  } // end .nav-paddles

	  .navigation-container{
	    position: absolute;
	    bottom: 40px;
	    left: 50%;
	    margin-left: -22px; 
	  }

	  .loader{
	  	height: 300px;
			width: 100%;
			padding-top: 10%;
			z-index:999;
			display:none;
	  }


} // end .tcc-wrapper 

 
