include ../../../common/html/jade-helpers.jade
+includeCSS('editorial-slideshows-e4')
+includeJavascriptModule('editorial-slideshows-e4')

//- Mixin for slides
mixin editorialSlides(data)
  if data.submodules
    for slide in data.submodules
      slideData = locals.data( slide.data )

      - style = slideData.band && slideData.band.style ? slideData.band.style : false
      slideClasses = [ "editorial-carousel-slide" ]
      if style
        - slideClasses.push( style )

      div(class=slideClasses)
        +iQBackgroundImage(slideData.productImg , [ "hero" ])
        if slideData.band
          .slide-band.box
            p.p4 !{ slideData.band.copy }
              if slideData.band.link
                | !{ " " }
                +link( slideData.band.link )

//- Main section wrapper for slides
+mainElement( [ "editorial-slideshow-container" , data.config.mode ] )
  .editorial-slideshow.container
    .editorial-carousel-wrapper
      .editorial-carousel
        +editorialSlides(data)
