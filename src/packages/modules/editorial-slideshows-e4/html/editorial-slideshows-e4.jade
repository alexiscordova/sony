include ../../../common/html/jade-helpers.jade
+includeCSS('editorial-slideshows-e4')
+includeJavascriptModule('editorial-slideshows-e4')

//- Mixin for slides
mixin editorialSlides(data)
  if data.submodules
    for slide in data.submodules
      slideData = locals.data( slide.data )
      .editorial-carousel-slide( class=slideData.variation )
        +iQImage(slideData.productImg)
        if slideData.band
          bandClass = slideData.band.background ? slideData.band.background : false
          .slide-band(class=bandClass)
            p.p3 !{ slideData.band.copy }
            if slideData.band.link
              +link( slideData.band.link, [ "lt3" ] )

//- Main section wrapper for slides
+mainElement( [ "editorial-slideshow-container" , data.config.mode ] )
  .editorial-slideshow.container
    .editorial-carousel-wrapper
      .editorial-carousel
        +editorialSlides(data)
