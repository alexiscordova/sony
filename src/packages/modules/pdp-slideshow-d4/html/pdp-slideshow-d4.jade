include ../../../common/html/jade-helpers.jade
+includeJavascriptModule('pdp-slideshow-d4')

- desc = 'Here are some modules with unique data:'
- layout1 = [ "" ]

mixin pdpSlide(data)
  for slide in data.submodules
    slideData = locals.data( slide.data )
    .pdp-slideshow-slide( class= slideData.variation, data-mode=slideData.mode )
      if slideData.mode == 'imageGallery'
        if slideData.variation == 'type1'
          .ghost-center-wrap
            .ghost-center
              +iQImage(slideData.productImg)
        else if slideData.variation == 'type2'
          +iQImage(slideData.productImg)

mixin pdpThumbs(data)
 for slide in data.submodules
  slideData = locals.data(slide.data)
  li.thumb
    a( class=data.config.variation , href='#' )
      span(class='active-highlight')
      .ghost-center-wrap
        .ghost-center
          +iQImage(slideData.thumb)
.container
  .grid
    h2.l1= data.config.sectionTitle

section.pdp-slideshow
  .pdp-slideshow-outer
    .pdp-slideshow-inner
      +pdpSlide(data)
  - clsss = 'thumb-nav ' + data.config.variation 
  ul( class= clsss )
    +pdpThumbs(data)