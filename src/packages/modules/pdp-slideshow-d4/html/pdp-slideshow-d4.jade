include ../../../common/html/jade-helpers.jade
+includeCSS('pdp-slideshow-d4')
+includeJavascriptModule('pdp-slideshow-d4')

//- Mixin for slides
mixin pdpSlide(data)
  for slide in data.submodules
    slideData = locals.data( slide.data )
    .pdp-slideshow-slide( class= slideData.variation, data-mode=slideData.mode )
      if slideData.mode == 'imageGallery'
        if slideData.variation == 'type1'
          .ghost-center-wrap
            .ghost-center
              +iQImage(slideData.productImg)
        else if slideData.variation == 'type2'
          +iQImage(slideData.productImg)
      else if slideData.mode == 'video'
        +sonyVideo(slideData.video)

//- Mixin for thumbnails
mixin pdpThumbs(data)
 for slide in data.submodules
  slideData = locals.data(slide.data)
  li.thumb
    a( class=data.config.variation , href='#' )
      span(class='active-highlight')
      .ghost-center-wrap
        .ghost-center
          +iQImage(slideData.thumb)

//- Container for header, may not need this here
if data.config.sectionTitle
  .container
    .grid
      h2.l1= data.config.sectionTitle

moduleId = data.id ? data.id : false

//- Main section wrapper for slides and navigation
section.pdp-slideshow(id=moduleId)
  .pdp-slideshow-outer
    .pdp-slideshow-inner
      +pdpSlide(data)
  - clsss = 'thumb-nav ' + data.config.variation
  ul( class= clsss )
    +pdpThumbs(data)