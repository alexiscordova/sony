include ../../../common/html/jade-helpers.jade
+includeCSS('pdp-slideshow-d4')
+includeJavascriptModule('pdp-slideshow-d4')

//- Mixin for slides
mixin pdpSlide(data)
  for slide in data.submodules
    slideData = locals.data( slide.data )
    .pdp-slideshow-slide( class= slideData.variation, data-mode=slideData.mode )
      .ghost-center-wrap
        .ghost-center
          if slideData.mode == 'imageGallery'
            +iQImage(slideData.productImg, 'update-always')
          else if slideData.mode == 'video'
            +sonyVideo(slideData.video)

//- Mixin for thumbnails
mixin pdpThumbs(data)
 for slide in data.submodules
  slideData = locals.data(slide.data)
  li.thumb
    a( class=data.config.variation , href='#' )
      span.active-highlight
      .ghost-center-wrap
        .ghost-center
          +iQImage(slideData.thumb)

//- Container for header, may not need this here
if data.config.sectionTitle
  .container
    .grid
      h2.l1= data.config.sectionTitle

//- Main section wrapper for slides and navigation
+mainElement( ["pdp-slideshow"] )
  .pdp-slideshow-outer
    .pdp-slideshow-inner
      +pdpSlide(data)
  - clsss = 'thumb-nav ' + data.config.variation
  ul( class= clsss )
    +pdpThumbs(data)