include ../../../common/html/jade-helpers.jade
+includeCSS('pdp-slideshow-d4')
+includeJavascriptModule('pdp-slideshow-d4')

+includeCSS('sony-video')
+includeJavascriptModule('sony-video')

//- Mixin for slides
mixin pdpSlide(data)
  for slide in data.submodules
    slideData = locals.data( slide.data )
    //- Videos are always `type2`
    mode = slideData.mode
    variation = mode == 'video' ? 'type2' : slideData.variation
    .pdp-slideshow-slide( class=variation, data-mode=mode )
      .pdp-slide-inner.ghost-center-wrap
        if slideData.mode == 'imageGallery'
          +iQImage(slideData.productImg, 'ghost-center update-always')
        else if slideData.mode == 'video'
          +sonyVideo( slideData.video, 'ghost-center' )

//- Mixin for thumbnails
mixin pdpThumbs(data)
 for slide in data.submodules
  slideData = locals.data(slide.data)
  li.thumb
    a( class=data.config.variation , href='#' )
      span.active-highlight
      .ghost-center-wrap
        .ghost-center
          +iQImage(slideData.thumb)

//- Main section wrapper for slides and navigation
+mainElement( ["pdp-slideshow"] )
  .pdp-slideshow-outer
    .pdp-slideshow-inner
      +pdpSlide(data)
  clsss = 'thumb-nav ' + data.config.variation
  ul( class= clsss )
    +pdpThumbs(data)