include ../../../common/html/jade-helpers.jade
+includeJavascriptModule('editorial-360viewer-e8')

- type = data.type
- image = data.sequence[0].image || null
- extraclass = image.classes || ""
- id = data.id || ""
- isDark = data.dark ? "dark" : "light"

.e360
  .outer
    .image-module-360
      if data.heights 
        string = "#"+id +" {height:" +data.heights.desktop+"} @media (min-width: 48em) and (max-width: 61.1875em) {#"+id+" {height: "+data.heights.tablet+"}} @media (max-width: 47.9999em) { #"+id+" {height: "+data.heights.phone+"}} "
        style(type = "text/css")
          #{string}
        
      if data.background == "true"
        .image-module.track-by-background.iq-img(id= id, class= extraclass, alt= image.alt, data-src-desktop= image.srcDesktop, data-src-tablet= image.srcTablet, data-src-phone= image.srcPhone, data-src-desktop-highres= image.srcDesktopHighRes, data-src-tablet-highres= image.srcTabletHighRes, data-src-phone-highres= image.srcPhoneHighRes)
      
      else
        img.iq-img(id= id, class= extraclass, alt= image.alt, data-src-desktop= image.srcDesktop, data-src-tablet= image.srcTablet, data-src-phone= image.srcPhone, data-src-desktop-highres= image.srcDesktopHighRes, data-src-tablet-highres= image.srcTabletHighRes, data-src-phone-highres= image.srcPhoneHighRes)
          noscript
            img(src= image.noscriptsrc)

  .controls.container
    .grid.no-grid-at-767
      .span12
        .table-center-wrap
          .table-center(class=isDark)
            i.fonticon-10-chevron-reverse
            span.instructions.l3(class=isDark) DRAG
            i.fonticon-10-chevron