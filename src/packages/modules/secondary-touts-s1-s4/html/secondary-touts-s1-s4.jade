include ../../../common/html/jade-helpers.jade
+includeCSS('secondary-touts-s1-s4')
+includeJavascriptModule('secondary-touts-s1-s4')

.st-grid

  for item in content

    if item.objectSize == 'span8'
      - item.c = 'span8'
      - item.s = 'content-8'
    else if item.objectSize == 'span4'
      - item.c = 'span4'
      - item.s = 'content-4'
    else if item.objectSize == 'span6'
      - item.c = 'span6'
      - item.s = 'content-6'
    else if item.objectSize == 'span12'
      - item.c = 'span12'
      - item.s = 'content-12'

    if content.largeTout
      - item.largeTout = true

    if item.whatsNewCarousel
      e = {"locals": locals, "item": item}
      !{locals.partial('packages/modules/whats-new-tout-s4/html/whats-new-tout-s4-carousel.jade', e)}

    else
      e = {"locals": locals, "item": item}
      .st-item(class=item.c)(class=item.s)
        !{locals.partial('packages/modules/secondary-touts-s1-s4/html/secondary-touts-s1-s4-item.jade', e)}
