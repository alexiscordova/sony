include ../../../common/html/jade-helpers.jade

mixin featureList( list, extraClasses)
  - classes = 'feature-list'
  - extraClasses = extraClasses || false
  - if ( extraClasses ) classes += ' ' + extraClasses
  ul(class=classes)
    each li in list
      li.feature
        p.icon(class= li.icon)
        p.p2= li.copy
          //- if li.link
          //-   a.bt3= li.linkLabel
            //- li.link

mixin definitionList( list, isHorizontal )
  - isHorizontal = isHorizontal || false
  - clss = isHorizontal ? 'dl-horizontal' : null
  dl(class=clss)
    each li in list
      dt.l3: strong= li.title
      if li.copy
        dd.p3= li.copy


//- +iQImage(module.images[0],'tcc-image')

//- TOP DATA
- top = data.top

//- CENTER DATA
- center = data.center
- features = center.features
- isFeatures = features.length > 0

- specs = center.specs
- isSpecs = specs.length > 0

- measurements = center.measurements
- isMeasurements = measurements.length > 0

- extras = center.extras
- isExtras = extras.length > 0

//- MOVE TO MIXIN!
- columnCount = 0
- centerSpanClass = []

if(isFeatures) 
  - columnCount = columnCount + 1

if(isSpecs)
  - columnCount = columnCount + 1

if(isMeasurements)
  - columnCount = columnCount + 1

case columnCount
 when 2
   - centerSpanClass.push("span6")
 when 3
   - centerSpanClass.push("span4")

//- END MOVE TO MIXIN!


//- BOTTOM DATA
- bottom = data.bottom
- textTout = bottom.textTout
- isTextTout = textTout.length > 0

- bottomBtn = bottom.bottomBtn
- isBottomBtn = bottomBtn.buttonLink != ""

- bottomSpanClass = []

if(isTextTout && isBottomBtn)
  - bottomSpanClass.push("span6")

//- START PRODUCT DETAILS
section.product-details.container
  .top.grid
    .title= top.title
    .desc= top.desc

  .center.grid
    if(isFeatures)
      .features(class= centerSpanClass)
        +featureList(features)

    if(isSpecs)
      .specs(class= centerSpanClass)
        +definitionList(specs, false)
      
    if(isMeasurements)
      .measurements(class= centerSpanClass)
        for measurement in measurements
          .measurement
            p= measurement.height.centimeters

        if(isExtras)
          .extras
            for extra in extras
              .extra
                p= extra.title
                p= extra.copy
  
  .bottom.grid
    if(isTextTout)
      .text-tout(class= bottomSpanClass)
        .copy= textTout.copy
    
    if(isBottomBtn)
      .bottomBtn(class= bottomSpanClass)
        .buttonLabel= bottomBtn.buttonLabel


//- END PRODUCT DETAILS