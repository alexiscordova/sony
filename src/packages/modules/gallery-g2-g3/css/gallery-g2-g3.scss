@import "../../../common/css/_base/variables";
@import "../../../common/css/_base/mixins";

[data-target$="-fake"] {
  pointer-events: none;
}


// 8888888b.                       888                   888         88888888888                888
// 888   Y88b                      888                   888             888                    888
// 888    888                      888                   888             888                    888
// 888   d88P 888d888 .d88b.   .d88888 888  888  .d8888b 888888          888   .d88b.  888  888 888888
// 8888888P"  888P"  d88""88b d88" 888 888  888 d88P"    888             888  d8P  Y8b `Y8bd8P' 888
// 888        888    888  888 888  888 888  888 888      888             888  88888888   X88K   888
// 888        888    Y88..88P Y88b 888 Y88b 888 Y88b.    Y88b.           888  Y8b.     .d8""8b. Y88b.
// 888        888     "Y88P"   "Y88888  "Y88888  "Y8888P  "Y888          888   "Y8888  888  888  "Y888


// Price text module
.product-content {
  margin-top: .4375em; // 7
  line-height: 1.3;

  .product-name {
    color: $gray20;
    margin-bottom: 0;
  }

  .product-model {
    color: $gray40;
    margin-bottom: 0;
  }

  .product-rating {
    margin: .5em 0 1em;
    color: $gray40;
    @include text-overflow();
  }

  .price-title {
    margin: 0;
  }

  .product-price {
    margin-top: 1em;
    color: $gray40;
    @include text-overflow();
  }
}


.product-meta {
  margin: 0 0 1em;
  padding: 0 0 0 1em;
  list-style-type: square;
  color: $gray40;

  li {
    margin-bottom: 2px;
  }
}


//  .d8888b.           888 888
// d88P  Y88b          888 888
// 888    888          888 888
// 888         8888b.  888 888  .d88b.  888d888 888  888
// 888  88888     "88b 888 888 d8P  Y8b 888P"   888  888
// 888    888 .d888888 888 888 88888888 888     888  888
// Y88b  d88P 888  888 888 888 Y8b.     888     Y88b 888
//  "Y8888P88 "Y888888 888 888  "Y8888  888      "Y88888
//                                                   888
//                                              Y8b d88P
//                                               "Y88P"

// Gallery
// -------------------------

// 60x60 gif
$gifWidth: 60px;
$gifHeight: 60px;
.loading.gallery-loader {
  position: absolute;
  z-index: 400;
  width: 100%;
  height: $gifHeight;
  left: 0;
  top: 200px;

  img {
    position: absolute;
    left: 50%;
    top: 50%;
    margin-left: -$gifWidth / 2;
    margin-top: -$gifHeight / 2;
  }
}

.gallery-content {
  margin-top: 1.5em;
  padding-bottom: 4.375em;
  overflow: visible;
}

.gallery.disabled {
  visibility: hidden;
}

// Give multiple gallery sections a border top
.gallery + .gallery > *:first-child {
  border-top: .1875em solid $gray70;
  margin-top: 1.875em;
  padding-top: 1.875em;
}

.gallery-detailed .products {
  margin-top: -3.125em;
}

.gallery .products {
  position: relative; // don't make shuffle set it
  overflow: hidden;
}

// filter: alpha(0) not working on elements inside shuffle...
.lt-ie9 .gallery.fade {
  position: relative;
  left: -9999px;

  &.in {
    position: static;
    left: auto;
  }
}

.featured-gallery-title {
  margin-bottom: 0;
}


// Gallery Items
// -------------------------

.gallery .shuffle .shuffle-item.gallery-item {
  margin-left: 0;
}





// 8888888b.                       888                   888          .d8888b.  888            d8b
// 888   Y88b                      888                   888         d88P  Y88b 888            Y8P
// 888    888                      888                   888         Y88b.      888
// 888   d88P 888d888 .d88b.   .d88888 888  888  .d8888b 888888       "Y888b.   888888 888d888 888 88888b.
// 8888888P"  888P"  d88""88b d88" 888 888  888 d88P"    888             "Y88b. 888    888P"   888 888 "88b
// 888        888    888  888 888  888 888  888 888      888               "888 888    888     888 888  888
// 888        888    Y88..88P Y88b 888 Y88b 888 Y88b.    Y88b.       Y88b  d88P Y88b.  888     888 888 d88P
// 888        888     "Y88P"   "Y88888  "Y88888  "Y8888P  "Y888       "Y8888P"   "Y888 888     888 88888P"
//                                                                                                 888
//                                                                                                 888
//                                                                                                 888

// Product Strip
// -------------------------

.product-strip-wrap {
  padding-top: 3.75em; // 60px
  padding-bottom: 3.75em; // 60px

  &:not(:first-child) {
    border-top: .125em solid $gray70;
  }
}

.product-strip-heading {
  margin-top: 0;
  margin-bottom: 1.25em;
}

.product-strip {

  .gallery-item {
    margin-top: 0;
  }
}


// 8888888888 d8b 888 888
// 888        Y8P 888 888
// 888            888 888
// 8888888    888 888 888888 .d88b.  888d888 .d8888b
// 888        888 888 888   d8P  Y8b 888P"   88K
// 888        888 888 888   88888888 888     "Y8888b.
// 888        888 888 Y88b. Y8b.     888          X88
// 888        888 888  "Y888 "Y8888  888      88888P'


// Filters
// -------------------------

// Holdes Filter Results button, compare button, # products, and sorting dropdown
.filter-display-bar {
  position: relative;
  // z-index: 1;
  z-index: 11;

  .btn {
    margin-bottom: 0;
  }

  .slide-toggle,
  .accessory-finder {
    margin-left: 2.5em;
  }

  .btn-alt-plus {
    color: $gray20;
    background-color: $gray70;
    border-color: $gray70;

    &:hover {
      color: $white;
      background-color: $gray40;
    }
  }

  .btn + .btn {
    margin-left: .375em;
  }
}

.filter-options {
  position: relative;
  padding-top: 1em;
  padding-bottom: 1em;

}

.sort-options {
  margin-top: .25em;
}

.sort-options .native-dropdown {
  position: relative;
  display: none;
  cursor: pointer;

  // -webkit-appearance won't work for Firefox and IE
  &.moz-ie {
    border-right: 1px solid $gray70;
    overflow: hidden;

    select {
      width: 130%;
      overflow: hidden;
      padding-top: 4px;
    }
  }

  select {
    margin-bottom: 0;
    height: 36px;
    -webkit-appearance: none;
    padding: 0 26px 0 12px;
    border-radius: 0;
    line-height: 1.5;
    @include text-overflow( false );
  }

  // arrows
  .absolutely {
    position: absolute;
    top: 55%;
    margin-top: -8px;
    right: 12px;

    // Let clicks/taps pass through. Doesn't work in IE
    pointer-events: none;
  }
}

.touch .sort-options .native-dropdown {
  display: inline-block;
}

.touch .sort-options .dropdown {
  display: none;
}

// Filter labels ( active filters )
.active-filters-wrap {
  position: relative;
  z-index: 1;

  .slide-toggle-target.in ~ & {
    margin-top: 1.25em;
  }
}

.active-filters {

  &.has-active-filters {
    margin-bottom: 1.25em;
  }

  // Give active filter labels some spacing
  .label-close {
    margin-right: 1.25em;
  }

  .label-close:last-of-type {
    margin-right: px-em(26, 11);
  }

  .clear-all-filters {
    display: inline-block;
    margin-bottom: 0;
    cursor: pointer;
    color: $gray20;
    @include transition();

    &:hover {
      color: $buttonBlueHover;
    }
  }
}

.filter-label {
  color: $gray40;
}

.filter-container {
  position: relative;
  margin-top: 1.375em;
  margin-bottom: 1.375em;
  max-width: 17.625em; // 282 per Val

  .span12 & {
    max-width: none;
  }

  .filter-label {
    margin-bottom: 20px;
  }

  // Fix webkit flicker bug
  .btn-square {
    @include translate3d(0,0,0);
  }

  // Override default btn-group functionality to have them drop to the new line
  .btn-group {
    white-space: normal;
    margin-bottom: 0;

    .btn {
      margin-bottom: .375em;
    }

    > .btn:not(:last-child) {
      margin-right: .375em;
    }
  }

  // Checkbox vertical spacing
  .control-inline:not(:first-child) {
    margin-top: .375em;
  }

  .media-heading {
    color: $gray20;
  }

  .media[disabled],
  .media[disabled] .media-heading,
  .media[disabled] p {
    color: $gray50;
  }

  .media + .media {
    margin-top: 1.25em;
  }

  .help-container {
    position: relative;
    text-align: right;
    cursor: pointer;
    clear: right;

    .fonticon-10-circle-q {
      color: $gray40;
      @include transition();
    }

    &:hover .fonticon-10-circle-q {
      color: $gray20;
    }

    &.pull-right .fonticon-10-circle-q {
      margin-top: -3px;
    }


    .help-label {
      padding-right: .625em;
      @include transition(color $transitionNormal $easeNormal);
      color: $gray20;
    }

    &:hover .help-label {
      // color: $gray10;
    }

    .fonticon-10-circle-q {
      line-height: 0;
      vertical-align: middle;
    }
  }
}

.filter-container + .filter-container {
  margin-top: 2.75em;
}

.sort-options .filter-label {
  display: inline-block;
  vertical-align: baseline;
  padding-right: 8px; // has a font-size set on it
}

// Setting a min height on this will push the trigger point for infinite scroll down
// We also need to put this above the shuffle container and then prevent propagation to the
// shuffle container
.zero-products-message {
  position: relative;
  z-index: 5;
  min-height: 25em;
}



// Range control
// -------------------------
.range-control-wrap,
.range-output-container {
  margin: 0.625em 0.625em 0;
}

.range-output-container {
  margin-top: 0;
}

.gallery .range-control-wrap {
  position: relative;
}

// Take it out of the document flow. Hopefully less reflows/repaints
.gallery .range-control {
  position: absolute;
  width: 100%;
}


// 88888888888       888
//     888           888
//     888           888
//     888   8888b.  88888b.  .d8888b
//     888      "88b 888 "88b 88K
//     888  .d888888 888  888 "Y8888b.
//     888  888  888 888 d88P      X88
//     888  "Y888888 88888P"   88888P'


// Tabs
// -------------------------

.gallery-tabs {

  .modal-open & {
    visibility: hidden;
  }

  .tabs {
  }

  .tab {
    text-align: center;

    [class*="fonticon-30-"] {
      margin: -.1875em; // 9/48
    }

    // Change the icon color on hover/active
    &.active i,
    &:hover i {
      color: $buttonOrange;
    }
  }

  // Has to be pixels because of ghost-centering
  .holder-for-icon {
    height: 28px;
    margin-bottom: 12px;

    i {
      color: $gray40;
      @include transition();
    }
  }

  .tab-label {
    white-space: nowrap;
    margin-bottom: 0;
    line-height: 1;
  }
}



// Accessories
// -------------------------
.gallery .see-all {
  margin-top: 1.25em;
  text-align: right;
}

//  .d8888b.                                                                88888888888                888
// d88P  Y88b                                                                   888                    888
// 888    888                                                                   888                    888
// 888         .d88b.  88888b.d88b.  88888b.   8888b.  888d888 .d88b.           888   .d88b.   .d88b.  888
// 888        d88""88b 888 "888 "88b 888 "88b     "88b 888P"  d8P  Y8b          888  d88""88b d88""88b 888
// 888    888 888  888 888  888  888 888  888 .d888888 888    88888888          888  888  888 888  888 888
// Y88b  d88P Y88..88P 888  888  888 888 d88P 888  888 888    Y8b.              888  Y88..88P Y88..88P 888
//  "Y8888P"   "Y88P"  888  888  888 88888P"  "Y888888 888     "Y8888           888   "Y88P"   "Y88P"  888
//                                   888
//                                   888
//                                   888


.tone-bar {
  position: relative;
  z-index: 20;
  top: 0;
  left: 0;
  padding-top: px-em(19);
  padding-bottom: px-em(25);
  width: 100%;
  background: $gray80;

  // Fix it, change padding
  &.fixed {
    position: fixed;
    padding-top: px-em(20);
    padding-bottom: px-em(14);
    @include transition(padding $transitionNormal $easeNormal $transitionNormal);

    // Replace the 70px of space that the .tone-bar takes up
    & + .container {
      margin-top: px-em(70);
    }
  }

  .mini-swatch {
    vertical-align: middle;
  }
}

.compare-gallery-title {
  margin-right: 1em;
  margin-bottom: 0;
  @include transition();
}

.compare-reset {
  display: block;
  color: $gray20;
  margin-top: 5px;
  margin-bottom: 0;

  &.disabled {
    color: $gray50;
  }

  i {
    position: relative;
    font-size: 16px; // don't get font size from the font
    margin-right: .4375em;
  }
}

// Holds labels and compare-items
.compare-container {
  padding-bottom: 5em;

  // Show the navigation
  &:hover .compare-nav {
    opacity: 1;
  }

  .no-opacity &:hover .compare-nav {
    display: block;
  }
}

// Wrapper for the items in the compare tool. Sibling of the labels.
.compare-items-wrap {
  position: relative;
  height: 100%; // Get parent's height
  overflow: visible !important; // override iscroll

  // .lt-ie9 &,
  // .sonytablets & {
  //   overflow: hidden !important;
  // }
}

.compare-items-container {
  height: 100%;
}

// .compare-nav {
//   position: absolute;
//   z-index: 15;
//   top: 330px;
//   width: 100%;
//   opacity: 0;
//   @include transition();

//   .no-opacity & {
//     display: none;
//   }

//   // Hide nav buttons when the sticky nav is active
//   &.sticky-nav-open .nav-prev,
//   &.sticky-nav-open .nav-next {
//     @include opacity(0);
//   }

//   .nav-prev,
//   .nav-next {
//     position: absolute;
//     top: 0;
//   }

//   .nav-prev {
//     left: 60px;
//   }

//   .nav-next {
//     right: 60px;
//   }
// }

// Compare Items
.compare-item {
  position: relative;
  overflow: hidden;
  background: $white;
  color: $gray20;
  @include transition(width $transitionNormal $easeNormal, opacity $transitionNormal $easeNormal);

  .gallery & {
    margin: 0;
  }

  &.faded {
    opacity: 0;
  }

  &.no-width {
    width: 0;
  }

  .product-img {
    text-align: center;
  }

  .compare-sticky-header .product-name-wrap {
    padding-right: 2.5em;
  }

  .product-content .product-name-wrap,
  .product-rating,
  .product-price,
  .color-swatches {
    margin-bottom: 1.25em;
    padding-right: 1.25em;
    padding-left: 1.25em;
  }

  .detail {
    color: $gray20;
    min-height: 2.5em;
    padding-right: 1.25em;
    padding-left: 1.25em;

    // Copy paste the .visuallyhidden class
    .cell-label {
      border: 0;
      clip: rect(0 0 0 0);
      height: 1px;
      margin: -1px;
      overflow: hidden;
      padding: 0;
      position: absolute;
      width: 1px;
    }
  }

  .detail.highlighted {
    background: $lemon;
  }

  .media p:not(.media-heading) {
    color: $gray40;
  }

  .product-model {
    color: $gray40;
  }

  .product-name,
  .product-model {
    margin-bottom: 0;
  }
}

// .takeover-sticky-header {
//   position: absolute;
//   z-index: 20;
//   top: -6.25em;
//   left: -999em;
//   width: 100%;
//   background: $white;
//   @include transition(top $transitionNormal ease-in, left 0s $transitionNormal);

//   .native-scrolling & {
//     position: fixed;
//   }

//   .no-sticky-headers & {
//     border-bottom: 1px solid $gray70;
//   }

//   &.open {
//     left: 0;
//     top: 0;
//     @include transition-delay(0s);
//     @include transition-timing-function(ease-out);
//   }

//   .sticky-nav-title {
//     padding: 18px 0;
//     margin-bottom: 0;
//   }

//   .box-close {
//     top: 15px;
//   }
// }


// .compare-item-remove {
//   position: absolute;
//   top: 0;
//   right: 0;
// }


