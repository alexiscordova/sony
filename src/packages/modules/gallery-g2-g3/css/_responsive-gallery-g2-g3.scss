

$galleryThreeColMin: px-em(568px);
$galleryThreeColMax: px-em(767px);
$galleryFourColMin: px-em(768px);
$galleryFourColMax: px-em(979px);


// Recommended Tile
@media ( max-width: $galleryThreeColMax ) {

  .gallery-content .gallery-title {
    margin-top: px-em( 40 );
  }

  .gallery-favorites .products {
    overflow: visible;
  }

  .no-favs {

    .grid {
      padding-top: px-em( 40 );
      padding-bottom: px-em( 30 )
    }
  }


  .gallery-title {

    .title {
      margin-bottom: 10px;
    }

    .share-options {
      margin-top: 0;
      float: right;
      top: 22px; // magic number
    }
  }

  .gallery-item.recommended-tile {
    overflow: visible;
    margin: px-em( 25 ) 0 px-em( 22 );

    .recommended-title {
      width: 150%;
    }

    .media-list {
      @include clearfix();
    }

    .media {
      float: left;
      width: px-em( 132 );
      height: 100%;
      padding: px-em( 5 ) 0 px-em( 22 );
      margin-right: px-em( 5 );

      &:last-child {
        margin-right: 0;
      }
    }

    .media + .media {
      margin-top: 0;
    }

    .media .pull-left {
      float: none;
      margin-right: 0;
      margin-bottom: px-em( 8 );
      max-width: none;

      .media-object {
        margin: auto;
      }
    }

    .ghost-center {
      padding: 0 10px;
    }

  }
}



// 8888888b.                       888                   888          .d8888b.  888            d8b
// 888   Y88b                      888                   888         d88P  Y88b 888            Y8P
// 888    888                      888                   888         Y88b.      888
// 888   d88P 888d888 .d88b.   .d88888 888  888  .d8888b 888888       "Y888b.   888888 888d888 888 88888b.
// 8888888P"  888P"  d88""88b d88" 888 888  888 d88P"    888             "Y88b. 888    888P"   888 888 "88b
// 888        888    888  888 888  888 888  888 888      888               "888 888    888     888 888  888
// 888        888    Y88..88P Y88b 888 Y88b 888 Y88b.    Y88b.       Y88b  d88P Y88b.  888     888 888 d88P
// 888        888     "Y88P"   "Y88888  "Y88888  "Y8888P  "Y888       "Y8888P"   "Y888 888     888 88888P"
//                                                                                                 888
//                                                                                                 888
//                                                                                                 888

// Product Strip
// -------------------------

@media ( max-width: $galleryThreeColMax ) {

  .product-strip {
    padding-bottom: 1.625em;

    // Give items 3-n a margin top
    .gallery-item:nth-child(n+3) {
      margin-top: 1.625em;
    }

    // Give odd items zero margin left because they're not inside their own grid
    .gallery-item:nth-child(odd) {
      margin-left: 0;
    }
  }

  .product-strip-wrap {
    padding-top: 2em;
    padding-bottom: 2em;
  }

  .product-strip-header {

    .product-strip-heading,
    .see-all-link {
      float: none;
    }

    .product-strip-heading {
      margin-bottom: .25em;
    }

    .see-all-link {
      display: block;
      margin-bottom: .5em;
    }
  }
}


// 8888888888 d8b 888 888                           888b     d888  .d88888b.
// 888        Y8P 888 888                           8888b   d8888 d88P" "Y88b
// 888            888 888                           88888b.d88888 888     888
// 8888888    888 888 888888  .d88b.  888d888       888Y88888P888 888     888 .d8888b
// 888        888 888 888    d8P  Y8b 888P"         888 Y888P 888 888     888 88K
// 888        888 888 888    88888888 888           888  Y8P  888 888 Y8b 888 "Y8888b.
// 888        888 888 Y88b.  Y8b.     888           888   "   888 Y88b.Y8b88P      X88
// 888        888 888  "Y888  "Y8888  888           888       888  "Y888888"   88888P'
//                                                                       Y8b


// 980-1199
@media ( min-width: 61.25em ) and ( max-width: 74.9375em ) {

  // Per Val

  .filter-container {
    max-width: 240px;

    [class^="swatch-"],
    [class*=" swatch-"] {
      width: 2.25em;
      height: 2.125em;
    }

    .color-swatches > :not(:last-child){
      margin-right: .25em;
    }

    .btn-square {
      @include wh( 57px, 54px );
      padding-left: 5px;
      padding-right: 5px;
      font-size: 15px;

      // I don't give a shit about your ems!
      &:after {
        font-size: 16px;
      }
    }

    .btn-group > .btn:not(:last-child) {
      margin-right: 5px;
    }

    [class*="fonticon-20-"] {
      font-size: 1.8em;
    }

    .media-heading {
      margin: -4px 0 3px;
    }

  }

}


// 768 - 979
@media ( min-width: 48em ) and ( max-width: 61.1875em ) {

  // This block is the group of media objects. It's a span12, but
  // not in it's own container, so we have to reset the margin-left
  .filter-options .grid > :last-child {
    margin-left: 0;
    margin-bottom: .75em;

    & .filter-container {
      margin-top: 0;
    }
  }

  .sort-options .native-dropdown select {
    height: 34px;
  }

  .filter-options .media-list {

    .media {
      float: left;
    }

    &[data-length="1"] .media {
      width: 100%;
    }

    &[data-length="2"] .media {
      width: 50%;
    }

    &[data-length="3"] .media {
      width: 33.3333333%;
    }

    &[data-length="4"] .media {
      width: 25%;
    }

    &[data-length="5"] .media {
      width: 20%;
    }
  }

  .filter-container .media + .media {
    margin-top: 0;
  }
}


@media (max-width: $galleryThreeColMax) {

  .filter-container {
    margin-bottom: 2.8125em;
    max-width: none;

    &:last-child {
      margin-bottom: 0;
    }

    // Button horizontal spacing
    .btn-group > .btn:not(:last-child) {
      margin-right: .25em;
    }

    .color-swatches > *:not(:last-child) {
      margin-right: .25em;
    }

    // Group vertical spacing
    .media + .media {
      margin-top: 1em;
    }

    .media-heading {
      margin-bottom: 0;
    }
  }

  // Put above shuffle content
  #sort-options-holder {
    position: relative;
    z-index: 5;
    margin-bottom: 1.25em;
  }

  // Filters open, active filters margins
  .slide-toggle-target.in ~ .active-filters-wrap {
    margin-top: 0;
    margin-bottom: 0;
  }

  // Filters open, sorter margins
  .slide-toggle-target.in ~ #sort-options-holder {
    margin-top: .625em;
  }

  // Filters open and active
  .slide-toggle-target.in ~ .active-filters-wrap .has-active-filters {
    margin-top: .625em;
  }

  .active-filters.has-active-filters {
    margin-bottom: .625em;
  }


  .sort-options {
    display: block;
    margin-top: 0;
    float: none;
    clear: both;

    .gallery & {
      margin-left: 0;
    }

    .native-dropdown select {
      height: 31px;
    }

    .native-dropdown,
    .native-dropdown select,
    .dropdown,
    .dropdown-toggle.btn {
      width: 100%;
    }

    .no-touch & .dropdown,
    .touch & .native-dropdown {
      display: block;
    }

    .gallery & .filter-label {
      display: block;
      margin-top: 0;
      margin-bottom: 6px;
    }
  }


  .filter-display-bar {

    .content-right {
      width: 100%;
    }

    .product-count-wrap {
      margin: 0;
    }

    .product-str {
      width: auto;
    }

    .grid .btn {
      float: left;
      min-width: 0;
      margin: 20px 0 0 0;
      @include text-overflow();
    }

    .grid .btn.first {
      clear: both;
      margin-left: 0;
      width: 100%;
    }

    .grid .content-right .btn {
      width: 48%;
      padding-left: 20px;
      text-align: left;
    }
    .grid .content-right .btn + .btn {
      margin-left: 4%;
    }

    // The hidden button takes up space, ugly transition, but who is really going to use this
    .grid .btn.fade {
      height: 0;
      padding: 0;
      margin: 0;

      &.in {
        height: auto;
        padding: 11px 20px 12px;
        margin-top: 13px;
      }
    }
  }
}


// 88888888888       888
//     888           888
//     888           888
//     888   8888b.  88888b.  .d8888b
//     888      "88b 888 "88b 88K
//     888  .d888888 888  888 "Y8888b.
//     888  888  888 888 d88P      X88
//     888  "Y888888 88888P"   88888P'


// Tabs
// -------------------------

// 768-979
@media ( min-width: $galleryFourColMin ) and ( max-width: $galleryFourColMax ) {

  .gallery-tabs {

    $tabWidth: px-em(120px);
    $tabHeight: px-em(84px);
    $iconMarginBottom: px-em( 10px );
    $tabNavTop: ($tabHeight - $navPaddleHeight980) / 2;
    $sidePadding: px-em( 4px );
    .tabs {
      height: $tabHeight;
    }

    .tab {
      @include wh( $tabWidth, $tabHeight );
      padding: 0 $sidePadding;

      i {
        font-size: 3.5em;
      }
    }

    .tab-inside {
      right: $sidePadding;
      left: $sidePadding;
    }

    .holder-for-icon {
      height: px-em( 26px );
      margin-bottom: $iconMarginBottom;
      margin-top: px-em( 14px );
    }

    .tab-nav {
      top: $tabNavTop;
    }
  }

  .gallery-compare {

    // override grid
    .compare-item {
      width: px-em(180);

      // override this
      &.no-width {
        width: 0;
      }
    }
  }
}

// 0-767
@media (max-width: $galleryThreeColMax) {

  .gallery-tabs {

    $tabWidth: px-em(88px);
    $tabHeight: px-em(71px);
    $iconMarginBottom: px-em( 12px );
    $tabNavTop: ($tabHeight - $navPaddleHeight980) / 2;
    $sidePadding: px-em( 2px );
    .tabs {
      height: $tabHeight;
    }

    .tab {
      @include wh( $tabWidth, $tabHeight );
      padding: 0 $sidePadding;

      i {
        font-size: 3em;
      }
    }

    .tab-inside {
      right: $sidePadding;
      left: $sidePadding;
    }

    .holder-for-icon {
      height: px-em( 20px );
      margin-bottom: $iconMarginBottom;
      margin-top: px-em( 10px );
    }

    .tab-nav {
      top: $tabNavTop;
    }
  }
}



//  .d8888b.                                                                  888b     d888  .d88888b.
// d88P  Y88b                                                                 8888b   d8888 d88P" "Y88b
// 888    888                                                                 88888b.d88888 888     888
// 888         .d88b.  88888b.d88b.  88888b.   8888b.  888d888  .d88b.        888Y88888P888 888     888 .d8888b
// 888        d88""88b 888 "888 "88b 888 "88b     "88b 888P"   d8P  Y8b       888 Y888P 888 888     888 88K
// 888    888 888  888 888  888  888 888  888 .d888888 888     88888888       888  Y8P  888 888 Y8b 888 "Y8888b.
// Y88b  d88P Y88..88P 888  888  888 888 d88P 888  888 888     Y8b.           888   "   888 Y88b.Y8b88P      X88
//  "Y8888P"   "Y88P"  888  888  888 88888P"  "Y888888 888      "Y8888        888       888  "Y888888"   88888P'
//                                   888                                                           Y8b
//                                   888
//                                   888

@media (min-width: px-em(1200) ) {
  // We want the width of the grid, but not the .span# sizes that come with it
  .gallery-compare .products {
    width: $fluidGridWidth1200;
  }
}

@media (min-width: px-em(768px)) and (max-width: px-em(979px)) {
  // We want the width of the grid, but not the .span# sizes that come with it
  .gallery-compare .products {
    width: $fluidGridWidth768;
  }
}

@media (max-width: $galleryThreeColMax) {

  .compare-nav,
  .detail-labels-wrap {
    display: none;
  }

  .gallery-compare {

    .tone-bar .legend {
      display: block;
      clear: both;
    }

    .compare-reset {
      margin-top: 3px;
    }

    .compare-wrap {
      position: relative;
      // left: (100% - $mobileContainerWidth480) / 2;
      width: 100%;
      border-left: .0625em solid $gray70;
    }

    .products {
      width: 100%;
    }
  }

  .compare-item {

    .compare-sticky-header {
      height: auto;
      text-align: left;
    }

    .compare-sticky-header img,
    .compare-sticky-header .product-model {
      display: inline-block;
    }

    .compare-sticky-header .product-model {
      position: static;
      vertical-align: middle;
      margin-left: 1em;
    }

    // undo the .visuallyhidden class
    .detail .cell-label {
      clip: auto;
      height: auto;
      margin: 0 0 px-em(14, 10) 0;
      overflow: visible;
      position: static;
      width: auto;
    }
  }

  .sticky-nav.tone-bar {
    padding-top: px-em(18);
  }
}



//        d8888                                                                              8888888888 d8b               888
//       d88888                                                                              888        Y8P               888
//      d88P888                                                                              888                          888
//     d88P 888  .d8888b  .d8888b  .d88b.  .d8888b  .d8888b   .d88b.  888d888 888  888       8888888    888 88888b.   .d88888  .d88b.  888d888
//    d88P  888 d88P"    d88P"    d8P  Y8b 88K      88K      d88""88b 888P"   888  888       888        888 888 "88b d88" 888 d8P  Y8b 888P"
//   d88P   888 888      888      88888888 "Y8888b. "Y8888b. 888  888 888     888  888       888        888 888  888 888  888 88888888 888
//  d8888888888 Y88b.    Y88b.    Y8b.          X88      X88 Y88..88P 888     Y88b 888       888        888 888  888 Y88b 888 Y8b.     888
// d88P     888  "Y8888P  "Y8888P  "Y8888   88888P'  88888P'  "Y88P"  888      "Y88888       888        888 888  888  "Y88888  "Y8888  888
//                                                                                 888
//                                                                            Y8b d88P
//                                                                             "Y88P"


@media ( max-height: px-em( 550 ) ) {
  .accessory-finder {
    top: 0;
    height: 90%;
    margin-top: 2.5%;

    .container,
    .grid {
      height: auto;
    }

    .modal-header {
      max-height: none;
    }

    .modal-body {
      overflow-x: hidden;
      overflow-y: auto;
    }

    .touch & .modal-body {
      overflow: visible;
    }

    &.fade.in { top: 0; }
  }
}


@media ( max-height: px-em( 550 ) ) and ( min-width: px-em( 568 ) ) {

  .modal-header {
    padding: px-em(10) 0 px-em(6);
  }

  // More specificity to override the mq below
  .modal-inner .modal-subhead {
    padding-top: px-em(6);
    padding-bottom: px-em(6);
  }

}

@media ( min-width: px-em(768px) ) and (max-width: px-em(979px) ) {

  .accessory-finder .filter-display-bar .product-count {
    padding-right: 3px;
  }
}

@media ( max-width: px-em(767px) ) {
  .accessory-finder {

    .touch & .container {
      position: relative;
      height: auto;
    }

    .modal-subhead {
      height: auto;
      padding-top: px-em(13);
      padding-bottom: px-em(13);
    }

    .modal-body-inner {
      padding-top: px-em(18);
      padding-bottom: px-em(18 - 4);
    }

    .search-form,
    .help-container {
      float: none;
      width: auto;
      display: block;
    }

    .help-container {
      display: inline-block;
      margin-left: 0;
    }

    #accessory-finder-input {
      width: 100%;
      height: px-em(36, 15);
      padding: 0 px-em(10, 15) 0 px-em(45, 15);
    }
  }
}

@media ( max-width: px-em(567px) ) {

  .accessory-finder {
    background: white;
    width: 100%;
    min-height: 100%;
    height: 100%;
    max-height: 100%;
    margin: 0;
    overflow-x: hidden;
    overflow-y: auto;

    &.fade.in {
      top: 0;
    }

    .modal-inner {
      position: static;
      overflow: visible;
      @include box-shadow(none);
    }

    // turn this into full bleed
    .modal-subhead {
      left: -( (100 - $mobileContainerWidth480) / 2 );
      width: 100 + ( (100 - $mobileContainerWidth480) );

      // turn this into grid and container on the same element
      .grid {
        width: $mobileContainerPlusGridWidth;
      }
    }

    .sort-options {
      margin-bottom: px-em(20);
    }

    .products {
      top: px-em(-4);
    }

    .product-count-wrap {
      margin-top: 0;
    }

    .search-form {
      .input-icon {
        left: px-em(6, 18);
      }

      #accessory-finder-input {
        padding: 0 px-em(10, 15) 0 px-em(30, 15);
      }
    }

    .box-close:not(.box-close-small) {
      @include square( px-em(44) );
    }
  }

  .compat-item {
    margin-top: px-em(20);
    width: 100% !important; // override grid
  }
}








