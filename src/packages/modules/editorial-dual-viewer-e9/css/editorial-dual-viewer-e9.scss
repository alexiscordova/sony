//
// Editorial + Dual Viewer Module (EDV)
// --------------------------------------------------

@import "../../../common/css/_base/variables";
@import "../../../common/css/_base/mixins";

.edv {
  .edv-images {
    @include user-select(none);
    position: relative;
    height:100%;
    margin-bottom:21px;
    height:560px;

    .edv-image {
      position: absolute;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;

      &.image-1 {
        left: 0;
        z-index:1;
      }
        .edv-image-wrapper {
          position: absolute;
          left: 0;
          width: 100%;
          height: 100%;
          background-position: top left;
          background-repeat: no-repeat;
          background-size: cover;
          text-align: center;
          background-color:$white;

          img {
            display: none;
            position: relative;
            width: 100%;
          }
        }

      &.image-2 {
        right: 0;

        .edv-image-wrapper {background-position:center;}
      }
    }

    figcaption {
      position: absolute;
      bottom: -33px;
      text-transform: uppercase;
      color:$gray40;
      display:inline-block;
      width:240px;
    }
    figcaption + figure + figcaption {
      right:0;
      text-align:right;
    }

    .scrubber {
      position: absolute;
      margin-left:-1px;
      width: 2px;
      min-height: 100%;
      bottom:-24px;
      background-color:$gray60;
      z-index: 3;
      color:$white;

      &.dragging .handle,
      .handle:hover {
        padding:4px;

        .inner {
          width:54px;
          height:54px;
          background:$gray40;
          margin:-27px 0 0 -27px;
        }
          i {margin:0 3px;}
      }
    }
      .handle {
        position: absolute;
        top: 50%;
        margin-top:-31px;
        left: -30px;
        width: 62px;
        height: 62px;
        background:url('../../img/editorial-dual-viewer-e9/gray30.png');
        padding:8px;
        cursor:pointer;
        @include border-radius(100px);
        @include transition(.15s);

        &.hoverOn {
          .inner,
          i {@include transition(.15s ease-in);}
        }
      }
        .inner {
          position:absolute;
          width:46px;
          height:46px;
          background:$buttonOrange;
          display:block;
          text-align:center;
          font-size:0.9em;
          top:50%;
          left:50%;
          margin:-23px 0 0 -23px;
          @include border-radius(100px);
          @include transition(.15s ease-out);
        }
          .icons {
            position:absolute;
            top:50%;
            left:50%;
            width:100px;
            margin:-32px 0 0 -50px;
            line-height:60px;
          }
            i {
              display:inline-block;
              margin:0;
              -webkit-font-smoothing: antialiased;
              @include transition(.15s ease-out);
            } 
  }

  // Vertical scrubber
  &.y {
    .edv-images {
      margin-top:33px;

      figcaption {
        width:100%;
        text-align:center;
        top: -26px;
        padding:0;
      }
      figcaption + figure + figcaption {
        top:auto;
        bottom:-33px;
      }
      .scrubber {
        margin-left:0;
        width: 100%;
        height: 2px;
        bottom: auto;
        min-height: 1px;
      }
        .handle {
          left: 50%;
          margin-left:-31px;
          margin-top:-31px;
        }
          .icons {
            margin:-29px 0 0 -48px;
            @include rotate(90deg);
          }
    }
  }

  // For images that blend in with the background color
  &.transparent-edges {
    .edv-images .edv-image .edv-image-wrapper {
      background-size:contain;
      background-position:center center;
    }
  } 

  &.scrubber-disabled .scrubber {display:none;}
}

.no-backgroundsize {
  .edv {
    .edv-images {
      .edv-image-wrapper {
        top: -200%;
        display: table-cell;
        height: 500%;
        background-image: none !important;
        vertical-align: middle;

        span {
          display: inline-block;
          height: 100%;
        }

        * {
          vertical-align: middle;
        }

        img {
          display: inline;
        }
      }
    }
    &.y {
      .edv-images {
        .edv-image-wrapper {
          top: auto;
          width: 100%;
          height: auto;

          span {
            display: inline-block;
            height: auto;
            width:100%;
          }

          * {
            vertical-align: auto;
            text-align:center;
          }

          img {
            width:100%;
          }
        }
      }
    }
    &.full-bleed-edges.y {
      .edv-images {
        .edv-image-wrapper {
          left: -200%;
          top: auto;
          width: 500%;
          height: auto;
          text-align: center;
          vertical-align: auto;

          span {
            display: inline-block;
            height: auto;
            width:100%;
          }

          * {
            vertical-align: inherit;
            text-align:center;
          }

          img {
            height:100%;
            width:auto;
            min-width:20%;
          }
        }
      }
    }
  }
}

.no-borderradius {
  .edv {
    .edv-images .scrubber .handle {
      background:url('../../img/editorial-dual-viewer-e9/scrubber.png');

      .inner {visibility:hidden;}
    }
    .edv-images .scrubber .handle:hover,
    .dragging .handle {background-position:-62px 0;}
    
    &.y .edv-images .scrubber .handle {
      background-position:0 -62px;
    }
    &.y .edv-images .scrubber .handle:hover,
    &.y .dragging .handle {background-position:-62px -62px;}
  }
}

// IE7
.lt-ie8 {
  .edv {
    .edv-images .scrubber .handle {padding:0;}
  }
}

// Gray background 
.gray {
  .edv .edv-images {
    .edv-image .edv-image-wrapper {background-color:$gray80;}
  }
}