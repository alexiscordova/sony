mixin hotspotCore(hotspotData, assets)
  size = hotspotData.size
  .hspot-outer(data-x=hotspotData.coords[0],data-y=hotspotData.coords[1])
    .hspot-core
      .hspot-indicator
        img(src=assets.indicator);
    case size
      when "large"
        .overlay-base.variant1.hidden
          .top.eh-transparent
            img(src=hotspotData.image)
          .middle.eh-transparent
            h5.t6 #{hotspotData.title}
            p.p3 #{hotspotData.bodyCopy}
            - imageLeft = assets.large.arrowLeft.image
            - imageRight = assets.large.arrowRight.image
            .arrow-left-top.hidden
              img.iq-img(class=imageLeft.classes)(alt=imageLeft.alt, data-src-desktop= imageLeft.srcDesktop, data-src-tablet= imageLeft.srcTablet, data-src-phone= imageLeft.srcPhone, data-src-desktop-highres= imageLeft.srcDesktopHighRes, data-src-tablet-highres= imageLeft.srcTabletHighRes, data-src-phone-highres= imageLeft.srcPhoneHighRes)
            .arrow-left-bottom.hidden
              img.iq-img(class=imageLeft.classes)(alt=imageLeft.alt, data-src-desktop= imageLeft.srcDesktop, data-src-tablet= imageLeft.srcTablet, data-src-phone= imageLeft.srcPhone, data-src-desktop-highres= imageLeft.srcDesktopHighRes, data-src-tablet-highres= imageLeft.srcTabletHighRes, data-src-phone-highres= imageLeft.srcPhoneHighRes)
            .arrow-right-top.hidden
              img.iq-img(class=imageRight.classes)(alt=imageRight.alt, data-src-desktop= imageRight.srcDesktop, data-src-tablet= imageRight.srcTablet, data-src-phone= imageRight.srcPhone, data-src-desktop-highres= imageRight.srcDesktopHighRes, data-src-tablet-highres= imageRight.srcTabletHighRes, data-src-phone-highres= imageRight.srcPhoneHighRes)
            .arrow-right-bottom.hidden
              img.iq-img(class=imageRight.classes)(alt=imageRight.alt, data-src-desktop= imageRight.srcDesktop, data-src-tablet= imageRight.srcTablet, data-src-phone= imageRight.srcPhone, data-src-desktop-highres= imageRight.srcDesktopHighRes, data-src-tablet-highres= imageRight.srcTabletHighRes, data-src-phone-highres= imageRight.srcPhoneHighRes)
          .footer.eh-transparent
            p.p3 #{hotspotData.testimonial.copy}
            blockquote.l4 #{hotspotData.testimonial.credit}
      when "small"
        .overlay-base.variant2.hidden
          .top.eh-transparent
            img(src=hotspotData.image)
          .middle.eh-transparent
            h5.t7 #{hotspotData.title}
            p.p4 #{hotspotData.bodyCopy}
            - imageLeft = assets.small.arrowLeft.image
            - imageRight = assets.small.arrowRight.image
            .arrow-left-top.hidden
              img.iq-img(class=imageLeft.classes)(alt=imageLeft.alt, data-src-desktop= imageLeft.srcDesktop, data-src-tablet= imageLeft.srcTablet, data-src-phone= imageLeft.srcPhone, data-src-desktop-highres= imageLeft.srcDesktopHighRes, data-src-tablet-highres= imageLeft.srcTabletHighRes, data-src-phone-highres= imageLeft.srcPhoneHighRes)
            .arrow-left-bottom.hidden
              img.iq-img(class=imageLeft.classes)(alt=imageLeft.alt, data-src-desktop= imageLeft.srcDesktop, data-src-tablet= imageLeft.srcTablet, data-src-phone= imageLeft.srcPhone, data-src-desktop-highres= imageLeft.srcDesktopHighRes, data-src-tablet-highres= imageLeft.srcTabletHighRes, data-src-phone-highres= imageLeft.srcPhoneHighRes)
            .arrow-right-top.hidden
              img.iq-img(class=imageRight.classes)(alt=imageRight.alt, data-src-desktop= imageRight.srcDesktop, data-src-tablet= imageRight.srcTablet, data-src-phone= imageRight.srcPhone, data-src-desktop-highres= imageRight.srcDesktopHighRes, data-src-tablet-highres= imageRight.srcTabletHighRes, data-src-phone-highres= imageRight.srcPhoneHighRes)
            .arrow-right-bottom.hidden
              img.iq-img(class=imageRight.classes)(alt=imageRight.alt, data-src-desktop= imageRight.srcDesktop, data-src-tablet= imageRight.srcTablet, data-src-phone= imageRight.srcPhone, data-src-desktop-highres= imageRight.srcDesktopHighRes, data-src-tablet-highres= imageRight.srcTabletHighRes, data-src-phone-highres= imageRight.srcPhoneHighRes)
          .footer.eh-transparent
            p.p4 #{hotspotData.testimonial.copy}
            blockquote.l4 #{hotspotData.testimonial.credit}
        

type = data.type

section.ehs-wrapper.container.full-bleed-no-max.m-full-bleed(id=data.id)
case type
  when "full-bleed-header-left"
    .ehs.full-bleed-header-left.container
      .grid
        .span12
          .hotspot-instance
            - image = data.hotspotContainerImage.image
            img.iq-img(class=image.classes)(alt=image.alt, data-src-desktop= image.srcDesktop, data-src-tablet= image.srcTablet, data-src-phone= image.srcPhone, data-src-desktop-highres= image.srcDesktopHighRes, data-src-tablet-highres= image.srcTabletHighRes, data-src-phone-highres= image.srcPhoneHighRes)
            - assets = data.hotspots.assets
            - for hotstpot in data.hotspots.items
              +hotspotCore(hotstpot, assets)
