include ../../../common/html/jade-helpers.jade
+includeCSS('search-results')
+includeJavascriptModule('recently-viewed')


.featured-result
  h3.p3.results
    span.bold-dark #{data.results.count}
    |  Results
  form.visible-phone.select-narrow
    select
      option= data.narrowResultsPlaceholderText

  - data.view = "search-results"
  e = { "locals" : locals, "data" : data }
  !{locals.partial( 'packages/modules/product/html/product.jade', e )}

  .accessories-hd
    h4.l3= data.results.product.popularAccessoriesTitle
    .rv-module
      each slide in slides
        if slide.length > 0
          .sony-carousel-slide
            each module in slide
              d = locals.data( module.data )
              - d.view = "simple"
              e = { "locals" : locals, "data" : d }
              !{locals.partial( module.type, e )}

ul.results-list
  each item in data.results.items
    li
      a(href="#")
        .media
          .img
            +iQImage(item.image)
          .bd
            h4.lt3
              a(href= item.url)= item.headline

            if item.question
              h5.lt4.italic-hd
                a(href= item.question.url)= item.question.text

            p.p4= item.body

            if item.related
              ul.h-list.h-list-md
                each link in item.related
                  li.lt4
                    a(href= link.url)= link.text
