include ../../../common/html/jade-helpers.jade

include search-results-z07-helpers.jade
+includeCSS('search-results-z07')
+includeJavascriptModule('search-results-z07')

.search-results
  .bar-tone
    .container
      .slimgrid.no-grid-at-767
        h2.l3= data.pageTitle
        .span10.m-span6
          form.search-form
            .search-left
              label.search-label= data.searchForm.label
              input.search.t2(value= data.searchForm.searchedText)
            .search-right
              a.clear-search(href="#", tabindex='0')
                i.fonticon-10-x-skinny
        .span2.hidden-phone
          button.btn.btn-large.btn-search.hidden-phone= data.searchForm.buttonText

  .container
    .slimgrid
      .search-suggestions
        span.p3.search-correction= data.correctionText
        ul.h-list.h-list-lg
          each correction in data.corrections
            li.lt3
              a(href=correction.url)= correction.text

    .slimgrid.m-grid-at-767
      .span8.m-span6
        if data.results.count == 0
          include search-results-z07-no-results.jade
        else
          case data.results.type
            when 'category'
              include search-results-z07-category.jade
            when 'none'
              include search-results-z07-none.jade
            when 'support'
              include search-results-z07-support.jade
            default
              include search-results-z07-product.jade

          button.btn.btn-alt-special.btn-alt-plus.search-more
            span Load More
              i.fonticon-10-sm-bold-plus

      .span3.offset1.hidden-phone
        .result-sidebar
          if data.narrowResults
            mixin resultsLinkGroup(data.narrowResults)
          if data.recentSearches
            mixin resultsLinkGroup(data.recentSearches)
          if data.popularSearches && data.results.count > 0
            mixin resultsLinkGroup(data.popularSearches)

  if data.relatedSearches.length > 0
    .related-searches
      .container
        .slimgrid.footer-search.no-grid-at-767
          .span3
            h3.l3= data.relatedSearchesTitle

          mixin relatedSearchesColumn(data.relatedSearches.slice(0, 2))
          mixin relatedSearchesColumn(data.relatedSearches.slice(2, 4))
          mixin relatedSearchesColumn(data.relatedSearches.slice(4, 6))
