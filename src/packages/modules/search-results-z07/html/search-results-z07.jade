include ../../../common/html/jade-helpers.jade

include search-results-z07-helpers.jade
+includeCSS('search-results-z07')
+includeJavascriptModule('search-results-z07')

section.search-results
  .bar-tone
    .container
      .slimgrid.no-grid-at-767
        h2.l3 !{ data.pageTitle }
        .span10.m-span6
          form.search-form
            .search-left
              label.search-label !{ data.searchForm.label }
              input.search.t2(value=data.searchForm.searchedText)
            .search-right
              a.clear-search(href="#")
                i.fonticon-10-x-skinny
        .span2.hidden-phone
          button.btn.btn-large.btn-search.hidden-phone !{ data.searchForm.buttonText }

  .container
    .slimgrid
      +searchSuggestions( data )

    .slimgrid.m-grid-at-767
      .span8.m-span6
        if data.results.count == 0
          +featuredResult( data, 'no-results' )
        else
          type = data.results.type ? data.results.type : 'product'
          +featuredResult( data, type )
          +loadMore( data )


      .span3.offset1.hidden-phone
        +searchSidebar( data )

  if data.relatedSearches.length > 0
    .related-searches
      .container
        .slimgrid.footer-search.no-grid-at-767
          .span3
            h3.l3 !{ data.relatedSearchesTitle }

          mixin relatedSearchesColumn(data.relatedSearches.slice(0, 2))
          mixin relatedSearchesColumn(data.relatedSearches.slice(2, 4))
          mixin relatedSearchesColumn(data.relatedSearches.slice(4, 6))
