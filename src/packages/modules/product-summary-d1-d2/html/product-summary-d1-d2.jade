include ../../../common/html/jade-helpers.jade

section.product-summary-module.product-summary

  //- Here we're using a submodule because it has the mixins defined already in the file
  module = data.submodules[0]
  productData = locals.data(module.data)
  - productData.view = 'summary'

  - productData.collectionLabel = data.titleLink.label
  - productData.collectionHref = data.titleLink.href
  - productData.favoriteText = 'Favorite'
  - productData.shareText = 'Share'
  - productData.startingAtText = data.startingAtText
  - productData.msrp = data.msrp
  - productData.priceUnit = data.priceUnit
  - productData.buyText = data.buyText
  - productData.socialButtons = data.socialButtons

  e = { "locals" : locals, "data" : productData }
  !{locals.partial( module.type, e )}

  .container
    .grid.no-grid-at-767
      ul.jump-links.inline
        each link, i in data.internalLinks
          - clss = i ? '' : 'active'
          li(class=clss)
            a.lt3.no-hover-transition(href=link.href)= link.label


  .sticky-nav.ps-sticky-nav
    .container
      .grid.no-grid-at-767
        .span7
          .pull-left.product-img.space-right
            +iQImage( productData.imgSmall )
          .pull-left
            h2.t6.sticky-nav-title= productData.title
            ul.jump-links.inline.nav
              each link, i in data.internalLinks
                - clss = i ? '' : 'active'
                li(class=clss)
                  a.lt3.no-hover-transition(href=link.href, tabindex="-1")= link.label

        .span5
          a.btn.btn-special.pull-right(href=productData.storeLink)= data.buyText
          .text-right.pull-right.space-right
            p.p4.price-prefix= data.startingAtText
            span.p5.msrp= data.msrp
            span.p1.price
              strong.text-dark !{ data.priceUnit + productData.price }


#features(style="height:800px;background:hsl(50, 90%, 52%)")
  h2 Features
#details(style="height:800px;background:hsl(250, 90%, 52%)")
  h2 Details
#reviews(style="height:800px;background:hsl(150, 90%, 52%)")
  h2 Reviews
#accessories(style="height:800px;background:hsl(0, 90%, 52%)")
  h2 Accessories
#owners(style="height:800px;background:hsl(124, 90%, 52%)")
  h2 Owners
