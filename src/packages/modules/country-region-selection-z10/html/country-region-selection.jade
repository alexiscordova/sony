include ../../../common/html/jade-helpers.jade
+includeCSS('country-region-selection')
+includeCSS('country-region-selection-flags')
+includeJavascriptModule('country-region-selection-z10')

+mainElement( ['country-region'] )
  .continent-sticky-header.js-sticky-fixed-header
    .continent-sticky-header-title.t6.js-sticky-header-title
  div#scrollable
    div
      .container
        .grid
          .country-region-hdg
            h3.t3-bold= data.title
      .matte
        .container
          .grid

            ol.media-list.continents

              - for (i = 0; i < data.continents.length; i += 1) {
                continent = data.continents[i];

                li.t6.continent.js-sticky-headers= continent.name
                li.countries

                  div.fluid-list(data-fluid-list="desktop,tablet", rel="countryList-#{i}")
                  div.fluid-list(data-fluid-list="desktop,tablet", rel="countryList-#{i}")
                  div.fluid-list(data-fluid-list="desktop,tablet", rel="countryList-#{i}")
                  div.fluid-list(data-fluid-list="desktop", rel="countryList-#{i}")

                  ol.media-list(data-fluid-list-containers="countryList-#{i}")

                    - for (j = 0; j < continent.countries.length; j += 1) {
                      country = continent.countries[j];

                      li
                        a(href="#{country.url}").country
                          .media
                            .media-img
                              i(class="icon-flag icon-flag-#{country.icon}")
                            .media-bd= country.name
                    - }
              - }

      .container
        .grid
          .span12.country-region-info
            p.info-hd.t7-light= data.cookies_blurb.heading
            p.info-bd
              !{ data.cookies_blurb.blurb }

