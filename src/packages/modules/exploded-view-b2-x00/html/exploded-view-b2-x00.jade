include ../../../common/html/jade-helpers.jade
+includeCSS('exploded-view-b2-x00')
+includeJavascriptModule('exploded-view-b2-x00')

mixin submodule( submodule )
  +partial( submodule.type, submodule.data, true )

mixin center
  .table-center-wrap
    .table-center
      block

moduleClasses = [ "exploded-view", "full-inner" ]

+mainElement( moduleClasses )
  
  .container.title
    .grid
      .box.span12.center
        h1.t2= data.title
        p= data.subtitle

  .scene

    .scene-elements

      .container.full-bleed
        if data.submodules
          .submodule
            +submodule( data.submodules[0] )

      .container.full-bleed.inner.pieces-container
        .callout
          h3.t4= data.callout_title
        .pieces
          a.cta.no-hover-transition(href="#")
            .circle-btn.expand
              i.fonticon-10-chevron-reverse
            .circle-btn.collapse
              i.fonticon-10-chevron
          - for ( var i = 0; i < data.animation.numberDesktopPieces; i++ ) {
            +iQBackgroundImage( data.animation.imgPieces, "piece piece-" + i )
          - }

    .container.full-bleed.inner.light-text-dark-box.top.intro-container
      .grid.no-grid-at-767
        .span5
          +center
            .intro.box
              h2= data.intro_title
              p.p3= data.intro_body
          
    .container.full-bleed.inner.light-text-dark-box.detail
      .box
        .grid.no-grid-at-767
          .span4
            h3.t7= data.label1
            p.p3= data.caption1
          .span4
            h3.t7= data.label2
            p.p3= data.caption2
          .span4
            h3.t7= data.label3
            p.p3= data.caption3

.container
  .grid
    .span12
      h1 After