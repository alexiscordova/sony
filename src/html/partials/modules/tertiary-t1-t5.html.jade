---
title: Tertiary Module Template
---

//- START Tertiary Content Container
section.tcc-wrapper.container.full-bleed-no-max.m-full-bleed(id=data.id, data-tcc-mode="#{data.moduleMode}")

  for header in data.header
    .tcc-header-wrapper.container
      .tcc-header.grid.m-full-bleed
        p.tcc-header-title.l1 #{header.title}

        p.tcc-header-link.lt3
          a(href="#{header.link}") #{header.linkText}
  
  .loader
    img(src="img/global/loader.gif")

  section.tcc-scroller.tcc-body-wrapper.container.full-bleed-at-767
    .tcc-body.grid.no-grid-at-767
    
      for module in data.contentModules
        for variation in module.variations
          - textStyle   = variation.style
          - alignment   = variation.alignment
          - contentType = variation.contentType
          - contentMode = variation.contentMode

          if(contentMode == "featured") && (module.imgSrc)
            - backgroundImg = module.imgSrc
          else
            - backgroundImg = ""

        .tcc-content-module.span4.iq-img(class=contentType)(class=contentMode)(data-tcc-content-type=contentType, data-tcc-content-mode=contentMode, data-src= backgroundImg)  

          case contentType
            when "article"
              if(contentMode == "featured") && (module.title) && (module.imgSrc)
                article
                 .feature-copy
                    p.t4 #{module.title}
                    p.lt3
                      a(href="#{module.articleLink}") Read More
                
              else
                .img-container
                  .img-wrap
                    img.iq-img(alt= module.imgAltTxt, data-src= module.imgSrc)
                    noscript
                      img(src= module.noScriptImg)
                            
                    if(contentMode == "news") && (module.date)
                      p.news-date.l3
                        | #{module.date}

                    if(contentMode == "event") && (module.attendanceCount)
                      .attendance-count.ghost-center-wrap
                        .ghost-center
                          p.l4
                            span
                              | #{module.attendanceCount} 
                            | attending

              if (contentMode != "featured")
                .tcc-copy               
                  if (module.title)
                    //- title (required)
                    p.t6 
                      | #{module.title}

                  //- body copy (optional)
                  if (module.bodyCopy)
                    p.p3 #{module.bodyCopy}               

                  if (module.articleLink)
                    p.lt3
                      a(href="#{module.articleLink}")
                        | Read More
              
            when "users-voice"
              if (contentMode == "expert-quote")
                .title.l3
                  | #{module.title}

                blockquote.bq3
                  p
                    | #{module.quote}

                //- TODO: merge this with user-quote (title and  credits are only difference)
                .credits
                  .avatar
                    img.iq-img(alt= module.avatarImgAltText, data-src= module.avatarImgSrc)
                      noscript
                        img(src= module.avatarNoScriptImg)
                  
                  .author
                    p.name.l3
                      a(href="#{module.authorLink}")
                        | #{module.author}

              if (contentMode == "user-quote")
                .title.l3
                  | #{module.title}

                blockquote.bq3
                  p
                    | #{module.quote}

                .credits
                  .avatar
                    img.iq-img(alt= module.avatarImgAltText, data-src= module.avatarImgSrc)
                      noscript
                        img(src= module.avatarNoScriptImg)
                  
                  .author
                    p.handle.p4
                      a(href="#{module.authorLink}")
                        | #{module.authorHandle}

                    p.name.p4
                      | #{module.author}

              if (contentMode == "question")
                .credits
                  .avatar
                    img.iq-img(alt= module.avatarImgAltText, data-src= module.avatarImgSrc)
                      noscript
                        img(src= module.avatarNoScriptImg)
                  
                  p.author.p4
                    a(href="#{module.authorLink}")
                      | #{module.authorHandle} 
                    | #{module.title}
                
                blockquote.bq3
                  p
                    | #{module.question}

                p.lt3
                  a(href=#{module.repliesLink})
                    | See Replies

                .answer-btn
                  a.btn(href="#{module.answerLink}")
                    | Answer this Question
            
            when "sonys-voice"
              if (contentMode == "twitter")
                .fonticon-10-twitter

              if (contentMode == "facebook")
                .fonticon-10-facebook

              if (contentMode == "instagram")
                .fonticon-instagram
                  img(src="img/tertiary-t1-t5/icon-instagram.png")
                
              .meta
                for meta in module.meta                   
                  p.p4    
                    if (meta.user)
                      //- user (required)
                      span.user #{meta.user} 

                    if (meta.timestamp)
                      //- timestamp (required)
                      span.timestamp #{meta.timestamp}

              if (contentMode == "twitter")
                //- quote
                blockquote.bq4
                  p
                    | #{module.quote}

                .social-btn
                  a.btn(href="#{module.socialBtnLink}")
                    | Follow Us on Twitter

              if (contentMode == "facebook")
                //- tile
                .post-tile
                  img.iq-img(alt= module.postImgAltText, data-src= module.postImg)
                    noscript
                      img(src= module.postImgNoScriptImg)

                blockquote.post-copy.bq5
                    p
                      | #{module.postCopy}
                      a
                        | #{module.postLink}

                .social-btn
                  a.btn(href="#{module.socialBtnLink}")
                    | Like Us on Facebook

              if (contentMode == "instagram")
                .image-mat
                  .top-left
                    img.iq-img(alt= module.instagramTLImgAltText, data-src= module.instagramTLImg)
                    noscript
                      img(src= module.instagramTLNoScriptImg)

                  .top-right
                    img.iq-img(alt= module.instagramRImgAltText, data-src= module.instagramRImg)
                    noscript
                      img(src= module.instagramRNoScriptImg)

                  .bottom-left  
                    img.iq-img(alt= module.instagramBLImgAltText, data-src= module.instagramBLImg)
                    noscript
                      img(src= module.instagramBLNoScriptImg)
                  
                .social-btn
                  a.btn(href="#{module.socialBtnLink}")
                    | Follow Us on Instagram

            when "flickr"
              if (contentMode == "default")
                .fonticon-flickr
                  img(src="img/tertiary-t1-t5/icon-flickr.png")

                .meta.p4
                  for meta in module.meta        
                    | #{meta.user} #{meta.title}

                .image-mat.grid
                  - maxEachRow = 3
                  .top-row.m-grid-at-479
                    - i = 0
                    each image, i in module.images
                     if (i < maxEachRow) 
                      div.span4
                        img.iq-img(alt= image.altText, data-src= image.src)
                        noscript
                          img(src= image.noScriptSrc)
                  
                  - i = 0
                  .bottom-row
                    each image, i in module.images
                     if (i < maxEachRow) 
                      div.span4
                        img.iq-img(alt= image.altText, data-src= image.src)
                        noscript
                          img(src= image.noScriptSrc)                

                .social-btn
                  a.btn(href="#{module.socialBtnLink}")
                    | View Set on Flickr

              
//- END Tertiary Content Container